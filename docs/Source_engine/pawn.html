<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>UnCodeX - Source: Engine.Pawn</title>
	<meta name="Generator" content="UnCodeX 241" />
	<link rel="stylesheet" href="../DocStyle2.css" type="text/css" title="Original Purple" />
	<link rel="alternative stylesheet" href="../DocStyle2-blue.css" type="text/css" title="Blue" />
	<link rel="alternative stylesheet" href="../DocStyle2-red.css" type="text/css" title="Red" />
	<!--[if IE]>
	<link rel="stylesheet" href="../DocStyle2-msie.css" type="text/css" />
	<![endif]-->
	<script src="../styleswitcher.js" type="text/javascript"></script>
</head>
<body>

<div class="header">
<table class="header">
<tr class="header">
	<td class="header"><a href="../overview.html">Overview</a></td>
	<td class="header"><a href="../engine/engine-overview.html">Package</a></td>
	<td class="header"><a href="../engine/pawn.html">Class</a></td>
	<td class="header_hilight">Source</td>
	<td class="header"><a class="header" href="../classtree.html#Pawn">Class tree</a></td>
	<td class="header"><a class="header" href="../glossary_A.html">Glossary</a></td>
	<td class="logo" rowspan="2">UnrealScript<br />Documentation</td>
</tr>
<tr>
	<td class="subheader" colspan="3"><a href="../Source_engine/pathnode.html">previous class</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="../Source_engine/physicsvolume.html">next class</a></td>
	<td class="subheader" colspan="2"><a href="../index.html#Source_engine/pawn.html" target="_top">frames</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="" target="_top">no frames</a></td>
</tr>
</table>
</div>
<div class="spacer"></div>

<h1><a href="../engine/engine-overview.html">Engine</a>.<a href="../engine/pawn.html">Pawn</a></h1>
<br />
<div class="source"><table class="source"><tr><td class="source_lineno"><span class="source_lineno">00001<br />00002<br />00003<br />00004<br />00005<br />00006<br />00007<br />00008<br />00009<br />00010<br />00011<br />00012<br />00013<br />00014<br />00015<br />00016<br />00017<br />00018<br />00019<br />00020<br />
00021<br />00022<br />00023<br />00024<br />00025<br />00026<br />00027<br />00028<br />00029<br />00030<br />00031<br />00032<br />00033<br />00034<br />00035<br />00036<br />00037<br />00038<br />00039<br />00040<br />
00041<br />00042<br />00043<br />00044<br />00045<br />00046<br />00047<br />00048<br />00049<br />00050<br />00051<br />00052<br />00053<br />00054<br />00055<br />00056<br />00057<br />00058<br />00059<br />00060<br />
00061<br />00062<br />00063<br />00064<br />00065<br />00066<br />00067<br />00068<br />00069<br />00070<br />00071<br />00072<br />00073<br />00074<br />00075<br />00076<br />00077<br />00078<br />00079<br />00080<br />
00081<br />00082<br />00083<br />00084<br />00085<br />00086<br />00087<br />00088<br />00089<br />00090<br />00091<br />00092<br />00093<br />00094<br />00095<br />00096<br />00097<br />00098<br />00099<br />00100<br />
00101<br />00102<br />00103<br />00104<br />00105<br />00106<br />00107<br />00108<br />00109<br />00110<br />00111<br />00112<br />00113<br />00114<br />00115<br />00116<br />00117<br />00118<br />00119<br />00120<br />
00121<br />00122<br />00123<br />00124<br />00125<br />00126<br />00127<br />00128<br />00129<br />00130<br />00131<br />00132<br />00133<br />00134<br />00135<br />00136<br />00137<br />00138<br />00139<br />00140<br />
00141<br />00142<br />00143<br />00144<br />00145<br />00146<br />00147<br />00148<br />00149<br />00150<br />00151<br />00152<br />00153<br />00154<br />00155<br />00156<br />00157<br />00158<br />00159<br />00160<br />
00161<br />00162<br />00163<br />00164<br />00165<br />00166<br />00167<br />00168<br />00169<br />00170<br />00171<br />00172<br />00173<br />00174<br />00175<br />00176<br />00177<br />00178<br />00179<br />00180<br />
00181<br />00182<br />00183<br />00184<br />00185<br />00186<br />00187<br />00188<br />00189<br />00190<br />00191<br />00192<br />00193<br />00194<br />00195<br />00196<br />00197<br />00198<br />00199<br />00200<br />
00201<br />00202<br />00203<br />00204<br />00205<br />00206<br />00207<br />00208<br />00209<br />00210<br />00211<br />00212<br />00213<br />00214<br />00215<br />00216<br />00217<br />00218<br />00219<br />00220<br />
00221<br />00222<br />00223<br />00224<br />00225<br />00226<br />00227<br />00228<br />00229<br />00230<br />00231<br />00232<br />00233<br />00234<br />00235<br />00236<br />00237<br />00238<br />00239<br />00240<br />
00241<br />00242<br />00243<br />00244<br />00245<br />00246<br />00247<br />00248<br />00249<br />00250<br />00251<br />00252<br />00253<br />00254<br />00255<br />00256<br />00257<br />00258<br />00259<br />00260<br />
00261<br />00262<br />00263<br />00264<br />00265<br />00266<br />00267<br />00268<br />00269<br />00270<br />00271<br />00272<br />00273<br />00274<br />00275<br />00276<br />00277<br />00278<br />00279<br />00280<br />
00281<br />00282<br />00283<br />00284<br />00285<br />00286<br />00287<br />00288<br />00289<br />00290<br />00291<br />00292<br />00293<br />00294<br />00295<br />00296<br />00297<br />00298<br />00299<br />00300<br />
00301<br />00302<br />00303<br />00304<br />00305<br />00306<br />00307<br />00308<br />00309<br />00310<br />00311<br />00312<br />00313<br />00314<br />00315<br />00316<br />00317<br />00318<br />00319<br />00320<br />
00321<br />00322<br />00323<br />00324<br />00325<br />00326<br />00327<br />00328<br />00329<br />00330<br />00331<br />00332<br />00333<br />00334<br />00335<br />00336<br />00337<br />00338<br />00339<br />00340<br />
00341<br />00342<br />00343<br />00344<br />00345<br />00346<br />00347<br />00348<br />00349<br />00350<br />00351<br />00352<br />00353<br />00354<br />00355<br />00356<br />00357<br />00358<br />00359<br />00360<br />
00361<br />00362<br />00363<br />00364<br />00365<br />00366<br />00367<br />00368<br />00369<br />00370<br />00371<br />00372<br />00373<br />00374<br />00375<br />00376<br />00377<br />00378<br />00379<br />00380<br />
00381<br />00382<br />00383<br />00384<br />00385<br />00386<br />00387<br />00388<br />00389<br />00390<br />00391<br />00392<br />00393<br />00394<br />00395<br />00396<br />00397<br />00398<br />00399<br />00400<br />
00401<br />00402<br />00403<br />00404<br />00405<br />00406<br />00407<br />00408<br />00409<br />00410<br />00411<br />00412<br />00413<br />00414<br />00415<br />00416<br />00417<br />00418<br />00419<br />00420<br />
00421<br />00422<br />00423<br />00424<br />00425<br />00426<br />00427<br />00428<br />00429<br />00430<br />00431<br />00432<br />00433<br />00434<br />00435<br />00436<br />00437<br />00438<br />00439<br />00440<br />
00441<br />00442<br />00443<br />00444<br />00445<br />00446<br />00447<br />00448<br />00449<br />00450<br />00451<br />00452<br />00453<br />00454<br />00455<br />00456<br />00457<br />00458<br />00459<br />00460<br />
00461<br />00462<br />00463<br />00464<br />00465<br />00466<br />00467<br />00468<br />00469<br />00470<br />00471<br />00472<br />00473<br />00474<br />00475<br />00476<br />00477<br />00478<br />00479<br />00480<br />
00481<br />00482<br />00483<br />00484<br />00485<br />00486<br />00487<br />00488<br />00489<br />00490<br />00491<br />00492<br />00493<br />00494<br />00495<br />00496<br />00497<br />00498<br />00499<br />00500<br />
00501<br />00502<br />00503<br />00504<br />00505<br />00506<br />00507<br />00508<br />00509<br />00510<br />00511<br />00512<br />00513<br />00514<br />00515<br />00516<br />00517<br />00518<br />00519<br />00520<br />
00521<br />00522<br />00523<br />00524<br />00525<br />00526<br />00527<br />00528<br />00529<br />00530<br />00531<br />00532<br />00533<br />00534<br />00535<br />00536<br />00537<br />00538<br />00539<br />00540<br />
00541<br />00542<br />00543<br />00544<br />00545<br />00546<br />00547<br />00548<br />00549<br />00550<br />00551<br />00552<br />00553<br />00554<br />00555<br />00556<br />00557<br />00558<br />00559<br />00560<br />
00561<br />00562<br />00563<br />00564<br />00565<br />00566<br />00567<br />00568<br />00569<br />00570<br />00571<br />00572<br />00573<br />00574<br />00575<br />00576<br />00577<br />00578<br />00579<br />00580<br />
00581<br />00582<br />00583<br />00584<br />00585<br />00586<br />00587<br />00588<br />00589<br />00590<br />00591<br />00592<br />00593<br />00594<br />00595<br />00596<br />00597<br />00598<br />00599<br />00600<br />
00601<br />00602<br />00603<br />00604<br />00605<br />00606<br />00607<br />00608<br />00609<br />00610<br />00611<br />00612<br />00613<br />00614<br />00615<br />00616<br />00617<br />00618<br />00619<br />00620<br />
00621<br />00622<br />00623<br />00624<br />00625<br />00626<br />00627<br />00628<br />00629<br />00630<br />00631<br />00632<br />00633<br />00634<br />00635<br />00636<br />00637<br />00638<br />00639<br />00640<br />
00641<br />00642<br />00643<br />00644<br />00645<br />00646<br />00647<br />00648<br />00649<br />00650<br />00651<br />00652<br />00653<br />00654<br />00655<br />00656<br />00657<br />00658<br />00659<br />00660<br />
00661<br />00662<br />00663<br />00664<br />00665<br />00666<br />00667<br />00668<br />00669<br />00670<br />00671<br />00672<br />00673<br />00674<br />00675<br />00676<br />00677<br />00678<br />00679<br />00680<br />
00681<br />00682<br />00683<br />00684<br />00685<br />00686<br />00687<br />00688<br />00689<br />00690<br />00691<br />00692<br />00693<br />00694<br />00695<br />00696<br />00697<br />00698<br />00699<br />00700<br />
00701<br />00702<br />00703<br />00704<br />00705<br />00706<br />00707<br />00708<br />00709<br />00710<br />00711<br />00712<br />00713<br />00714<br />00715<br />00716<br />00717<br />00718<br />00719<br />00720<br />
00721<br />00722<br />00723<br />00724<br />00725<br />00726<br />00727<br />00728<br />00729<br />00730<br />00731<br />00732<br />00733<br />00734<br />00735<br />00736<br />00737<br />00738<br />00739<br />00740<br />
00741<br />00742<br />00743<br />00744<br />00745<br />00746<br />00747<br />00748<br />00749<br />00750<br />00751<br />00752<br />00753<br />00754<br />00755<br />00756<br />00757<br />00758<br />00759<br />00760<br />
00761<br />00762<br />00763<br />00764<br />00765<br />00766<br />00767<br />00768<br />00769<br />00770<br />00771<br />00772<br />00773<br />00774<br />00775<br />00776<br />00777<br />00778<br />00779<br />00780<br />
00781<br />00782<br />00783<br />00784<br />00785<br />00786<br />00787<br />00788<br />00789<br />00790<br />00791<br />00792<br />00793<br />00794<br />00795<br />00796<br />00797<br />00798<br />00799<br />00800<br />
00801<br />00802<br />00803<br />00804<br />00805<br />00806<br />00807<br />00808<br />00809<br />00810<br />00811<br />00812<br />00813<br />00814<br />00815<br />00816<br />00817<br />00818<br />00819<br />00820<br />
00821<br />00822<br />00823<br />00824<br />00825<br />00826<br />00827<br />00828<br />00829<br />00830<br />00831<br />00832<br />00833<br />00834<br />00835<br />00836<br />00837<br />00838<br />00839<br />00840<br />
00841<br />00842<br />00843<br />00844<br />00845<br />00846<br />00847<br />00848<br />00849<br />00850<br />00851<br />00852<br />00853<br />00854<br />00855<br />00856<br />00857<br />00858<br />00859<br />00860<br />
00861<br />00862<br />00863<br />00864<br />00865<br />00866<br />00867<br />00868<br />00869<br />00870<br />00871<br />00872<br />00873<br />00874<br />00875<br />00876<br />00877<br />00878<br />00879<br />00880<br />
00881<br />00882<br />00883<br />00884<br />00885<br />00886<br />00887<br />00888<br />00889<br />00890<br />00891<br />00892<br />00893<br />00894<br />00895<br />00896<br />00897<br />00898<br />00899<br />00900<br />
00901<br />00902<br />00903<br />00904<br />00905<br />00906<br />00907<br />00908<br />00909<br />00910<br />00911<br />00912<br />00913<br />00914<br />00915<br />00916<br />00917<br />00918<br />00919<br />00920<br />
00921<br />00922<br />00923<br />00924<br />00925<br />00926<br />00927<br />00928<br />00929<br />00930<br />00931<br />00932<br />00933<br />00934<br />00935<br />00936<br />00937<br />00938<br />00939<br />00940<br />
00941<br />00942<br />00943<br />00944<br />00945<br />00946<br />00947<br />00948<br />00949<br />00950<br />00951<br />00952<br />00953<br />00954<br />00955<br />00956<br />00957<br />00958<br />00959<br />00960<br />
00961<br />00962<br />00963<br />00964<br />00965<br />00966<br />00967<br />00968<br />00969<br />00970<br />00971<br />00972<br />00973<br />00974<br />00975<br />00976<br />00977<br />00978<br />00979<br />00980<br />
00981<br />00982<br />00983<br />00984<br />00985<br />00986<br />00987<br />00988<br />00989<br />00990<br />00991<br />00992<br />00993<br />00994<br />00995<br />00996<br />00997<br />00998<br />00999<br />01000<br />
01001<br />01002<br />01003<br />01004<br />01005<br />01006<br />01007<br />01008<br />01009<br />01010<br />01011<br />01012<br />01013<br />01014<br />01015<br />01016<br />01017<br />01018<br />01019<br />01020<br />
01021<br />01022<br />01023<br />01024<br />01025<br />01026<br />01027<br />01028<br />01029<br />01030<br />01031<br />01032<br />01033<br />01034<br />01035<br />01036<br />01037<br />01038<br />01039<br />01040<br />
01041<br />01042<br />01043<br />01044<br />01045<br />01046<br />01047<br />01048<br />01049<br />01050<br />01051<br />01052<br />01053<br />01054<br />01055<br />01056<br />01057<br />01058<br />01059<br />01060<br />
01061<br />01062<br />01063<br />01064<br />01065<br />01066<br />01067<br />01068<br />01069<br />01070<br />01071<br />01072<br />01073<br />01074<br />01075<br />01076<br />01077<br />01078<br />01079<br />01080<br />
01081<br />01082<br />01083<br />01084<br />01085<br />01086<br />01087<br />01088<br />01089<br />01090<br />01091<br />01092<br />01093<br />01094<br />01095<br />01096<br />01097<br />01098<br />01099<br />01100<br />
01101<br />01102<br />01103<br />01104<br />01105<br />01106<br />01107<br />01108<br />01109<br />01110<br />01111<br />01112<br />01113<br />01114<br />01115<br />01116<br />01117<br />01118<br />01119<br />01120<br />
01121<br />01122<br />01123<br />01124<br />01125<br />01126<br />01127<br />01128<br />01129<br />01130<br />01131<br />01132<br />01133<br />01134<br />01135<br />01136<br />01137<br />01138<br />01139<br />01140<br />
01141<br />01142<br />01143<br />01144<br />01145<br />01146<br />01147<br />01148<br />01149<br />01150<br />01151<br />01152<br />01153<br />01154<br />01155<br />01156<br />01157<br />01158<br />01159<br />01160<br />
01161<br />01162<br />01163<br />01164<br />01165<br />01166<br />01167<br />01168<br />01169<br />01170<br />01171<br />01172<br />01173<br />01174<br />01175<br />01176<br />01177<br />01178<br />01179<br />01180<br />
01181<br />01182<br />01183<br />01184<br />01185<br />01186<br />01187<br />01188<br />01189<br />01190<br />01191<br />01192<br />01193<br />01194<br />01195<br />01196<br />01197<br />01198<br />01199<br />01200<br />
01201<br />01202<br />01203<br />01204<br />01205<br />01206<br />01207<br />01208<br />01209<br />01210<br />01211<br />01212<br />01213<br />01214<br />01215<br />01216<br />01217<br />01218<br />01219<br />01220<br />
01221<br />01222<br />01223<br />01224<br />01225<br />01226<br />01227<br />01228<br />01229<br />01230<br />01231<br />01232<br />01233<br />01234<br />01235<br />01236<br />01237<br />01238<br />01239<br />01240<br />
01241<br />01242<br />01243<br />01244<br />01245<br />01246<br />01247<br />01248<br />01249<br />01250<br />01251<br />01252<br />01253<br />01254<br />01255<br />01256<br />01257<br />01258<br />01259<br />01260<br />
01261<br />01262<br />01263<br />01264<br />01265<br />01266<br />01267<br />01268<br />01269<br />01270<br />01271<br />01272<br />01273<br />01274<br />01275<br />01276<br />01277<br />01278<br />01279<br />01280<br />
01281<br />01282<br />01283<br />01284<br />01285<br />01286<br />01287<br />01288<br />01289<br />01290<br />01291<br />01292<br />01293<br />01294<br />01295<br />01296<br />01297<br />01298<br />01299<br />01300<br />
01301<br />01302<br />01303<br />01304<br />01305<br />01306<br />01307<br />01308<br />01309<br />01310<br />01311<br />01312<br />01313<br />01314<br />01315<br />01316<br />01317<br />01318<br />01319<br />01320<br />
01321<br />01322<br />01323<br />01324<br />01325<br />01326<br />01327<br />01328<br />01329<br />01330<br />01331<br />01332<br />01333<br />01334<br />01335<br />01336<br />01337<br />01338<br />01339<br />01340<br />
01341<br />01342<br />01343<br />01344<br />01345<br />01346<br />01347<br />01348<br />01349<br />01350<br />01351<br />01352<br />01353<br />01354<br />01355<br />01356<br />01357<br />01358<br />01359<br />01360<br />
01361<br />01362<br />01363<br />01364<br />01365<br />01366<br />01367<br />01368<br />01369<br />01370<br />01371<br />01372<br />01373<br />01374<br />01375<br />01376<br />01377<br />01378<br />01379<br />01380<br />
01381<br />01382<br />01383<br />01384<br />01385<br />01386<br />01387<br />01388<br />01389<br />01390<br />01391<br />01392<br />01393<br />01394<br />01395<br />01396<br />01397<br />01398<br />01399<br />01400<br />
01401<br />01402<br />01403<br />01404<br />01405<br />01406<br />01407<br />01408<br />01409<br />01410<br />01411<br />01412<br />01413<br />01414<br />01415<br />01416<br />01417<br />01418<br />01419<br />01420<br />
01421<br />01422<br />01423<br />01424<br />01425<br />01426<br />01427<br />01428<br />01429<br />01430<br />01431<br />01432<br />01433<br />01434<br />01435<br />01436<br />01437<br />01438<br />01439<br />01440<br />
01441<br />01442<br />01443<br />01444<br />01445<br />01446<br />01447<br />01448<br />01449<br />01450<br />01451<br />01452<br />01453<br />01454<br />01455<br />01456<br />01457<br />01458<br />01459<br />01460<br />
01461<br />01462<br />01463<br />01464<br />01465<br />01466<br />01467<br />01468<br />01469<br />01470<br />01471<br />01472<br />01473<br />01474<br />01475<br />01476<br />01477<br />01478<br />01479<br />01480<br />
01481<br />01482<br />01483<br />01484<br />01485<br />01486<br />01487<br />01488<br />01489<br />01490<br />01491<br />01492<br />01493<br />01494<br />01495<br />01496<br />01497<br />01498<br />01499<br />01500<br />
01501<br />01502<br />01503<br />01504<br />01505<br />01506<br />01507<br />01508<br />01509<br />01510<br />01511<br />01512<br />01513<br />01514<br />01515<br />01516<br />01517<br />01518<br />01519<br />01520<br />
01521<br />01522<br />01523<br />01524<br />01525<br />01526<br />01527<br />01528<br />01529<br />01530<br />01531<br />01532<br />01533<br />01534<br />01535<br />01536<br />01537<br />01538<br />01539<br />01540<br />
01541<br />01542<br />01543<br />01544<br />01545<br />01546<br />01547<br />01548<br />01549<br />01550<br />01551<br />01552<br />01553<br />01554<br />01555<br />01556<br />01557<br />01558<br />01559<br />01560<br />
01561<br />01562<br />01563<br />01564<br />01565<br />01566<br />01567<br />01568<br />01569<br />01570<br />01571<br />01572<br />01573<br />01574<br />01575<br />01576<br />01577<br />01578<br />01579<br />01580<br />
01581<br />01582<br />01583<br />01584<br />01585<br />01586<br />01587<br />01588<br />01589<br />01590<br />01591<br />01592<br />01593<br />01594<br />01595<br />01596<br />01597<br />01598<br />01599<br />01600<br />
01601<br />01602<br />01603<br />01604<br />01605<br />01606<br />01607<br />01608<br />01609<br />01610<br />01611<br />01612<br />01613<br />01614<br />01615<br />01616<br />01617<br />01618<br />01619<br />01620<br />
01621<br />01622<br />01623<br />01624<br />01625<br />01626<br />01627<br />01628<br />01629<br />01630<br />01631<br />01632<br />01633<br />01634<br />01635<br />01636<br />01637<br />01638<br />01639<br />01640<br />
01641<br />01642<br />01643<br />01644<br />01645<br />01646<br />01647<br />01648<br />01649<br />01650<br />01651<br />01652<br />01653<br />01654<br />01655<br />01656<br />01657<br />01658<br />01659<br />01660<br />
01661<br />01662<br />01663<br />01664<br />01665<br />01666<br />01667<br />01668<br />01669<br />01670<br />01671<br />01672<br />01673<br />01674<br />01675<br />01676<br />01677<br />01678<br />01679<br />01680<br />
01681<br />01682<br />01683<br />01684<br />01685<br />01686<br />01687<br />01688<br />01689<br />01690<br />01691<br />01692<br />01693<br />01694<br />01695<br />01696<br />01697<br />01698<br />01699<br />01700<br />
01701<br />01702<br />01703<br />01704<br />01705<br />01706<br />01707<br />01708<br />01709<br />01710<br />01711<br />01712<br />01713<br />01714<br />01715<br />01716<br />01717<br />01718<br />01719<br />01720<br />
01721<br />01722<br />01723<br />01724<br />01725<br />01726<br />01727<br />01728<br />01729<br />01730<br />01731<br />01732<br />01733<br />01734<br />01735<br />01736<br />01737<br />01738<br />01739<br />01740<br />
01741<br />01742<br />01743<br />01744<br />01745<br />01746<br />01747<br />01748<br />01749<br />01750<br />01751<br />01752<br />01753<br />01754<br />01755<br />01756<br />01757<br />01758<br />01759<br />01760<br />
01761<br />01762<br />01763<br />01764<br />01765<br />01766<br />01767<br />01768<br />01769<br />01770<br />01771<br />01772<br />01773<br />01774<br />01775<br />01776<br />01777<br />01778<br />01779<br />01780<br />
01781<br />01782<br />01783<br />01784<br />01785<br />01786<br />01787<br />01788<br />01789<br />01790<br />01791<br />01792<br />01793<br />01794<br />01795<br />01796<br />01797<br />01798<br />01799<br />01800<br />
01801<br />01802<br />01803<br />01804<br />01805<br />01806<br />01807<br />01808<br />01809<br />01810<br />01811<br />01812<br />01813<br />01814<br />01815<br />01816<br />01817<br />01818<br />01819<br />01820<br />
01821<br />01822<br />01823<br />01824<br />01825<br />01826<br />01827<br />01828<br />01829<br />01830<br />01831<br />01832<br />01833<br />01834<br />01835<br />01836<br />01837<br />01838<br />01839<br />01840<br />
01841<br />01842<br />01843<br />01844<br />01845<br />01846<br />01847<br />01848<br />01849<br />01850<br />01851<br />01852<br />01853<br />01854<br />01855<br />01856<br />01857<br />01858<br />01859<br />01860<br />
01861<br />01862<br />01863<br />01864<br />01865<br />01866<br />01867<br />01868<br />01869<br />01870<br />01871<br />01872<br />01873<br />01874<br />01875<br />01876<br />01877<br />01878<br />01879<br />01880<br />
01881<br />01882<br />01883<br />01884<br />01885<br />01886<br />01887<br />01888<br />01889<br />01890<br />01891<br />01892<br />01893<br />01894<br />01895<br />01896<br />01897<br />01898<br />01899<br />01900<br />
01901<br />01902<br />01903<br />01904<br />01905<br />01906<br />01907<br />01908<br />01909<br />01910<br />01911<br />01912<br />01913<br />01914<br />01915<br />01916<br />01917<br />01918<br />01919<br />01920<br />
01921<br />01922<br />01923<br />01924<br />01925<br />01926<br />01927<br />01928<br />01929<br />01930<br />01931<br />01932<br />01933<br />01934<br />01935<br />01936<br />01937<br />01938<br />01939<br />01940<br />
01941<br />01942<br />01943<br />01944<br />01945<br />01946<br />01947<br />01948<br />01949<br />01950<br />01951<br />01952<br />01953<br />01954<br />01955<br />01956<br />01957<br />01958<br />01959<br />01960<br />
01961<br />01962<br />01963<br />01964<br />01965<br />01966<br />01967<br />01968<br />01969<br />01970<br />01971<br />01972<br />01973<br />01974<br />01975<br />01976<br />01977<br />01978<br />01979<br />01980<br />
01981<br />01982<br />01983<br />01984<br />01985<br />01986<br />01987<br />01988<br />01989<br />01990<br />01991<br />01992<br />01993<br />01994<br />01995<br />01996<br />01997<br />01998<br />01999<br />02000<br />
02001<br />02002<br />02003<br />02004<br />02005<br />02006<br />02007<br />02008<br />02009<br />02010<br />02011<br />02012<br />02013<br />02014<br />02015<br />02016<br />02017<br />02018<br />02019<br />02020<br />
02021<br />02022<br />02023<br />02024<br />02025<br />02026<br />02027<br />02028<br />02029<br />02030<br />02031<br />02032<br />02033<br />02034<br />02035<br />02036<br />02037<br />02038<br />02039<br />02040<br />
02041<br />02042<br />02043<br />02044<br />02045<br />02046<br />02047<br />02048<br />02049<br />02050<br />02051<br />02052<br />02053<br />02054<br />02055<br />02056<br />02057<br />02058<br />02059<br />02060<br />
02061<br />02062<br />02063<br />02064<br />02065<br />02066<br />02067<br />02068<br />02069<br />02070<br />02071<br />02072<br />02073<br />02074<br />02075<br />02076<br />02077<br />02078<br />02079<br />02080<br />
02081<br />02082<br />02083<br />02084<br />02085<br />02086<br />02087<br />02088<br />02089<br />02090<br />02091<br />02092<br />02093<br />02094<br />02095<br />02096<br />02097<br />02098<br />02099<br />02100<br />
02101<br />02102<br />02103<br />02104<br />02105<br />02106<br />02107<br />02108<br />02109<br />02110<br />02111<br />02112<br />02113<br />02114<br />02115<br />02116<br />02117<br />02118<br />02119<br />02120<br />
02121<br />02122<br />02123<br />02124<br />02125<br />02126<br />02127<br />02128<br />02129<br />02130<br />02131<br />02132<br />02133<br />02134<br />02135<br />02136<br />02137<br />02138<br />02139<br />02140<br />
02141<br />02142<br />02143<br />02144<br />02145<br />02146<br />02147<br />02148<br />02149<br />02150<br />02151<br />02152<br />02153<br />02154<br />02155<br />02156<br />02157<br />02158<br />02159<br />02160<br />
02161<br />02162<br />02163<br />02164<br />02165<br />02166<br />02167<br />02168<br />02169<br />02170<br />02171<br />02172<br />02173<br />02174<br />02175<br />02176<br />02177<br />02178<br />02179<br />02180<br />
02181<br />02182<br />02183<br />02184<br />02185<br />02186<br />02187<br />02188<br />02189<br />02190<br />02191<br />02192<br />02193<br />02194<br />02195<br />02196<br />02197<br />02198<br />02199<br />02200<br />
02201<br />02202<br />02203<br />02204<br />02205<br />02206<br />02207<br />02208<br />02209<br />02210<br />02211<br />02212<br />02213<br />02214<br />02215<br />02216<br />02217<br />02218<br />02219<br />02220<br />
02221<br />02222<br />02223<br />02224<br />02225<br />02226<br />02227<br />02228<br />02229<br />02230<br />02231<br />02232<br />02233<br />02234<br />02235<br />02236<br />02237<br />02238<br />02239<br />02240<br />
02241<br />02242<br />02243<br />02244<br />02245<br />02246<br />02247<br />02248<br />02249<br />02250<br />02251<br />02252<br />02253<br />02254<br />02255<br />02256<br />02257<br />02258<br />02259<br />02260<br />
02261<br />02262<br />02263<br />02264<br />02265<br />02266<br />02267<br />02268<br />02269<br />02270<br />02271<br />02272<br />02273<br />02274<br />02275<br />02276<br />02277<br />02278<br />02279<br />02280<br />
02281<br />02282<br />02283<br />02284<br />02285<br />02286<br />02287<br />02288<br />02289<br />02290<br />02291<br />02292<br />02293<br />02294<br />02295<br />02296<br />02297<br />02298<br />02299<br />02300<br />
02301<br />02302<br />02303<br />02304<br />02305<br />02306<br />02307<br />02308<br />02309<br />02310<br />02311<br />02312<br />02313<br />02314<br />02315<br />02316<br />02317<br />02318<br />02319<br />02320<br />
02321<br />02322</span></td>
<td class="source"><pre class="source"><a name="1"></a><span class="source_comment">//=============================================================================
</span><a name="2"></a><span class="source_comment">// Pawn, the base class of all actors that can be controlled by players or AI.
</span><a name="3"></a><span class="source_comment">//
</span><a name="4"></a><span class="source_comment">// Pawns are the physical representations of players and creatures in a level.  
</span><a name="5"></a><span class="source_comment">// Pawns have a mesh, collision, and physics.  Pawns can take damage, make sounds, 
</span><a name="6"></a><span class="source_comment">// and hold weapons and other inventory.  In short, they are responsible for all 
</span><a name="7"></a><span class="source_comment">// physical interaction between the player or AI and the world.
</span><a name="8"></a><span class="source_comment">//
</span><a name="9"></a><span class="source_comment">// This is a built-in Unreal class and it shouldn't be modified.
</span><a name="10"></a><span class="source_comment">//=============================================================================
</span><a name="11"></a><span class="source_type">class</span> <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> extends <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> 
<a name="12"></a>	abstract
<a name="13"></a>	native
<a name="14"></a>	placeable
<a name="15"></a><span class="source_macro">#if IG_SHARED	// marc: AI LODding
</span><a name="16"></a>	dependsOn(<span class="source_type"><a href="../engine/tyrion_resourcebase.html" class="source">Tyrion_ResourceBase</a></span>)
<a name="17"></a><span class="source_macro">#endif
</span><a name="18"></a>	nativereplication;
<a name="19"></a>
<a name="20"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="21"></a><span class="source_comment">// Pawn variables.
</span><a name="22"></a>
<a name="23"></a>var <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>;
<a name="24"></a>
<a name="25"></a><span class="source_macro">#if IG_TRIBES3
</span><a name="26"></a>var <span class="source_type">bool</span> movementSimProxyPending;        <span class="source_comment">// true if a new replicated sim proxy position has arrived for processing
</span><a name="27"></a>var <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> movementSimProxyPosition;
<a name="28"></a>var <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> movementSimProxyVelocity;
<a name="29"></a>var <span class="source_type"><a href="../core/object.html#Rotator" class="source">Rotator</a></span> movementSimProxyRotation;
<a name="30"></a><span class="source_macro">#endif
</span><a name="31"></a>
<a name="32"></a><span class="source_macro">#if IG_TRIBES3	// place for designers to put goals/abilities
</span><a name="33"></a>var(<span class="source_type">AI</span>) editinline array&lt; <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/tyrion_goalbase.html" class="source">Tyrion_GoalBase</a></span>&gt; &gt; goals		<span class="source_string">"Goals the resource is trying to achieve"</span>;
<a name="34"></a>var(<span class="source_type">AI</span>)	editinline array&lt; <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/tyrion_actionbase.html" class="source">Tyrion_ActionBase</a></span>&gt; &gt; abilities	<span class="source_string">"The actions this resource is capable of performing"</span>;
<a name="35"></a>var <span class="source_type"><a href="../engine/tyrion_resourcebase.html" class="source">Tyrion_ResourceBase</a></span>.<span class="source_type"><a href="../engine/tyrion_resourcebase.html#AI_LOD_Levels" class="source">AI_LOD_Levels</a></span> AI_LOD_LevelOrig;	<span class="source_comment">// AI Level of detail before AI is disabled
</span><a name="36"></a><span class="source_macro">#endif
</span><a name="37"></a>
<a name="38"></a><span class="source_macro">#if IG_SHARED // marc: Tyrion resources
</span><a name="39"></a>var <span class="source_type"><a href="../engine/tyrion_resourcebase.html" class="source">Tyrion_ResourceBase</a></span> CharacterAI;
<a name="40"></a>var <span class="source_type"><a href="../engine/tyrion_resourcebase.html" class="source">Tyrion_ResourceBase</a></span> MovementAI;
<a name="41"></a>var <span class="source_type"><a href="../engine/tyrion_resourcebase.html" class="source">Tyrion_ResourceBase</a></span> WeaponAI;
<a name="42"></a>var <span class="source_type"><a href="../engine/tyrion_resourcebase.html" class="source">Tyrion_ResourceBase</a></span> HeadAI;
<a name="43"></a>var(<span class="source_type">AI</span>) <span class="source_type"><a href="../engine/tyrion_resourcebase.html" class="source">Tyrion_ResourceBase</a></span>.<span class="source_type"><a href="../engine/tyrion_resourcebase.html#AI_LOD_Levels" class="source">AI_LOD_Levels</a></span> AI_LOD_Level;	<span class="source_comment">// AI Level of detail (LOD)
</span><a name="44"></a><span class="source_macro">#endif
</span><a name="45"></a>
<a name="46"></a><span class="source_macro">#if IG_SHARED // marc: Tyrion debug
</span><a name="47"></a>var <span class="source_type">bool</span> logTyrion;									<span class="source_comment">// for debug: switch on Tyrion logs
</span><a name="48"></a>var <span class="source_type">bool</span> logDLM;									<span class="source_comment">// for debug: switch on doLocalMove logs
</span><a name="49"></a><span class="source_macro">#endif
</span><a name="50"></a>
<a name="51"></a><span class="source_macro">#if IG_TRIBES3 // marc: Navigation System debug
</span><a name="52"></a>var <span class="source_type">bool</span> logNavigationSystem;						<span class="source_comment">// for debug: switch on navigation system logs
</span><a name="53"></a><span class="source_macro">#endif
</span><a name="54"></a>
<a name="55"></a><span class="source_macro">#if IG_SHARED // crombie: for the PawnList in Level
</span><a name="56"></a><span class="source_comment">// for the PawnList in LevelInfo
</span><a name="57"></a>var transient <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>       nextPawn;
<a name="58"></a><span class="source_macro">#endif
</span><a name="59"></a>
<a name="60"></a><span class="source_comment">// cache net relevancy test
</span><a name="61"></a>var <span class="source_type">float</span> NetRelevancyTime;
<a name="62"></a>var <span class="source_type"><a href="../engine/playercontroller.html" class="source">playerController</a></span> LastRealViewer;
<a name="63"></a>var <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> LastViewer;
<a name="64"></a>
<a name="65"></a><span class="source_comment">// Physics related flags.
</span><a name="66"></a>var <span class="source_type">bool</span>		bJustLanded;		<span class="source_comment">// used by eyeheight adjustment
</span><a name="67"></a>var <span class="source_type">bool</span>		bUpAndOut;			<span class="source_comment">// used by swimming 
</span><a name="68"></a>var <span class="source_type">bool</span>		bIsWalking;			<span class="source_comment">// currently walking (can't jump, affects animations)
</span><a name="69"></a>var <span class="source_type">bool</span>		bWarping;			<span class="source_comment">// Set when travelling through warpzone (so shouldn't telefrag)
</span><a name="70"></a>var <span class="source_type">bool</span>		bWantsToCrouch;		<span class="source_comment">// if true crouched (physics will automatically reduce collision height to CrouchHeight)
</span><a name="71"></a>var const <span class="source_type">bool</span>	bIsCrouched;		<span class="source_comment">// set by physics to specify that pawn is currently crouched
</span><a name="72"></a>var const <span class="source_type">bool</span>	bTryToUncrouch;		<span class="source_comment">// when auto-crouch during movement, continually try to uncrouch
</span><a name="73"></a>var <span class="source_type">bool</span>		bCanCrouch;			<span class="source_comment">// if true, this pawn is capable of crouching
</span><a name="74"></a>var <span class="source_type">bool</span>		bCrawler;			<span class="source_comment">// crawling - pitch and roll based on surface pawn is on
</span><a name="75"></a>var const <span class="source_type">bool</span>	bReducedSpeed;		<span class="source_comment">// used by movement natives
</span><a name="76"></a>var <span class="source_type">bool</span>		bJumpCapable;
<a name="77"></a>var	<span class="source_type">bool</span>		bCanJump;			<span class="source_comment">// movement capabilities - used by AI
</span><a name="78"></a>var	<span class="source_type">bool</span> 		bCanWalk;
<a name="79"></a>var	<span class="source_type">bool</span>		bCanSwim;
<a name="80"></a>var	<span class="source_type">bool</span>		bCanFly;
<a name="81"></a>var	<span class="source_type">bool</span>		bCanClimbLadders;
<a name="82"></a>var	<span class="source_type">bool</span>		bCanStrafe;
<a name="83"></a>var	<span class="source_type">bool</span>		bCanDoubleJump;
<a name="84"></a>var	<span class="source_type">bool</span>		bAvoidLedges;		<span class="source_comment">// don't get too close to ledges
</span><a name="85"></a>var	<span class="source_type">bool</span>		bStopAtLedges;		<span class="source_comment">// if bAvoidLedges and bStopAtLedges, Pawn doesn't try to walk along the edge at all
</span><a name="86"></a>var	<span class="source_type">bool</span>		bNoJumpAdjust;		<span class="source_comment">// set to tell controller not to modify velocity of a jump/fall	
</span><a name="87"></a>var	<span class="source_type">bool</span>		bCountJumps;		<span class="source_comment">// if true, inventory wants message whenever this pawn jumps
</span><a name="88"></a>var const <span class="source_type">bool</span>	bSimulateGravity;	<span class="source_comment">// simulate gravity for this pawn on network clients when predicting position (true if pawn is walking or falling)
</span><a name="89"></a>var	<span class="source_type">bool</span>		bUpdateEyeHeight;	<span class="source_comment">// if true, UpdateEyeheight will get called every tick
</span><a name="90"></a>var	<span class="source_type">bool</span>		bIgnoreForces;		<span class="source_comment">// if true, not affected by external forces
</span><a name="91"></a>var const <span class="source_type">bool</span>	bNoVelocityUpdate;	<span class="source_comment">// used by C++ physics
</span><a name="92"></a>var	<span class="source_type">bool</span>		bCanWalkOffLedges;	<span class="source_comment">// Can still fall off ledges, even when walking (for Player Controlled pawns)
</span><a name="93"></a>var <span class="source_type">bool</span>		bSteadyFiring;		<span class="source_comment">// used for third person weapon anims/effects
</span><a name="94"></a>var <span class="source_type">bool</span>		bCanBeBaseForPawns;	<span class="source_comment">// all your 'base', are belong to us
</span><a name="95"></a>var <span class="source_type">bool</span>		bClientCollision;	<span class="source_comment">// used on clients when temporarily turning off collision
</span><a name="96"></a>var const <span class="source_type">bool</span>	bSimGravityDisabled;	<span class="source_comment">// used on network clients
</span><a name="97"></a>var <span class="source_type">bool</span>		bDirectHitWall;		<span class="source_comment">// always call pawn hitwall directly (no controller notifyhitwall)
</span><a name="98"></a>
<a name="99"></a><span class="source_comment">// Does this pawn Collision Cylinder collide with Havok and generate events? Will create a Havok Character Control proxy if so.
</span><a name="100"></a>var(Havok) <span class="source_type">bool</span> bHavokCharacterCollisions <span class="source_string">"If true this pawn's bones will collide with Havok objects, push them out of the way, and generate collision events."</span>;
<a name="101"></a>var const transient <span class="source_type">bool</span> bHavokInitCalled; <span class="source_comment">// internal check
</span><a name="102"></a><span class="source_comment">// radius of Havok proxy 0.02 (1/50) extra than that of Unreal to allow Havok first go ;)
</span><a name="103"></a>var(Havok) <span class="source_type">float</span> bHavokCharacterCollisionExtraRadius <span class="source_string">"How much larger than the Unreal collision cylinder should the Havok collision cylinder be? Default is 1, which is enough to ensure that Havok can respond to collisions before Unreal does.\r\n\r\nWARNING: must be in Unreal units, not meters (1 Unreal unit == 1/50 meter)"</span>; 
<a name="104"></a>
<a name="105"></a><span class="source_comment">// used by dead pawns (for bodies landing and changing collision box)
</span><a name="106"></a>var		<span class="source_type">bool</span>	bThumped;		
<a name="107"></a>var		<span class="source_type">bool</span>	bInvulnerableBody;
<a name="108"></a>
<a name="109"></a><span class="source_comment">// AI related flags
</span><a name="110"></a><span class="source_macro">#if IG_TRIBES3 // Paul: Exposed to UnrealEd for single player characters
</span><a name="111"></a>var(<span class="source_type"><a href="../gameplay/singleplayercharacter.html" class="source">SinglePlayerCharacter</a></span>)		<span class="source_type">bool</span>	bIsFemale;
<a name="112"></a><span class="source_macro">#else
</span><a name="113"></a>var		<span class="source_type">bool</span>	bIsFemale;
<a name="114"></a><span class="source_macro">#endif
</span><a name="115"></a>
<a name="116"></a><span class="source_comment">//var		bool	bAutoActivate;			// if true, automatically activate Powerups which have their bAutoActivate==true
</span><a name="117"></a><span class="source_comment">//var		bool	bCanPickupInventory;	// if true, will pickup inventory when touching pickup actors
</span><a name="118"></a>var		<span class="source_type">bool</span>	bUpdatingDisplay;		<span class="source_comment">// to avoid infinite recursion through inventory setdisplay
</span><a name="119"></a>var		<span class="source_type">bool</span>	bAmbientCreature;		<span class="source_comment">// AIs will ignore me
</span><a name="120"></a>var		<span class="source_type">bool</span>	bLOSHearing;			<span class="source_comment">// can hear sounds from line-of-sight sources (which are close enough to hear)
</span><a name="121"></a>										<span class="source_comment">// bLOSHearing=true is like UT/Unreal hearing
</span><a name="122"></a>var		<span class="source_type">bool</span>	bSameZoneHearing;		<span class="source_comment">// can hear any sound in same zone (if close enough to hear)
</span><a name="123"></a>var		<span class="source_type">bool</span>	bAdjacentZoneHearing;	<span class="source_comment">// can hear any sound in adjacent zone (if close enough to hear)
</span><a name="124"></a>var		<span class="source_type">bool</span>	bMuffledHearing;		<span class="source_comment">// can hear sounds through walls (but muffled - sound distance increased to double plus 4x the distance through walls
</span><a name="125"></a><span class="source_comment">//var(AI) bool	bAroundCornerHearing;	// Hear sounds around one corner (slightly more expensive, and bLOSHearing must also be true)
</span><a name="126"></a>var		<span class="source_type">bool</span>	bDontPossess;			<span class="source_comment">// if true, Pawn won't be possessed at game start
</span><a name="127"></a><span class="source_comment">//var		bool	bAutoFire;				// used for third person weapon anims/effects
</span><a name="128"></a>var		<span class="source_type">bool</span>	bRollToDesired;			<span class="source_comment">// Update roll when turning to desired rotation (normally false)
</span><a name="129"></a><span class="source_comment">//var		bool	bIgnorePlayFiring;		// if true, ignore the next PlayFiring() call (used by AnimNotify_FireWeapon)
</span><a name="130"></a>
<a name="131"></a>var		<span class="source_type">bool</span>	bCachedRelevant;		<span class="source_comment">// network relevancy caching flag
</span><a name="132"></a>var		<span class="source_type">bool</span>	bUseCompressedPosition;	<span class="source_comment">// use compressed position in networking - true unless want to replicate roll, or very high velocities
</span><a name="133"></a>var		<span class="source_type">bool</span>	bWeaponBob;
<a name="134"></a>var     <span class="source_type">bool</span>    bHideRegularHUD;
<a name="135"></a>var		<span class="source_type">bool</span>	bSpecialHUD;
<a name="136"></a>var		<span class="source_type">bool</span>    bSpecialCalcView;		<span class="source_comment">// If true, the Controller controlling this pawn will call 'SpecialCalcView' to find camera pos.
</span><a name="137"></a>var		<span class="source_type">bool</span>	bNoWeaponFiring;
<a name="138"></a>var		<span class="source_type">bool</span>	bIsTyping; 
<a name="139"></a>
<a name="140"></a><span class="source_macro">#if IG_TRIBES3 // Ryan: true if this pawn could see on the previous tick
</span><a name="141"></a>var		<span class="source_type">bool</span>	bCouldSeeLastTick;
<a name="142"></a><span class="source_macro">#endif // IG
</span><a name="143"></a>
<a name="144"></a><span class="source_macro">#if IG_TRIBES3 // Alex: allows pathfinding system to differentiate between pawns that should be considered
</span><a name="145"></a>		<span class="source_comment">// obstructions to ground navigation, base devices for example, and those that should not,
</span><a name="146"></a>		<span class="source_comment">// characters for example
</span><a name="147"></a>var	<span class="source_type">bool</span> bGroundNavigationObstruction;
<a name="148"></a><span class="source_macro">#endif
</span><a name="149"></a>
<a name="150"></a><span class="source_comment">//var		byte	FlashCount;				// used for third person weapon anims/effects
</span><a name="151"></a><span class="source_comment">// AI basics.
</span><a name="152"></a>var 	<span class="source_type">byte</span>	Visibility;			<span class="source_comment">//How visible is the pawn? 0=invisible, 128=normal, 255=highly visible 
</span><a name="153"></a>var		<span class="source_type">float</span>	<span class="source_type">DesiredSpeed</span>;
<a name="154"></a><span class="source_comment">//var		float	MaxDesiredSpeed;
</span><a name="155"></a>var		<span class="source_type">name</span>	AIScriptTag;		<span class="source_comment">// tag of AIScript which should be associated with this pawn
</span><a name="156"></a>var		<span class="source_type">float</span>	HearingThreshold;	<span class="source_comment">// max distance at which a makenoise(1.0) loudness sound can be heard
</span><a name="157"></a>var		<span class="source_type">float</span>	Alertness;			<span class="source_comment">// -1 to 1 -&gt;Used within specific states for varying reaction to stimuli 
</span><a name="158"></a>var(<span class="source_type">AI</span>)	<span class="source_type">float</span>	SightRadius;		<span class="source_comment">// Maximum seeing distance.
</span><a name="159"></a>var(<span class="source_type">AI</span>)	<span class="source_type">float</span>	PeripheralVision;	<span class="source_comment">// Cosine of limits of peripheral vision.
</span><a name="160"></a><span class="source_comment">//var()	float	SkillModifier;			// skill modifier (same scale as game difficulty)	
</span><a name="161"></a>var const <span class="source_type">float</span>	AvgPhysicsTime;		<span class="source_comment">// Physics updating time monitoring (for AI monitoring reaching destinations)
</span><a name="162"></a>var		<span class="source_type">float</span>	MeleeRange;			<span class="source_comment">// Max range for melee attack (not including collision radii)
</span><a name="163"></a>var <span class="source_type"><a href="../engine/navigationpoint.html" class="source">NavigationPoint</a></span> Anchor;			<span class="source_comment">// current nearest path;
</span><a name="164"></a>var const <span class="source_type"><a href="../engine/navigationpoint.html" class="source">NavigationPoint</a></span> LastAnchor;		<span class="source_comment">// recent nearest path
</span><a name="165"></a><span class="source_comment">//var		float	FindAnchorFailedTime;	// last time a FindPath() attempt failed to find an anchor.
</span><a name="166"></a>var		<span class="source_type">float</span>	LastValidAnchorTime;	<span class="source_comment">// last time a valid anchor was found
</span><a name="167"></a>var		<span class="source_type">float</span>	DestinationOffset;	<span class="source_comment">// used to vary destination over NavigationPoints
</span><a name="168"></a><span class="source_comment">//var		float	NextPathRadius;		// radius of next path in route
</span><a name="169"></a><span class="source_comment">//var		vector	SerpentineDir;		// serpentine direction
</span><a name="170"></a>var		<span class="source_type">float</span>	SerpentineDist;
<a name="171"></a>var		<span class="source_type">float</span>	SerpentineTime;		<span class="source_comment">// how long to stay straight before strafing again
</span><a name="172"></a>var const <span class="source_type">float</span>	UncrouchTime;		<span class="source_comment">// when auto-crouch during movement, continually try to uncrouch once this decrements to zero
</span><a name="173"></a>var		<span class="source_type">float</span>	SpawnTime;
<a name="174"></a>
<a name="175"></a><span class="source_macro">#if IG_SHARED
</span><a name="176"></a>var const <span class="source_type">float</span> VisionCounter;      <span class="source_comment">// when the VisionCounter &lt; 0, we look for other pawns
</span><a name="177"></a>var     <span class="source_type"><a href="../core/object.html#Range" class="source">Range</a></span>   VisionUpdateRange;  <span class="source_comment">// min and max time that will be used to make a random VisionCounterTime
</span><a name="178"></a><span class="source_macro">#endif
</span><a name="179"></a>
<a name="180"></a><span class="source_comment">// Movement.
</span><a name="181"></a>var <span class="source_type">float</span>   GroundSpeed;    <span class="source_comment">// The maximum ground speed.
</span><a name="182"></a>var <span class="source_type">float</span>   WaterSpeed;     <span class="source_comment">// The maximum swimming speed.
</span><a name="183"></a>var <span class="source_type">float</span>   AirSpeed;		<span class="source_comment">// The maximum flying speed.
</span><a name="184"></a>var <span class="source_type">float</span>	LadderSpeed;	<span class="source_comment">// Ladder climbing speed
</span><a name="185"></a>var <span class="source_type">float</span>	AccelRate;		<span class="source_comment">// max acceleration rate
</span><a name="186"></a>var <span class="source_type">float</span>	JumpZ;      	<span class="source_comment">// vertical acceleration w/ jump
</span><a name="187"></a>var <span class="source_type">float</span>   AirControl;		<span class="source_comment">// amount of AirControl available to the pawn
</span><a name="188"></a>var <span class="source_type">float</span>	WalkingPct;		<span class="source_comment">// pct. of running speed that walking speed is
</span><a name="189"></a>var <span class="source_type">float</span>	CrouchedPct;	<span class="source_comment">// pct. of running speed that crouched walking speed is
</span><a name="190"></a>var <span class="source_type">float</span>	MaxFallSpeed;	<span class="source_comment">// max speed pawn can land without taking damage (also limits what paths AI can use)
</span><a name="191"></a>var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>	ConstantAcceleration;	<span class="source_comment">// acceleration added to pawn when falling
</span><a name="192"></a>
<a name="193"></a><span class="source_comment">// Player info.
</span><a name="194"></a>var	<span class="source_type">string</span>			OwnerName;		<span class="source_comment">// Name of owning player (for save games, coop)
</span><a name="195"></a><span class="source_comment">//var travel Weapon	Weapon;			// The pawn's current weapon.
</span><a name="196"></a><span class="source_comment">//var Weapon			PendingWeapon;	// Will become weapon once current weapon is put down
</span><a name="197"></a><span class="source_comment">//var travel Powerups	SelectedItem;	// currently selected inventory item
</span><a name="198"></a>var <span class="source_type">float</span>      		BaseEyeHeight; 	<span class="source_comment">// Base eye height above collision center.
</span><a name="199"></a>var <span class="source_type">float</span>        	EyeHeight;     	<span class="source_comment">// Current eye height, adjusted for bobbing and stairs.
</span><a name="200"></a>var	const <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>	Floor;			<span class="source_comment">// Normal of floor pawn is standing on (only used by PHYS_Spider and PHYS_Walking)
</span><a name="201"></a>var <span class="source_type">float</span>			SplashTime;		<span class="source_comment">// time of last splash
</span><a name="202"></a>var <span class="source_type">float</span>			CrouchHeight;	<span class="source_comment">// CollisionHeight when crouching
</span><a name="203"></a>var <span class="source_type">float</span>			CrouchRadius;	<span class="source_comment">// CollisionRadius when crouching
</span><a name="204"></a>var <span class="source_type">float</span>			OldZ;			<span class="source_comment">// Old Z Location - used for eyeheight smoothing
</span><a name="205"></a>var <span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span>	HeadVolume;		<span class="source_comment">// physics volume of head
</span><a name="206"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="207"></a>var () travel <span class="source_type">float</span>	Health;
<a name="208"></a><span class="source_macro">#else
</span><a name="209"></a>var () travel <span class="source_type">int</span>      Health;         <span class="source_comment">// Health: 100 = normal maximum
</span><a name="210"></a><span class="source_macro">#endif
</span><a name="211"></a>var	<span class="source_type">float</span>			BreathTime;		<span class="source_comment">// used for getting BreathTimer() messages (for no air, etc.)
</span><a name="212"></a>var <span class="source_type">float</span>			UnderWaterTime; <span class="source_comment">// how much time pawn can go without air (in seconds)
</span><a name="213"></a>var	<span class="source_type">float</span>			LastPainTime;	<span class="source_comment">// last time pawn played a takehit animation (updated in PlayHit())
</span><a name="214"></a>var <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; ReducedDamageType; <span class="source_comment">// which damagetype this creature is protected from (used by AI)
</span><a name="215"></a>var <span class="source_type">float</span>			HeadScale;
<a name="216"></a>
<a name="217"></a><span class="source_comment">// Sound and noise management
</span><a name="218"></a><span class="source_comment">// remember location and position of last noises propagated
</span><a name="219"></a>var const 	<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> 		noise1spot;
<a name="220"></a>var const 	<span class="source_type">float</span> 		noise1time;
<a name="221"></a>var const	<span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>		noise1other;
<a name="222"></a>var const	<span class="source_type">float</span>		noise1loudness;
<a name="223"></a>var const 	<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> 		noise2spot;
<a name="224"></a>var const 	<span class="source_type">float</span> 		noise2time;
<a name="225"></a>var const	<span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>		noise2other;
<a name="226"></a>var const	<span class="source_type">float</span>		noise2loudness;
<a name="227"></a>var			<span class="source_type">float</span>		LastPainSound;
<a name="228"></a>
<a name="229"></a><span class="source_comment">// view bob
</span><a name="230"></a>var				<span class="source_type">float</span>	Bob;
<a name="231"></a>var				<span class="source_type">float</span>	LandBob, AppliedBob;
<a name="232"></a>var				<span class="source_type">float</span>	bobtime;
<a name="233"></a>var				<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>	WalkBob;
<a name="234"></a>
<a name="235"></a>var <span class="source_type">float</span> SoundDampening;
<a name="236"></a>var <span class="source_type">float</span> DamageScaling;
<a name="237"></a>
<a name="238"></a>var localized  <span class="source_type">string</span> MenuName; <span class="source_comment">// Name used for this pawn type in menus (e.g. player selection) 
</span><a name="239"></a>
<a name="240"></a><span class="source_comment">// shadow decal
</span><a name="241"></a>var <span class="source_type"><a href="../engine/shadowprojector.html" class="source">ShadowProjector</a></span> Shadow;
<a name="242"></a>
<a name="243"></a><span class="source_comment">// blood effect
</span><a name="244"></a>var <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/effects.html" class="source">Effects</a></span>&gt; BloodEffect;
<a name="245"></a>var <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/effects.html" class="source">Effects</a></span>&gt; LowGoreBlood;
<a name="246"></a>
<a name="247"></a><span class="source_macro">#if IG_TRIBES3 // marc: used to determine if Tyrion structures should be initialized for this pawn
</span><a name="248"></a>var(<span class="source_type">AI</span>) <span class="source_type">string</span> ControllerClassName;	<span class="source_comment">// used to specify which controller class should be spawned for this pawn
</span><a name="249"></a>									<span class="source_comment">// must be set to "Tyrion.AI_Controller" for pawns controlled by Tyrion
</span><a name="250"></a>									<span class="source_comment">// set to None for player controlled pawns - login function sets the controller 
</span><a name="251"></a><span class="source_macro">#else
</span><a name="252"></a>var <span class="source_type">class</span>&lt;AIController&gt; ControllerClass;	<span class="source_comment">// default class to use when pawn is controlled by AI (can be modified by an AIScript)
</span><a name="253"></a><span class="source_macro">#endif
</span><a name="254"></a>
<a name="255"></a>var <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>;
<a name="256"></a>
<a name="257"></a>var <span class="source_type"><a href="../engine/laddervolume.html" class="source">LadderVolume</a></span> OnLadder;		<span class="source_comment">// ladder currently being climbed
</span><a name="258"></a>
<a name="259"></a>var <span class="source_type">name</span> LandMovementState;		<span class="source_comment">// PlayerControllerState to use when moving on land or air
</span><a name="260"></a>var <span class="source_type">name</span> WaterMovementState;	<span class="source_comment">// PlayerControllerState to use when moving in water
</span><a name="261"></a>
<a name="262"></a>var <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> LastStartSpot;	<span class="source_comment">// used to avoid spawn camping
</span><a name="263"></a>var <span class="source_type">float</span> LastStartTime;
<a name="264"></a>
<a name="265"></a><span class="source_comment">// Animation status
</span><a name="266"></a>var <span class="source_type">name</span> AnimAction;			<span class="source_comment">// use for replicating anims 
</span><a name="267"></a>
<a name="268"></a><span class="source_comment">// Animation updating by physics FIXME - this should be handled as an animation object
</span><a name="269"></a><span class="source_comment">// Note that animation channels 2 through 11 are used for animation updating
</span><a name="270"></a>var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> TakeHitLocation;		<span class="source_comment">// location of last hit (for playing hit/death anims)
</span><a name="271"></a>var <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; HitDamageType;	<span class="source_comment">// damage type of last hit (for playing hit/death anims)
</span><a name="272"></a>var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> TearOffMomentum;		<span class="source_comment">// momentum to apply when torn off (bTearOff == true)
</span><a name="273"></a>var <span class="source_type">bool</span> bPhysicsAnimUpdate;	
<a name="274"></a>var <span class="source_type">bool</span> bWasCrouched;
<a name="275"></a>var <span class="source_type">bool</span> bWasWalking;
<a name="276"></a>var <span class="source_type">bool</span> bWasOnGround;
<a name="277"></a>var <span class="source_type">bool</span> bInitializeAnimation;
<a name="278"></a>var <span class="source_type">bool</span> bPlayedDeath;
<a name="279"></a>var <span class="source_type"><a href="../engine/actor.html#EPhysics" class="source">EPhysics</a></span> OldPhysics;
<a name="280"></a>var <span class="source_type">float</span> OldRotYaw;			<span class="source_comment">// used for determining if pawn is turning
</span><a name="281"></a>var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> OldAcceleration;
<a name="282"></a>var <span class="source_type">float</span> BaseMovementRate;		<span class="source_comment">// FIXME - temp - used for scaling movement
</span><a name="283"></a>var <span class="source_type">name</span> MovementAnims[<span class="source_int">4</span>];		<span class="source_comment">// Forward, Back, Left, Right
</span><a name="284"></a>var <span class="source_type">name</span> TurnLeftAnim;
<a name="285"></a>var <span class="source_type">name</span> TurnRightAnim;			<span class="source_comment">// turning anims when standing in place (scaled by turn speed)
</span><a name="286"></a>var(AnimTweaks) <span class="source_type">float</span> BlendChangeTime;	<span class="source_comment">// time to blend between movement animations
</span><a name="287"></a>var <span class="source_type">float</span> MovementBlendStartTime;	<span class="source_comment">// used for delaying the start of run blending
</span><a name="288"></a>var <span class="source_type">float</span> ForwardStrafeBias;	<span class="source_comment">// bias of strafe blending in forward direction
</span><a name="289"></a>var <span class="source_type">float</span> BackwardStrafeBias;	<span class="source_comment">// bias of strafe blending in backward direction
</span><a name="290"></a>
<a name="291"></a>var transient <span class="source_type"><a href="../core/object.html#CompressedPosition" class="source">CompressedPosition</a></span> PawnPosition;
<a name="292"></a>
<a name="293"></a><span class="source_macro">#if IG_SHARED // ckline: notifications upon Pawn death and Actor destruction
</span><a name="294"></a>var private const <span class="source_type">bool</span> bNotifiedDeathListeners; <span class="source_comment">// have listeners been notified that this pawn died?
</span><a name="295"></a><span class="source_macro">#endif
</span><a name="296"></a>
<a name="297"></a><span class="source_macro">#if IG_TRIBES3 // Ryan: Should send damage messages
</span><a name="298"></a>var() <span class="source_type">bool</span> bSendsDamagedMessages;
<a name="299"></a><span class="source_macro">#endif
</span><a name="300"></a>
<a name="301"></a>replication
<a name="302"></a>{
<a name="303"></a>	<span class="source_comment">// Variables the server should send to the client.
</span><a name="304"></a>	reliable if( bNetDirty && (Role==ROLE_Authority) )
<a name="305"></a>        bSimulateGravity, bIsCrouched, bIsWalking, bIsTyping, <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>, AnimAction, HitDamageType, TakeHitLocation,HeadScale;
<a name="306"></a>	reliable if( bTearOff && bNetDirty && (Role==ROLE_Authority) )
<a name="307"></a>		TearOffMomentum;	
<a name="308"></a>	reliable if ( bNetDirty && !bNetOwner && (Role==ROLE_Authority) ) 
<a name="309"></a>		bSteadyFiring;
<a name="310"></a>	reliable if( bNetDirty && bNetOwner && Role==ROLE_Authority )
<a name="311"></a>         <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>, GroundSpeed, WaterSpeed, AirSpeed, AccelRate, JumpZ, AirControl;
<a name="312"></a>	reliable if( bNetDirty && Role==ROLE_Authority )
<a name="313"></a>         Health;
<a name="314"></a>    unreliable if ( !bNetOwner && Role==ROLE_Authority )
<a name="315"></a>		PawnPosition;
<a name="316"></a>
<a name="317"></a>	<span class="source_comment">// replicated functions sent to server by owning client
</span><a name="318"></a><span class="source_comment">//	reliable if( Role&lt;ROLE_Authority )
</span><a name="319"></a><span class="source_comment">//		ServerChangedWeapon;
</span><a name="320"></a>}
<a name="321"></a>
<a name="322"></a><span class="source_comment">// Havok character collision event
</span><a name="323"></a>struct <span class="source_type"><a href="../engine/pawn.html#HavokCharacterObjectInteractionEvent" class="source">HavokCharacterObjectInteractionEvent</a></span>
<a name="324"></a>{
<a name="325"></a>	var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>  <span class="source_type">Position</span>;
<a name="326"></a>	var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>  Normal;
<a name="327"></a>	var <span class="source_type">float</span>   ObjectImpulse;
<a name="328"></a>	var <span class="source_type">float</span>   Timestep;
<a name="329"></a>	var <span class="source_type">float</span>	ProjectedVelocity;
<a name="330"></a>	var <span class="source_type">float</span>	ObjectMassInv;
<a name="331"></a>	var <span class="source_type">float</span>	CharacterMassInv;
<a name="332"></a>	var <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>	Body;
<a name="333"></a>};
<a name="334"></a>
<a name="335"></a><span class="source_comment">// Havok character collision output
</span><a name="336"></a>struct <span class="source_type"><a href="../engine/pawn.html#HavokCharacterObjectInteractionResult" class="source">HavokCharacterObjectInteractionResult</a></span>
<a name="337"></a>{
<a name="338"></a>	var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>  ObjectImpulse;
<a name="339"></a>	var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>  ImpulsePosition;
<a name="340"></a>	var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>  CharacterImpulse;
<a name="341"></a>};
<a name="342"></a>
<a name="343"></a><span class="source_macro">#if IG_SHARED
</span><a name="344"></a><span class="source_comment">// for the PawnList
</span><a name="345"></a>native <span class="source_type">function</span> AddPawn();
<a name="346"></a>native <span class="source_type">function</span> RemovePawn();
<a name="347"></a>
<a name="348"></a>final <span class="source_type">function</span> NotifyKilled(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> Killer, <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> Killed, <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> <span class="source_type">Other</span>)
<a name="349"></a>{
<a name="350"></a>	<span class="source_comment">// notify the controller (just in case -- SWAT is not using the controller)
</span><a name="351"></a>	if (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None)
<a name="352"></a>	{
<a name="353"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.NotifyKilled(Killer, Killed, <span class="source_type">Other</span>);
<a name="354"></a>	}
<a name="355"></a>}
<a name="356"></a>
<a name="357"></a>native <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> GetViewDirection();
<a name="358"></a>native <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> GetViewPoint();
<a name="359"></a>
<a name="360"></a><span class="source_macro">#if IG_TRIBES3 // Alex: 
</span><a name="361"></a><span class="source_type">function</span> classConstruct()
<a name="362"></a>{
<a name="363"></a>	bGroundNavigationObstruction = false;
<a name="364"></a>}
<a name="365"></a><span class="source_macro">#endif
</span><a name="366"></a>
<a name="367"></a>event <span class="source_type">bool</span> IgnoresSeenPawnsOfType(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>&gt; SeenType)
<a name="368"></a>{
<a name="369"></a>    <span class="source_comment">// we don't ignore anyone;
</span><a name="370"></a>    return false;
<a name="371"></a>}
<a name="372"></a>
<a name="373"></a>native <span class="source_type">function</span> <span class="source_type">bool</span> CanSee(<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span>);
<a name="374"></a><span class="source_macro">#endif
</span><a name="375"></a>
<a name="376"></a><span class="source_comment">// return true if you want to change the deafult output as given in res, based on the input data
</span><a name="377"></a><span class="source_comment">// by default, just do whatever Havok thinks is best, so we can actually just return false.
</span><a name="378"></a>simulated event <span class="source_type">bool</span> HavokCharacterCollision(<span class="source_type"><a href="../engine/pawn.html#HavokCharacterObjectInteractionEvent" class="source">HavokCharacterObjectInteractionEvent</a></span> <span class="source_type">data</span>, out <span class="source_type"><a href="../engine/pawn.html#HavokCharacterObjectInteractionResult" class="source">HavokCharacterObjectInteractionResult</a></span> res)
<a name="379"></a>{
<a name="380"></a>	return false;
<a name="381"></a>}
<a name="382"></a>
<a name="383"></a>simulated event SetHeadScale(<span class="source_type">float</span> NewScale);
<a name="384"></a>
<a name="385"></a>native <span class="source_type">function</span> <span class="source_type">bool</span> ReachedDestination(<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Goal</span>);
<a name="386"></a>native <span class="source_type">function</span> ForceCrouch();
<a name="387"></a>
<a name="388"></a><span class="source_macro">#if !IG_TRIBES3	// rowan: we don't use this
</span><a name="389"></a>simulated <span class="source_type">function</span> <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> GetDemoRecordingWeapon()
<a name="390"></a>{
<a name="391"></a>	local <span class="source_type">inventory</span> Inv;
<a name="392"></a>	
<a name="393"></a>	for ( Inv=<span class="source_type">Inventory</span>; Inv!=None; Inv=Inv.<span class="source_type">Inventory</span> )
<a name="394"></a>	{
<a name="395"></a>		if ( (<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>(Inv) != None) && (Inv.ThirdPersonActor != None) )
<a name="396"></a>		{
<a name="397"></a>			<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> = <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>(Inv);
<a name="398"></a>			PendingWeapon = <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>;
<a name="399"></a>			<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.bSpectated = true;
<a name="400"></a>			break;
<a name="401"></a>		}
<a name="402"></a>	}
<a name="403"></a>	return <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>;
<a name="404"></a>}
<a name="405"></a><span class="source_macro">#endif
</span><a name="406"></a>
<a name="407"></a><span class="source_comment">/* Reset() 
<a name="408"></a>reset actor to initial state - used when restarting level without reloading.
<a name="409"></a>*/</span>
<a name="410"></a><span class="source_type">function</span> <span class="source_type">Reset</span>()
<a name="411"></a>{
<a name="412"></a>	if ( (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> == None) || <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.bIsPlayer )
<a name="413"></a>		Destroy();
<a name="414"></a>	else
<a name="415"></a>		Super.<span class="source_type">Reset</span>();
<a name="416"></a>}
<a name="417"></a>
<a name="418"></a><span class="source_macro">#if !IG_TRIBES3 // Alex:
</span><a name="419"></a><span class="source_type">function</span> Fire( optional <span class="source_type">float</span> <span class="source_type">F</span> )
<a name="420"></a>{
<a name="421"></a>  <span class="source_comment">//  if( Weapon!=None )
</span><a name="422"></a><span class="source_comment">//        Weapon.Fire(F);
</span><a name="423"></a>}
<a name="424"></a><span class="source_macro">#endif
</span><a name="425"></a>
<a name="426"></a><span class="source_type">function</span> DrawHUD(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="427"></a>
<a name="428"></a><span class="source_comment">// If returns false, do normal calview anyway
</span><a name="429"></a><span class="source_type">function</span> <span class="source_type">bool</span> SpecialCalcView(out <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> ViewActor, out <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> CameraLocation, out <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> <span class="source_type">CameraRotation</span> );
<a name="430"></a>
<a name="431"></a>simulated <span class="source_type">function</span> <span class="source_type">String</span> GetHumanReadableName()
<a name="432"></a>{
<a name="433"></a>	if ( <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None )
<a name="434"></a>		return <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>;
<a name="435"></a>	return MenuName;
<a name="436"></a>}
<a name="437"></a>
<a name="438"></a><span class="source_type">function</span> PlayTeleportEffect(<span class="source_type">bool</span> bOut, <span class="source_type">bool</span> bSound)
<a name="439"></a>{
<a name="440"></a>	MakeNoise(<span class="source_int">1.0</span>);
<a name="441"></a>}
<a name="442"></a>
<a name="443"></a><span class="source_comment">/* PossessedBy()
<a name="444"></a> Pawn is possessed by Controller
<a name="445"></a>*/</span>
<a name="446"></a><span class="source_type">function</span> PossessedBy(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>)
<a name="447"></a>{
<a name="448"></a>	<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> = <span class="source_type">C</span>;
<a name="449"></a>	NetPriority = <span class="source_int">3</span>;
<a name="450"></a>
<a name="451"></a>	if ( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None )
<a name="452"></a>	{
<a name="453"></a>		<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> = <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>;
<a name="454"></a>		OwnerName = <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>;
<a name="455"></a>	}
<a name="456"></a>	if ( <span class="source_type">C</span>.IsA(<span class="source_name">'PlayerController'</span>) )
<a name="457"></a>	{
<a name="458"></a>		if ( <span class="source_type">Level</span>.NetMode != NM_Standalone )
<a name="459"></a>			RemoteRole = ROLE_AutonomousProxy;
<a name="460"></a>		BecomeViewTarget();
<a name="461"></a>	}
<a name="462"></a>	else
<a name="463"></a>		RemoteRole = Default.RemoteRole;
<a name="464"></a>
<a name="465"></a>	SetOwner(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>);	<span class="source_comment">// for network replication
</span><a name="466"></a>	Eyeheight = BaseEyeHeight;
<a name="467"></a>	ChangeAnimation();
<a name="468"></a>}
<a name="469"></a>
<a name="470"></a><span class="source_type">function</span> UnPossessed()
<a name="471"></a>{	
<a name="472"></a>	<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> = None;
<a name="473"></a>	SetOwner(None);
<a name="474"></a>	<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> = None;
<a name="475"></a>}
<a name="476"></a>
<a name="477"></a><span class="source_macro">#if !IG_TRIBES3 // dbeswick: unneeded functionality
</span><a name="478"></a><span class="source_comment">/* PointOfView()
<a name="479"></a>called by controller when possessing this pawn
<a name="480"></a>false = 1st person, true = 3rd person
<a name="481"></a>*/</span>
<a name="482"></a>simulated <span class="source_type">function</span> <span class="source_type">bool</span> PointOfView()
<a name="483"></a>{
<a name="484"></a>	return false;
<a name="485"></a>}
<a name="486"></a><span class="source_macro">#endif
</span><a name="487"></a>
<a name="488"></a><span class="source_type">function</span> BecomeViewTarget()
<a name="489"></a>{
<a name="490"></a>	bUpdateEyeHeight = true;
<a name="491"></a>}
<a name="492"></a>
<a name="493"></a><span class="source_type">function</span> DropToGround()
<a name="494"></a>{
<a name="495"></a>	bCollideWorld = True;
<a name="496"></a>	bInterpolating = false;
<a name="497"></a>	if ( Health &gt; <span class="source_int">0</span> )
<a name="498"></a>	{
<a name="499"></a>		SetCollision(true,true,true);
<a name="500"></a>		SetPhysics(PHYS_Falling);
<a name="501"></a><span class="source_macro">#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications
</span><a name="502"></a>		<span class="source_type"><a href="../engine/ambientsound.html" class="source">AmbientSound</a></span> = None;
<a name="503"></a><span class="source_macro">#endif
</span><a name="504"></a>		if ( IsHumanControlled() )
<a name="505"></a>			<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.GotoState(LandMovementState);
<a name="506"></a>	}
<a name="507"></a>}
<a name="508"></a>
<a name="509"></a><span class="source_macro">#if !IG_SWAT // ckline: we don't support this
</span><a name="510"></a><span class="source_type">function</span> <span class="source_type">bool</span> CanGrabLadder()
<a name="511"></a>{
<a name="512"></a>	return ( bCanClimbLadders 
<a name="513"></a>			&& (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None)
<a name="514"></a>			&& (Physics != PHYS_Ladder)
<a name="515"></a>			&& ((Physics != Phys_Falling) || (Abs(Velocity.Z) &lt;= JumpZ)) );
<a name="516"></a>}
<a name="517"></a><span class="source_macro">#endif
</span><a name="518"></a>
<a name="519"></a>event SetWalking(<span class="source_type">bool</span> bNewIsWalking)
<a name="520"></a>{
<a name="521"></a>	if ( bNewIsWalking != bIsWalking )
<a name="522"></a>	{
<a name="523"></a>		bIsWalking = bNewIsWalking;
<a name="524"></a>		ChangeAnimation();
<a name="525"></a>	}
<a name="526"></a>}
<a name="527"></a>
<a name="528"></a><span class="source_type">function</span> <span class="source_type">bool</span> CanSplash()
<a name="529"></a>{
<a name="530"></a>	if ( (<span class="source_type">Level</span>.TimeSeconds - SplashTime &gt; <span class="source_int">0.25</span>)
<a name="531"></a>		&& ((Physics == PHYS_Falling) || (Physics == PHYS_Flying))
<a name="532"></a>		&& (Abs(Velocity.Z) &gt; <span class="source_int">100</span>) )
<a name="533"></a>	{
<a name="534"></a>		SplashTime = <span class="source_type">Level</span>.TimeSeconds;
<a name="535"></a>		return true;
<a name="536"></a>	}
<a name="537"></a>	return false;
<a name="538"></a>}
<a name="539"></a>
<a name="540"></a><span class="source_type">function</span> EndClimbLadder(<span class="source_type"><a href="../engine/laddervolume.html" class="source">LadderVolume</a></span> OldLadder)
<a name="541"></a>{
<a name="542"></a>	<span class="source_comment">// DLB Controller clean pass: removed AI logic
</span><a name="543"></a>	<span class="source_comment">/*if ( Controller != None )
<a name="544"></a>		Controller.EndClimbLadder();*/</span>
<a name="545"></a>	if ( Physics == PHYS_Ladder )
<a name="546"></a>		SetPhysics(PHYS_Falling);
<a name="547"></a>}
<a name="548"></a>
<a name="549"></a><span class="source_type">function</span> ClimbLadder(<span class="source_type"><a href="../engine/laddervolume.html" class="source">LadderVolume</a></span> L)
<a name="550"></a>{
<a name="551"></a>	OnLadder = L;
<a name="552"></a>	SetRotation(OnLadder.WallDir);
<a name="553"></a>	SetPhysics(PHYS_Ladder);
<a name="554"></a>	if ( IsHumanControlled() )
<a name="555"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.GotoState(<span class="source_name">'PlayerClimbing'</span>);
<a name="556"></a>}
<a name="557"></a>
<a name="558"></a><span class="source_comment">/* DisplayDebug()
<a name="559"></a>list important actor variable on canvas.  Also show the pawn's controller and weapon info
<a name="560"></a>*/</span>
<a name="561"></a>simulated <span class="source_type">function</span> DisplayDebug(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, out <span class="source_type">float</span> YL, out <span class="source_type">float</span> YPos)
<a name="562"></a>{
<a name="563"></a>	local <span class="source_type">string</span> <span class="source_type">T</span>;
<a name="564"></a>	Super.DisplayDebug(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, YL, YPos);
<a name="565"></a>
<a name="566"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetDrawColor(<span class="source_int">255</span>,<span class="source_int">255</span>,<span class="source_int">255</span>);
<a name="567"></a>
<a name="568"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Animation Action "</span>$AnimAction$<span class="source_string">" Health "</span>$Health);
<a name="569"></a>
<a name="570"></a>	YPos += YL;
<a name="571"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="572"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Anchor "</span>$Anchor$<span class="source_string">" Serpentine Dist "</span>$SerpentineDist$<span class="source_string">" Time "</span>$SerpentineTime);
<a name="573"></a>	YPos += YL;
<a name="574"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="575"></a>
<a name="576"></a>	<span class="source_type">T</span> = <span class="source_string">"Floor "</span>$Floor$<span class="source_string">" DesiredSpeed "</span>$<span class="source_type">DesiredSpeed</span>$<span class="source_string">" Crouched "</span>$bIsCrouched$<span class="source_string">" Try to uncrouch "</span>$UncrouchTime;
<a name="577"></a>	if ( (OnLadder != None) || (Physics == PHYS_Ladder) )
<a name="578"></a>		<span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">" on ladder "</span>$OnLadder;
<a name="579"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_type">T</span>);
<a name="580"></a>	YPos += YL;
<a name="581"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="582"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"EyeHeight "</span>$Eyeheight$<span class="source_string">" BaseEyeHeight "</span>$BaseEyeHeight$<span class="source_string">" Physics Anim "</span>$bPhysicsAnimUpdate);
<a name="583"></a>	YPos += YL;
<a name="584"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="585"></a>
<a name="586"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> == None )
<a name="587"></a>	{
<a name="588"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetDrawColor(<span class="source_int">255</span>,<span class="source_int">0</span>,<span class="source_int">0</span>);
<a name="589"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"NO CONTROLLER"</span>);
<a name="590"></a>		YPos += YL;
<a name="591"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="592"></a>	}
<a name="593"></a>	else
<a name="594"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.DisplayDebug(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>,YL,YPos);
<a name="595"></a>
<a name="596"></a><span class="source_comment">/*
<a name="597"></a>	if ( Weapon == None )
<a name="598"></a>	{
<a name="599"></a>		Canvas.SetDrawColor(0,255,0);
<a name="600"></a>		Canvas.DrawText("NO WEAPON");
<a name="601"></a>		YPos += YL;
<a name="602"></a>		Canvas.SetPos(4,YPos);
<a name="603"></a>	}
<a name="604"></a>	else
<a name="605"></a>		Weapon.DisplayDebug(Canvas,YL,YPos);
<a name="606"></a>*/</span>
<a name="607"></a>}
<a name="608"></a>		 		
<a name="609"></a><span class="source_comment">//
</span><a name="610"></a><span class="source_comment">// Compute offset for drawing an inventory item.
</span><a name="611"></a><span class="source_comment">//
</span><a name="612"></a><span class="source_comment">/*
<a name="613"></a>simulated function vector CalcDrawOffset(inventory Inv)
<a name="614"></a>{
<a name="615"></a>	local vector DrawOffset;
<a name="616"></a>
<a name="617"></a>//	if ( Controller == None )
<a name="618"></a>//		return (Inv.PlayerViewOffset &gt;&gt; Rotation) + BaseEyeHeight * vect(0,0,1);
<a name="619"></a>
<a name="620"></a>//	DrawOffset = ((0.9/Weapon.DisplayFOV * 100 * ModifiedPlayerViewOffset(Inv)) &gt;&gt; GetViewRotation() ); 
<a name="621"></a>//	if ( !IsLocallyControlled() )
<a name="622"></a>//		DrawOffset.Z += BaseEyeHeight;
<a name="623"></a>//	else
<a name="624"></a>//	{	
<a name="625"></a>//		DrawOffset.Z += EyeHeight;
<a name="626"></a>  //      if( bWeaponBob )
<a name="627"></a>	//		DrawOffset += WeaponBob(Inv.BobDamping);
<a name="628"></a>//	}
<a name="629"></a>	return DrawOffset;
<a name="630"></a>}
<a name="631"></a>*/</span>
<a name="632"></a>
<a name="633"></a><span class="source_comment">/*
<a name="634"></a>function vector ModifiedPlayerViewOffset(inventory Inv)
<a name="635"></a>{
<a name="636"></a>//	return Inv.PlayerViewOffset;
<a name="637"></a>}
<a name="638"></a>*/</span>
<a name="639"></a>
<a name="640"></a><span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> WeaponBob(<span class="source_type">float</span> BobDamping)
<a name="641"></a>{
<a name="642"></a>	Local <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> WBob;
<a name="643"></a>
<a name="644"></a>	WBob = BobDamping * WalkBob;
<a name="645"></a>	WBob.Z = (<span class="source_int">0.45</span> + <span class="source_int">0.55</span> * BobDamping) * WalkBob.Z;
<a name="646"></a>	return WBob;
<a name="647"></a>}
<a name="648"></a>
<a name="649"></a><span class="source_type">function</span> CheckBob(<span class="source_type">float</span> <span class="source_type">DeltaTime</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Y</span>)
<a name="650"></a>{
<a name="651"></a>	local <span class="source_type">float</span> Speed2D;
<a name="652"></a>
<a name="653"></a>    if( !bWeaponBob )
<a name="654"></a>    {
<a name="655"></a>		BobTime = <span class="source_int">0</span>;
<a name="656"></a>		WalkBob = Vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">0</span>);
<a name="657"></a>        return;
<a name="658"></a>    }
<a name="659"></a>	Bob = FClamp(Bob, -<span class="source_int">0.01</span>, <span class="source_int">0.01</span>);
<a name="660"></a>	if (Physics == PHYS_Walking )
<a name="661"></a>	{
<a name="662"></a>		Speed2D = VSize(Velocity);
<a name="663"></a>		if ( Speed2D &lt; <span class="source_int">10</span> )
<a name="664"></a>			BobTime += <span class="source_int">0.2</span> * <span class="source_type">DeltaTime</span>;
<a name="665"></a>		else
<a name="666"></a>			BobTime += <span class="source_type">DeltaTime</span> * (<span class="source_int">0.3</span> + <span class="source_int">0.7</span> * Speed2D/GroundSpeed);
<a name="667"></a>		WalkBob = <span class="source_type">Y</span> * Bob * Speed2D * sin(<span class="source_int">8</span> * BobTime);
<a name="668"></a>		AppliedBob = AppliedBob * (<span class="source_int">1</span> - FMin(<span class="source_int">1</span>, <span class="source_int">16</span> * <span class="source_type">deltatime</span>));
<a name="669"></a>		WalkBob.Z = AppliedBob;
<a name="670"></a>		if ( Speed2D &gt; <span class="source_int">10</span> )
<a name="671"></a>			WalkBob.Z = WalkBob.Z + <span class="source_int">0.75</span> * Bob * Speed2D * sin(<span class="source_int">16</span> * BobTime);
<a name="672"></a>		if ( LandBob &gt; <span class="source_int">0.01</span> )
<a name="673"></a>		{
<a name="674"></a>			AppliedBob += FMin(<span class="source_int">1</span>, <span class="source_int">16</span> * <span class="source_type">deltatime</span>) * LandBob;
<a name="675"></a>			LandBob *= (<span class="source_int">1</span> - <span class="source_int">8</span>*<span class="source_type">Deltatime</span>);
<a name="676"></a>		}
<a name="677"></a>	}
<a name="678"></a>	else if ( Physics == PHYS_Swimming )
<a name="679"></a>	{
<a name="680"></a>		Speed2D = Sqrt(Velocity.X * Velocity.X + Velocity.<span class="source_type">Y</span> * Velocity.<span class="source_type">Y</span>);
<a name="681"></a>		WalkBob = <span class="source_type">Y</span> * Bob *  <span class="source_int">0.5</span> * Speed2D * sin(<span class="source_int">4.0</span> * <span class="source_type">Level</span>.TimeSeconds);
<a name="682"></a>		WalkBob.Z = Bob * <span class="source_int">1.5</span> * Speed2D * sin(<span class="source_int">8.0</span> * <span class="source_type">Level</span>.TimeSeconds);
<a name="683"></a>	}
<a name="684"></a>	else
<a name="685"></a>	{
<a name="686"></a>		BobTime = <span class="source_int">0</span>;
<a name="687"></a>		WalkBob = WalkBob * (<span class="source_int">1</span> - FMin(<span class="source_int">1</span>, <span class="source_int">8</span> * <span class="source_type">deltatime</span>));
<a name="688"></a>	}
<a name="689"></a>}
<a name="690"></a>	
<a name="691"></a><span class="source_comment">//***************************************
</span><a name="692"></a><span class="source_comment">// Interface to Pawn's Controller
</span><a name="693"></a>
<a name="694"></a><span class="source_comment">// return true if controlled by a Player (AI or human)
</span><a name="695"></a>simulated <span class="source_type">function</span> <span class="source_type">bool</span> IsPlayerPawn()
<a name="696"></a>{
<a name="697"></a>	return ( (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None) && <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.bIsPlayer );
<a name="698"></a>}
<a name="699"></a>
<a name="700"></a><span class="source_comment">// return true if was controlled by a Player (AI or human)
</span><a name="701"></a>simulated <span class="source_type">function</span> <span class="source_type">bool</span> WasPlayerPawn()
<a name="702"></a>{
<a name="703"></a>	return false;
<a name="704"></a>}
<a name="705"></a>
<a name="706"></a><span class="source_comment">// return true if controlled by a real live human
</span><a name="707"></a>simulated <span class="source_type">function</span> <span class="source_type">bool</span> IsHumanControlled()
<a name="708"></a>{
<a name="709"></a>	return ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) != None );
<a name="710"></a>}
<a name="711"></a>
<a name="712"></a><span class="source_comment">// return true if controlled by local (not network) player
</span><a name="713"></a>simulated <span class="source_type">function</span> <span class="source_type">bool</span> IsLocallyControlled()
<a name="714"></a>{
<a name="715"></a>	if ( <span class="source_type">Level</span>.NetMode == NM_Standalone )
<a name="716"></a>		return true;
<a name="717"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> == None )
<a name="718"></a>		return false;
<a name="719"></a>	if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) == None )
<a name="720"></a>		return true;
<a name="721"></a>
<a name="722"></a>	return ( <span class="source_type">Viewport</span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).<span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>) != None );
<a name="723"></a>}
<a name="724"></a>
<a name="725"></a><span class="source_comment">// return true if viewing this pawn in first person pov. useful for determining what and where to spawn effects
</span><a name="726"></a>simulated <span class="source_type">function</span> <span class="source_type">bool</span> IsFirstPerson()
<a name="727"></a>{
<a name="728"></a>    local <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> PC;
<a name="729"></a> 
<a name="730"></a>    PC = <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>);
<a name="731"></a>    return ( PC != None && !PC.bBehindView && <span class="source_type">Viewport</span>(PC.<span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>) != None );
<a name="732"></a>}
<a name="733"></a>
<a name="734"></a>simulated <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> GetViewRotation()
<a name="735"></a>{
<a name="736"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> == None )
<a name="737"></a>		return Rotation;
<a name="738"></a>	return <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.GetViewRotation();
<a name="739"></a>}
<a name="740"></a>
<a name="741"></a>simulated <span class="source_type">function</span> SetViewRotation(<span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> <span class="source_type">NewRotation</span> )
<a name="742"></a>{
<a name="743"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="744"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.SetRotation(<span class="source_type">NewRotation</span>);
<a name="745"></a>}
<a name="746"></a>
<a name="747"></a><span class="source_macro">#if !IG_TRIBES3
</span><a name="748"></a>final <span class="source_type">function</span> <span class="source_type">bool</span> InGodMode()
<a name="749"></a><span class="source_macro">#else
</span><a name="750"></a><span class="source_type">function</span> <span class="source_type">bool</span> InGodMode()
<a name="751"></a><span class="source_macro">#endif
</span><a name="752"></a>{
<a name="753"></a>	return ( (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None) && <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.bGodMode );
<a name="754"></a>}
<a name="755"></a>
<a name="756"></a><span class="source_comment">// DLB Controller clean pass: removed AI logic 
</span><a name="757"></a><span class="source_comment">/*function bool NearMoveTarget()
<a name="758"></a>{
<a name="759"></a>	if ( (Controller == None) || (Controller.MoveTarget == None) )
<a name="760"></a>		return false;
<a name="761"></a>
<a name="762"></a>	return ReachedDestination(Controller.MoveTarget);
<a name="763"></a>}*/</span>
<a name="764"></a>
<a name="765"></a>simulated final <span class="source_type">function</span> <span class="source_type">bool</span> PressingFire()
<a name="766"></a>{
<a name="767"></a>	return ( (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None) && (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.bFire != <span class="source_int">0</span>) );
<a name="768"></a>}
<a name="769"></a>
<a name="770"></a>simulated final <span class="source_type">function</span> <span class="source_type">bool</span> PressingAltFire()
<a name="771"></a>{
<a name="772"></a>	return ( (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None) && (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.bAltFire != <span class="source_int">0</span>) );
<a name="773"></a>}
<a name="774"></a>
<a name="775"></a><span class="source_comment">// DLB Controller clean pass: removed AI logic 
</span><a name="776"></a><span class="source_comment">/*function Actor GetMoveTarget()
<a name="777"></a>{	
<a name="778"></a>	if ( Controller == None )
<a name="779"></a>		return None;
<a name="780"></a>
<a name="781"></a>	return Controller.MoveTarget;
<a name="782"></a>}*/</span>
<a name="783"></a>
<a name="784"></a><span class="source_comment">// DLB Controller clean pass: removed AI logic 
</span><a name="785"></a><span class="source_comment">/*function SetMoveTarget(Actor NewTarget )
<a name="786"></a>{
<a name="787"></a>	if ( Controller != None )
<a name="788"></a>		Controller.MoveTarget = NewTarget;
<a name="789"></a>}*/</span>
<a name="790"></a>
<a name="791"></a>native <span class="source_type">function</span> <span class="source_type">bool</span> LineOfSightTo(<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type">Other</span>);
<a name="792"></a>
<a name="793"></a><span class="source_comment">/*
<a name="794"></a>simulated final function rotator AdjustAim(Ammunition FiredAmmunition, vector projStart, int aimerror)
<a name="795"></a>{
<a name="796"></a>//	if ( Controller == None )
<a name="797"></a>		return Rotation;
<a name="798"></a>
<a name="799"></a>//	return Controller.AdjustAim(FiredAmmunition, projStart, aimerror);
<a name="800"></a>}
<a name="801"></a>*/</span>
<a name="802"></a>
<a name="803"></a><span class="source_type">function</span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> ShootSpecial(<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">A</span>)
<a name="804"></a>{
<a name="805"></a>		return None;
<a name="806"></a><span class="source_comment">//	if ( !Controller.bCanDoSpecial || (Weapon == None) )
</span><a name="807"></a><span class="source_comment">//		return None;
</span><a name="808"></a>
<a name="809"></a>	<span class="source_comment">// DLB Controller clean pass: removed AI logicController.FireWeaponAt(A);
</span><a name="810"></a>	<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.bFire = <span class="source_int">0</span>;
<a name="811"></a>	return <span class="source_type">A</span>;
<a name="812"></a>}
<a name="813"></a>
<a name="814"></a><span class="source_comment">/* return a value (typically 0 to 1) adjusting pawn's perceived strength if under some special influence (like berserk)
<a name="815"></a>*/</span>
<a name="816"></a><span class="source_type">function</span> <span class="source_type">float</span> AdjustedStrength()
<a name="817"></a>{
<a name="818"></a>	return <span class="source_int">0</span>;
<a name="819"></a>}
<a name="820"></a>
<a name="821"></a><span class="source_comment">/*
<a name="822"></a>function HandlePickup(Pickup pick)
<a name="823"></a>{
<a name="824"></a>	MakeNoise(0.2);
<a name="825"></a>	if ( Controller != None )
<a name="826"></a>		Controller.HandlePickup(pick);
<a name="827"></a>}
<a name="828"></a>*/</span>
<a name="829"></a>
<a name="830"></a><span class="source_macro">#if IG_TRIBES3 // david: more flexibility in LocalMessage system, uses Objects instead of PlayerReplicationInfos
</span><a name="831"></a>
<a name="832"></a><span class="source_type">function</span> ReceiveLocalizedMessage( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/localmessage.html" class="source">LocalMessage</a></span>&gt; <span class="source_type"><a href="../engine/message.html" class="source">Message</a></span>, optional <span class="source_type">int</span> Switch, optional Core.<span class="source_type"><a href="../core/object.html" class="source">Object</a></span> <span class="source_type">Related1</span>, optional Core.<span class="source_type"><a href="../core/object.html" class="source">Object</a></span> <span class="source_type">Related2</span>, optional Core.<span class="source_type"><a href="../core/object.html" class="source">Object</a></span> <span class="source_type">OptionalObject</span>, optional <span class="source_type">String</span> <span class="source_type">OptionalString</span> )
<a name="833"></a>{
<a name="834"></a>	if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) != None )
<a name="835"></a>		<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).ReceiveLocalizedMessage( <span class="source_type"><a href="../engine/message.html" class="source">Message</a></span>, Switch, <span class="source_type">Related1</span>, <span class="source_type">Related2</span>, <span class="source_type">OptionalObject</span>, <span class="source_type">OptionalString</span> );
<a name="836"></a>}
<a name="837"></a>
<a name="838"></a><span class="source_macro">#else
</span><a name="839"></a><span class="source_type">function</span> ReceiveLocalizedMessage( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/localmessage.html" class="source">LocalMessage</a></span>&gt; <span class="source_type"><a href="../engine/message.html" class="source">Message</a></span>, optional <span class="source_type">int</span> Switch, optional <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> RelatedPRI_1, optional <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> RelatedPRI_2, optional Core.<span class="source_type"><a href="../core/object.html" class="source">Object</a></span> <span class="source_type">OptionalObject</span> )
<a name="840"></a>{
<a name="841"></a>	if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) != None )
<a name="842"></a>		<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).ReceiveLocalizedMessage( <span class="source_type"><a href="../engine/message.html" class="source">Message</a></span>, Switch, RelatedPRI_1, RelatedPRI_2, <span class="source_type">OptionalObject</span> );
<a name="843"></a>}
<a name="844"></a><span class="source_macro">#endif
</span><a name="845"></a>
<a name="846"></a>event ClientMessage( coerce <span class="source_type">string</span> <span class="source_type">S</span>, optional <span class="source_type">Name</span> <span class="source_type">Type</span> )
<a name="847"></a>{
<a name="848"></a>	if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) != None )
<a name="849"></a>		<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).ClientMessage( <span class="source_type">S</span>, <span class="source_type">Type</span> );
<a name="850"></a>}
<a name="851"></a>
<a name="852"></a><span class="source_type">function</span> <span class="source_type"><a href="../engine/trigger.html" class="source">Trigger</a></span>( <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type">Other</span>, <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> <span class="source_type">EventInstigator</span> )
<a name="853"></a>{
<a name="854"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="855"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.<span class="source_type"><a href="../engine/trigger.html" class="source">Trigger</a></span>(<span class="source_type">Other</span>, <span class="source_type">EventInstigator</span>);
<a name="856"></a>}
<a name="857"></a>
<a name="858"></a><span class="source_comment">//***************************************
</span><a name="859"></a>
<a name="860"></a><span class="source_type">function</span> <span class="source_type">bool</span> CanTrigger(<span class="source_type"><a href="../engine/trigger.html" class="source">Trigger</a></span> <span class="source_type">T</span>)
<a name="861"></a>{
<a name="862"></a>	return true;
<a name="863"></a>}
<a name="864"></a>
<a name="865"></a><span class="source_type">function</span> CreateInventory(<span class="source_type">string</span> InventoryClassName)
<a name="866"></a>{
<a name="867"></a>}
<a name="868"></a>
<a name="869"></a><span class="source_type">function</span> GiveWeapon(<span class="source_type">string</span> <span class="source_type">aClassName</span> )
<a name="870"></a>{
<a name="871"></a><span class="source_comment">/*
<a name="872"></a>	local class&lt;Weapon&gt; WeaponClass;
<a name="873"></a>	local Weapon NewWeapon;
<a name="874"></a>
<a name="875"></a>	WeaponClass = class&lt;Weapon&gt;(DynamicLoadObject(aClassName, class'Class'));
<a name="876"></a>
<a name="877"></a>	if( FindInventoryType(WeaponClass) != None )
<a name="878"></a>		return;
<a name="879"></a>	newWeapon = Spawn(WeaponClass);
<a name="880"></a>	if( newWeapon != None )
<a name="881"></a>		newWeapon.GiveTo(self);
<a name="882"></a>*/</span>
<a name="883"></a>}
<a name="884"></a>
<a name="885"></a><span class="source_type">function</span> SetDisplayProperties(<span class="source_type"><a href="../engine/actor.html#ERenderStyle" class="source">ERenderStyle</a></span> NewStyle, <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span> NewTexture, <span class="source_type">bool</span> <span class="source_type">bLighting</span> )
<a name="886"></a>{
<a name="887"></a>	Style = NewStyle;
<a name="888"></a>	<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span> = NewTexture;
<a name="889"></a>	bUnlit = <span class="source_type">bLighting</span>;
<a name="890"></a><span class="source_comment">//	if ( Weapon != None )
</span><a name="891"></a><span class="source_comment">//		Weapon.SetDisplayProperties(Style, Texture, bUnlit);
</span><a name="892"></a>
<a name="893"></a><span class="source_comment">//	if ( !bUpdatingDisplay && (Inventory != None) )
</span><a name="894"></a><span class="source_comment">//	{
</span><a name="895"></a><span class="source_comment">//		bUpdatingDisplay = true;
</span><a name="896"></a><span class="source_comment">//		Inventory.SetOwnerDisplay();
</span><a name="897"></a><span class="source_comment">//	}
</span><a name="898"></a>	bUpdatingDisplay = false;
<a name="899"></a>}
<a name="900"></a>
<a name="901"></a><span class="source_type">function</span> SetDefaultDisplayProperties()
<a name="902"></a>{
<a name="903"></a>	Style = Default.Style;
<a name="904"></a>	<span class="source_type"><a href="../engine/texture.html" class="source">texture</a></span> = Default.<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span>;
<a name="905"></a>	bUnlit = Default.bUnlit;
<a name="906"></a><span class="source_comment">//	if ( Weapon != None )
</span><a name="907"></a><span class="source_comment">//		Weapon.SetDefaultDisplayProperties();
</span><a name="908"></a>
<a name="909"></a><span class="source_comment">//	if ( !bUpdatingDisplay && (Inventory != None) )
</span><a name="910"></a><span class="source_comment">//	{
</span><a name="911"></a><span class="source_comment">//		bUpdatingDisplay = true;
</span><a name="912"></a><span class="source_comment">//		Inventory.SetOwnerDisplay();
</span><a name="913"></a><span class="source_comment">//	}
</span><a name="914"></a>	bUpdatingDisplay = false;
<a name="915"></a>}
<a name="916"></a>
<a name="917"></a><span class="source_type">function</span> FinishedInterpolation()
<a name="918"></a>{
<a name="919"></a>	DropToGround();
<a name="920"></a>}
<a name="921"></a>
<a name="922"></a><span class="source_type">function</span> JumpOutOfWater(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> jumpDir)
<a name="923"></a>{
<a name="924"></a>	Falling();
<a name="925"></a>	Velocity = jumpDir * WaterSpeed;
<a name="926"></a>	Acceleration = jumpDir * AccelRate;
<a name="927"></a>	velocity.Z = FMax(<span class="source_int">380</span>,JumpZ); <span class="source_comment">//set here so physics uses this for remainder of tick
</span><a name="928"></a>	bUpAndOut = true;
<a name="929"></a>}
<a name="930"></a>
<a name="931"></a><span class="source_comment">/*
<a name="932"></a>Modify velocity called by physics before applying new velocity
<a name="933"></a>for this tick.
<a name="934"></a>
<a name="935"></a>Velocity,Acceleration, etc. have been updated by the physics, but location hasn't
<a name="936"></a>*/</span>
<a name="937"></a>simulated event ModifyVelocity(<span class="source_type">float</span> <span class="source_type">DeltaTime</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> OldVelocity);
<a name="938"></a>
<a name="939"></a><span class="source_comment">/* ShouldCrouch()
<a name="940"></a>Controller is requesting that pawn crouch
<a name="941"></a>*/</span>
<a name="942"></a><span class="source_type">function</span> ShouldCrouch(<span class="source_type">bool</span> Crouch)
<a name="943"></a>{
<a name="944"></a>	bWantsToCrouch = Crouch;
<a name="945"></a>}
<a name="946"></a>
<a name="947"></a><span class="source_comment">// Stub events called when physics actually allows crouch to begin or end
</span><a name="948"></a><span class="source_comment">// use these for changing the animation (if script controlled)
</span><a name="949"></a>event EndCrouch(<span class="source_type">float</span> HeightAdjust)
<a name="950"></a>{
<a name="951"></a>	EyeHeight -= HeightAdjust;
<a name="952"></a>	OldZ += HeightAdjust;
<a name="953"></a>	BaseEyeHeight = Default.BaseEyeHeight;
<a name="954"></a>}
<a name="955"></a>
<a name="956"></a>event StartCrouch(<span class="source_type">float</span> HeightAdjust)
<a name="957"></a>{
<a name="958"></a>	EyeHeight += HeightAdjust;
<a name="959"></a>	OldZ -= HeightAdjust;
<a name="960"></a>	BaseEyeHeight = FMin(<span class="source_int">0.8</span> * CrouchHeight, CrouchHeight - <span class="source_int">10</span>);
<a name="961"></a>}
<a name="962"></a>
<a name="963"></a><span class="source_type">function</span> AddVelocity( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> NewVelocity)
<a name="964"></a>{
<a name="965"></a>	if ( bIgnoreForces || (NewVelocity == vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">0</span>)) )
<a name="966"></a>		return;
<a name="967"></a>	if ( (Physics == PHYS_Walking)
<a name="968"></a>		|| (((Physics == PHYS_Ladder) || (Physics == PHYS_Spider)) && (NewVelocity.Z &gt; Default.JumpZ)) )
<a name="969"></a>		SetPhysics(PHYS_Falling);
<a name="970"></a>	if ( (Velocity.Z &gt; <span class="source_int">380</span>) && (NewVelocity.Z &gt; <span class="source_int">0</span>) )
<a name="971"></a>		NewVelocity.Z *= <span class="source_int">0.5</span>;
<a name="972"></a>	Velocity += NewVelocity;
<a name="973"></a>}
<a name="974"></a>
<a name="975"></a><span class="source_type">function</span> KilledBy( <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> <span class="source_type">EventInstigator</span> )
<a name="976"></a>{
<a name="977"></a>	local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> Killer;
<a name="978"></a>
<a name="979"></a>	Health = <span class="source_int">0</span>;
<a name="980"></a>	if ( <span class="source_type">EventInstigator</span> != None )
<a name="981"></a>		Killer = <span class="source_type">EventInstigator</span>.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>;
<a name="982"></a>	Died( Killer, <span class="source_type">class</span><span class="source_name">'Suicided'</span>, Location );
<a name="983"></a>}
<a name="984"></a>
<a name="985"></a><span class="source_type">function</span> TakeFallingDamage()
<a name="986"></a>{
<a name="987"></a><span class="source_macro">#if !IG_TRIBES3	// marc: not used
</span><a name="988"></a>	local <span class="source_type">float</span> Shake, EffectiveSpeed;
<a name="989"></a>
<a name="990"></a>	if (Velocity.Z &lt; -<span class="source_int">0.5</span> * MaxFallSpeed)
<a name="991"></a>	{
<a name="992"></a>		if ( Role == ROLE_Authority )
<a name="993"></a>		{
<a name="994"></a>		    MakeNoise(<span class="source_int">1.0</span>);
<a name="995"></a>		    if (Velocity.Z &lt; -<span class="source_int">1</span> * MaxFallSpeed)
<a name="996"></a>		    {
<a name="997"></a>			    EffectiveSpeed = Velocity.Z;
<a name="998"></a>			    if ( TouchingWaterVolume() )
<a name="999"></a>					EffectiveSpeed = FMin(<span class="source_int">0</span>, EffectiveSpeed + <span class="source_int">100</span>);
<a name="1000"></a>			    if ( EffectiveSpeed &lt; -<span class="source_int">1</span> * MaxFallSpeed )
<a name="1001"></a>				    TakeDamage(-<span class="source_int">100</span> * (EffectiveSpeed + MaxFallSpeed)/MaxFallSpeed, None, Location, vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">0</span>), <span class="source_type">class</span><span class="source_name">'Fell'</span>);
<a name="1002"></a>		    }
<a name="1003"></a>		}
<a name="1004"></a>		        if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="1005"></a>		        {
<a name="1006"></a>			        Shake = FMin(<span class="source_int">1</span>, -<span class="source_int">1</span> * Velocity.Z/MaxFallSpeed);
<a name="1007"></a>			        <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.ShakeView(<span class="source_int">0.175</span> + <span class="source_int">0.1</span> * Shake, <span class="source_int">850</span> * Shake, Shake * vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">1.5</span>), <span class="source_int">120000</span>, vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">10</span>), <span class="source_int">1</span>);
<a name="1008"></a>		        }
<a name="1009"></a>	        }
<a name="1010"></a>	else if (Velocity.Z &lt; -<span class="source_int">1.4</span> * JumpZ)
<a name="1011"></a>		MakeNoise(<span class="source_int">0.5</span>);
<a name="1012"></a><span class="source_macro">#endif
</span><a name="1013"></a>}
<a name="1014"></a>
<a name="1015"></a><span class="source_type">function</span> ClientReStart()
<a name="1016"></a>{
<a name="1017"></a>	Velocity = vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">0</span>);
<a name="1018"></a>	Acceleration = vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">0</span>);
<a name="1019"></a>	BaseEyeHeight = Default.BaseEyeHeight;
<a name="1020"></a>	EyeHeight = BaseEyeHeight;
<a name="1021"></a>	PlayWaiting();
<a name="1022"></a>}
<a name="1023"></a>
<a name="1024"></a><span class="source_type">function</span> ClientSetLocation( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> NewLocation, <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> <span class="source_type">NewRotation</span> )
<a name="1025"></a>{
<a name="1026"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="1027"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.ClientSetLocation(NewLocation, <span class="source_type">NewRotation</span>);
<a name="1028"></a>}
<a name="1029"></a>
<a name="1030"></a><span class="source_type">function</span> ClientSetRotation( <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> <span class="source_type">NewRotation</span> )
<a name="1031"></a>{
<a name="1032"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="1033"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.ClientSetRotation(<span class="source_type">NewRotation</span>);
<a name="1034"></a>}
<a name="1035"></a>
<a name="1036"></a>simulated <span class="source_type">function</span> FaceRotation( <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> <span class="source_type">NewRotation</span>, <span class="source_type">float</span> <span class="source_type">DeltaTime</span> )
<a name="1037"></a>{
<a name="1038"></a>	if ( Physics == PHYS_Ladder )
<a name="1039"></a>		SetRotation(OnLadder.Walldir);
<a name="1040"></a>	else
<a name="1041"></a>	{
<a name="1042"></a>		if ( (Physics == PHYS_Walking) || (Physics == PHYS_Falling) )
<a name="1043"></a>			<span class="source_type">NewRotation</span>.Pitch = <span class="source_int">0</span>;
<a name="1044"></a>		SetRotation(<span class="source_type">NewRotation</span>);
<a name="1045"></a>	}
<a name="1046"></a>}
<a name="1047"></a>
<a name="1048"></a><span class="source_type">function</span> ClientDying(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>)
<a name="1049"></a>{
<a name="1050"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="1051"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.ClientDying(<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, <span class="source_type">HitLocation</span>);
<a name="1052"></a>}
<a name="1053"></a>
<a name="1054"></a><span class="source_type">function</span> <span class="source_type">bool</span> InCurrentCombo()
<a name="1055"></a>{
<a name="1056"></a>	return false;
<a name="1057"></a>}
<a name="1058"></a><span class="source_comment">//=============================================================================
</span><a name="1059"></a><span class="source_comment">// Inventory related functions.
</span><a name="1060"></a>
<a name="1061"></a><span class="source_comment">// check before throwing
</span><a name="1062"></a>simulated <span class="source_type">function</span> <span class="source_type">bool</span> CanThrowWeapon()
<a name="1063"></a>{
<a name="1064"></a><span class="source_macro">#if IG_TRIBES3
</span><a name="1065"></a>	return false;
<a name="1066"></a><span class="source_macro">#else
</span><a name="1067"></a>	return ( (<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> != None) && ((<span class="source_type">Level</span>.Game == None) || !<span class="source_type">Level</span>.Game.bWeaponStay) );
<a name="1068"></a><span class="source_macro">#endif
</span><a name="1069"></a>}
<a name="1070"></a>
<a name="1071"></a><span class="source_comment">// toss out a weapon
</span><a name="1072"></a><span class="source_type">function</span> TossWeapon(<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> TossVel)
<a name="1073"></a>{
<a name="1074"></a><span class="source_macro">#if !IG_TRIBES3	//mrfish
</span><a name="1075"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> X,<span class="source_type">Y</span>,Z;
<a name="1076"></a>
<a name="1077"></a>	<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.Velocity = TossVel;
<a name="1078"></a>	GetAxes(Rotation,X,<span class="source_type">Y</span>,Z);
<a name="1079"></a>	<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.DropFrom(Location + <span class="source_int">0.8</span> * CollisionRadius * X - <span class="source_int">0.5</span> * CollisionRadius * <span class="source_type">Y</span>); 
<a name="1080"></a><span class="source_macro">#endif
</span><a name="1081"></a>}	
<a name="1082"></a>
<a name="1083"></a>exec <span class="source_type">function</span> SwitchToLastWeapon()
<a name="1084"></a>{
<a name="1085"></a><span class="source_macro">#if !IG_TRIBES3	//mrfish
</span><a name="1086"></a>	if ( (<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> != None) && (<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.OldWeapon != None) && <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.OldWeapon.HasAmmo() )
<a name="1087"></a>	{
<a name="1088"></a>		PendingWeapon = <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.OldWeapon;
<a name="1089"></a>		<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.PutDown();
<a name="1090"></a>	}
<a name="1091"></a><span class="source_macro">#endif
</span><a name="1092"></a>}	
<a name="1093"></a>
<a name="1094"></a><span class="source_comment">// The player/bot wants to select next item
</span><a name="1095"></a>exec <span class="source_type">function</span> NextItem()
<a name="1096"></a>{
<a name="1097"></a><span class="source_macro">#if !IG_TRIBES3	//mrfish
</span><a name="1098"></a>	if (SelectedItem==None) {
<a name="1099"></a>		SelectedItem = <span class="source_type">Inventory</span>.SelectNext();
<a name="1100"></a>		Return;
<a name="1101"></a>	}
<a name="1102"></a>	if (SelectedItem.<span class="source_type">Inventory</span>!=None)
<a name="1103"></a>		SelectedItem = SelectedItem.<span class="source_type">Inventory</span>.SelectNext(); 
<a name="1104"></a>	else
<a name="1105"></a>		SelectedItem = <span class="source_type">Inventory</span>.SelectNext();
<a name="1106"></a>
<a name="1107"></a>	if ( SelectedItem == None )
<a name="1108"></a>		SelectedItem = <span class="source_type">Inventory</span>.SelectNext();
<a name="1109"></a><span class="source_macro">#endif
</span><a name="1110"></a>}
<a name="1111"></a>
<a name="1112"></a><span class="source_comment">// FindInventoryType()
</span><a name="1113"></a><span class="source_comment">// returns the inventory item of the requested class
</span><a name="1114"></a><span class="source_comment">// if it exists in this pawn's inventory 
</span><a name="1115"></a>
<a name="1116"></a><span class="source_macro">#if !IG_TRIBES3	//mrfish
</span><a name="1117"></a><span class="source_type">function</span> <span class="source_type">Inventory</span> FindInventoryType( <span class="source_type">class</span> DesiredClass )
<a name="1118"></a>{
<a name="1119"></a>	local <span class="source_type">Inventory</span> Inv;
<a name="1120"></a>	local <span class="source_type">int</span> Count;
<a name="1121"></a>
<a name="1122"></a>	for( Inv=<span class="source_type">Inventory</span>; Inv!=None; Inv=Inv.<span class="source_type">Inventory</span> )   
<a name="1123"></a>	{
<a name="1124"></a>		if ( Inv.<span class="source_type">class</span> == DesiredClass )
<a name="1125"></a>			return Inv;
<a name="1126"></a>		Count++;
<a name="1127"></a>		if ( Count &gt; <span class="source_int">1000</span> )
<a name="1128"></a>			return None;
<a name="1129"></a>	}
<a name="1130"></a>	return None;
<a name="1131"></a>} 
<a name="1132"></a><span class="source_macro">#endif	// !IG_TRIBES3
</span><a name="1133"></a>
<a name="1134"></a><span class="source_comment">// Add Item to this pawn's inventory. 
</span><a name="1135"></a><span class="source_comment">// Returns true if successfully added, false if not.
</span><a name="1136"></a><span class="source_macro">#if !IG_TRIBES3	//mrfish
</span><a name="1137"></a><span class="source_type">function</span> <span class="source_type">bool</span> AddInventory( <span class="source_type">inventory</span> <span class="source_type">NewItem</span> )
<a name="1138"></a>{
<a name="1139"></a>	<span class="source_comment">// Skip if already in the inventory.
</span><a name="1140"></a>	local <span class="source_type">inventory</span> Inv;
<a name="1141"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> Last;
<a name="1142"></a>
<a name="1143"></a>	Last = self;
<a name="1144"></a>	
<a name="1145"></a>	<span class="source_comment">// The item should not have been destroyed if we get here.
</span><a name="1146"></a>	if (<span class="source_type">NewItem</span> ==None )
<a name="1147"></a>		log(<span class="source_string">"tried to add none inventory to "</span>$self);
<a name="1148"></a>
<a name="1149"></a>	for( Inv=<span class="source_type">Inventory</span>; Inv!=None; Inv=Inv.<span class="source_type">Inventory</span> )
<a name="1150"></a>	{
<a name="1151"></a>		if( Inv == <span class="source_type">NewItem</span> )
<a name="1152"></a>			return false;
<a name="1153"></a>		Last = Inv;
<a name="1154"></a>	}
<a name="1155"></a>
<a name="1156"></a>	<span class="source_comment">// Add to back of inventory chain (so minimizes net replication effect).
</span><a name="1157"></a>	<span class="source_type">NewItem</span>.SetOwner(Self);
<a name="1158"></a>	<span class="source_type">NewItem</span>.<span class="source_type">Inventory</span> = None;
<a name="1159"></a>	Last.<span class="source_type">Inventory</span> = <span class="source_type">NewItem</span>;
<a name="1160"></a>
<a name="1161"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="1162"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.NotifyAddInventory(<span class="source_type">NewItem</span>);
<a name="1163"></a>	return true;
<a name="1164"></a>}
<a name="1165"></a><span class="source_macro">#endif	// !IG_TRIBES3
</span><a name="1166"></a>
<a name="1167"></a><span class="source_comment">// Remove Item from this pawn's inventory, if it exists.
</span><a name="1168"></a><span class="source_macro">#if !IG_TRIBES3	//mrfish
</span><a name="1169"></a><span class="source_type">function</span> DeleteInventory( <span class="source_type">inventory</span> <span class="source_type">Item</span> )
<a name="1170"></a>{
<a name="1171"></a>	<span class="source_comment">// If this item is in our inventory chain, unlink it.
</span><a name="1172"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> Link;
<a name="1173"></a>	local <span class="source_type">int</span> Count;
<a name="1174"></a>
<a name="1175"></a>	if ( <span class="source_type">Item</span> == <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> )
<a name="1176"></a>		<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> = None;
<a name="1177"></a>	if ( <span class="source_type">Item</span> == SelectedItem )
<a name="1178"></a>		SelectedItem = None;
<a name="1179"></a>	for( Link = Self; Link!=None; Link=Link.<span class="source_type">Inventory</span> )
<a name="1180"></a>	{
<a name="1181"></a>		if( Link.<span class="source_type">Inventory</span> == <span class="source_type">Item</span> )
<a name="1182"></a>		{
<a name="1183"></a>			Link.<span class="source_type">Inventory</span> = <span class="source_type">Item</span>.<span class="source_type">Inventory</span>;
<a name="1184"></a>			<span class="source_type">Item</span>.<span class="source_type">Inventory</span> = None;
<a name="1185"></a>			break;
<a name="1186"></a>		}
<a name="1187"></a>		if ( <span class="source_type">Level</span>.NetMode == NM_Client )
<a name="1188"></a>		{
<a name="1189"></a>		Count++;
<a name="1190"></a>		if ( Count &gt; <span class="source_int">1000</span> )
<a name="1191"></a>			break;
<a name="1192"></a>	}
<a name="1193"></a>	}
<a name="1194"></a>	<span class="source_type">Item</span>.SetOwner(None);
<a name="1195"></a>}
<a name="1196"></a><span class="source_macro">#endif	// !IG_TRIBES3
</span><a name="1197"></a>
<a name="1198"></a><span class="source_comment">// Just changed to pendingWeapon
</span><a name="1199"></a><span class="source_type">function</span> ChangedWeapon()
<a name="1200"></a>{
<a name="1201"></a><span class="source_macro">#if !IG_TRIBES3	//mrfish
</span><a name="1202"></a>	local <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> OldWeapon;
<a name="1203"></a>
<a name="1204"></a>	OldWeapon = <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>;
<a name="1205"></a>
<a name="1206"></a>	if (<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> == PendingWeapon)
<a name="1207"></a>	{
<a name="1208"></a>		if ( <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> == None )
<a name="1209"></a>		{
<a name="1210"></a>			<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.SwitchToBestWeapon();
<a name="1211"></a>			return;
<a name="1212"></a>		}
<a name="1213"></a>		else if ( <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.IsInState(<span class="source_name">'DownWeapon'</span>) ) 
<a name="1214"></a>			<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.GotoState(<span class="source_name">'Idle'</span>);
<a name="1215"></a>		PendingWeapon = None;
<a name="1216"></a>		ServerChangedWeapon(OldWeapon, <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>);
<a name="1217"></a>		return;
<a name="1218"></a>	}
<a name="1219"></a>	if ( PendingWeapon == None )
<a name="1220"></a>		PendingWeapon = <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>;
<a name="1221"></a>		
<a name="1222"></a>	<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> = PendingWeapon;
<a name="1223"></a>	if ( (<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> != None) && (<span class="source_type">Level</span>.NetMode == NM_Client) )
<a name="1224"></a>		<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.BringUp(OldWeapon);
<a name="1225"></a>	PendingWeapon = None;
<a name="1226"></a>	<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.Instigator = self;
<a name="1227"></a>	ServerChangedWeapon(OldWeapon, <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>);
<a name="1228"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="1229"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.ChangedWeapon();
<a name="1230"></a><span class="source_macro">#endif	// !IG_TRIBES3
</span><a name="1231"></a>}
<a name="1232"></a>
<a name="1233"></a><span class="source_macro">#if !IG_TRIBES3	//mrfish
</span><a name="1234"></a><span class="source_type">function</span> <span class="source_type">name</span> GetWeaponBoneFor(<span class="source_type">Inventory</span> <span class="source_type">I</span>)
<a name="1235"></a>{
<a name="1236"></a>	return <span class="source_name">'righthand'</span>;
<a name="1237"></a>}
<a name="1238"></a><span class="source_macro">#endif	// !IG_TRIBES3
</span><a name="1239"></a>
<a name="1240"></a><span class="source_macro">#if !IG_TRIBES3	//mrfish
</span><a name="1241"></a><span class="source_type">function</span> ServerChangedWeapon(<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> OldWeapon, <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> W)
<a name="1242"></a>{
<a name="1243"></a>	if ( OldWeapon != None )
<a name="1244"></a>	{
<a name="1245"></a>		OldWeapon.SetDefaultDisplayProperties();
<a name="1246"></a>		OldWeapon.DetachFromPawn(self);		
<a name="1247"></a>	}
<a name="1248"></a>	<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> = W;
<a name="1249"></a>	if ( <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> == None )
<a name="1250"></a>		return;
<a name="1251"></a>
<a name="1252"></a>	if ( <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> != None )
<a name="1253"></a>	{
<a name="1254"></a>		<span class="source_comment">//log("ServerChangedWeapon: Attaching Weapon to actor bone.");
</span><a name="1255"></a>		<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.AttachToPawn(self);
<a name="1256"></a>	}
<a name="1257"></a>
<a name="1258"></a>	<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.SetRelativeLocation(<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.Default.RelativeLocation);
<a name="1259"></a>	<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.SetRelativeRotation(<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.Default.RelativeRotation);
<a name="1260"></a>	if ( OldWeapon == <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span> )
<a name="1261"></a>	{
<a name="1262"></a>		if ( <span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.IsInState(<span class="source_name">'DownWeapon'</span>) ) 
<a name="1263"></a>			<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.BringUp();
<a name="1264"></a>		<span class="source_type">Inventory</span>.OwnerEvent(<span class="source_name">'ChangedWeapon'</span>); <span class="source_comment">// tell inventory that weapon changed (in case any effect was being applied)
</span><a name="1265"></a>		return;
<a name="1266"></a>	}
<a name="1267"></a>	else if ( <span class="source_type">Level</span>.Game != None )
<a name="1268"></a>		MakeNoise(<span class="source_int">0.1</span> * <span class="source_type">Level</span>.Game.GameDifficulty);		
<a name="1269"></a>	<span class="source_type">Inventory</span>.OwnerEvent(<span class="source_name">'ChangedWeapon'</span>); <span class="source_comment">// tell inventory that weapon changed (in case any effect was being applied)
</span><a name="1270"></a>
<a name="1271"></a>	PlayWeaponSwitch(W);
<a name="1272"></a>	<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>.BringUp(OldWeapon);
<a name="1273"></a>}
<a name="1274"></a><span class="source_macro">#endif	// !IG_TRIBES3
</span><a name="1275"></a>
<a name="1276"></a><span class="source_comment">//==============
</span><a name="1277"></a><span class="source_comment">// Encroachment
</span><a name="1278"></a>event <span class="source_type">bool</span> EncroachingOn( <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type">Other</span> )
<a name="1279"></a>{
<a name="1280"></a>	if ( <span class="source_type">Other</span>.bWorldGeometry )
<a name="1281"></a>		return true;
<a name="1282"></a>		
<a name="1283"></a>	if ( ((<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> == None) || !<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.bIsPlayer || bWarping) && (<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(<span class="source_type">Other</span>) != None) )
<a name="1284"></a>		return true;
<a name="1285"></a>		
<a name="1286"></a>	return false;
<a name="1287"></a>}
<a name="1288"></a>
<a name="1289"></a>event EncroachedBy( <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type">Other</span> )
<a name="1290"></a>{
<a name="1291"></a><span class="source_macro">#if !IG_TRIBES3	// rowan: not using this
</span><a name="1292"></a>	<span class="source_comment">// Allow encroachment by Vehicles so they can push the pawn out of the way
</span><a name="1293"></a>	if ( <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(<span class="source_type">Other</span>) != None && <span class="source_type"><a href="../gameplay/vehicle.html" class="source">Vehicle</a></span>(<span class="source_type">Other</span>) == None )
<a name="1294"></a>		gibbedBy(<span class="source_type">Other</span>);
<a name="1295"></a><span class="source_macro">#endif
</span><a name="1296"></a>}
<a name="1297"></a>
<a name="1298"></a><span class="source_type">function</span> gibbedBy(<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type">Other</span>)
<a name="1299"></a>{
<a name="1300"></a><span class="source_macro">#if !IG_TRIBES3	// marc: not using this, either
</span><a name="1301"></a>	if ( Role &lt; ROLE_Authority )
<a name="1302"></a>		return;
<a name="1303"></a>	if ( <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(<span class="source_type">Other</span>) != None )
<a name="1304"></a>		Died(<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(<span class="source_type">Other</span>).<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>, <span class="source_type">class</span><span class="source_name">'DamTypeTelefragged'</span>, Location);
<a name="1305"></a>	else
<a name="1306"></a>		Died(None, <span class="source_type">class</span><span class="source_name">'Gibbed'</span>, Location);
<a name="1307"></a><span class="source_macro">#endif
</span><a name="1308"></a>}
<a name="1309"></a>
<a name="1310"></a><span class="source_comment">//Base change - if new base is pawn or decoration, damage based on relative mass and old velocity
</span><a name="1311"></a><span class="source_comment">// Also, non-players will jump off pawns immediately
</span><a name="1312"></a><span class="source_type">function</span> JumpOffPawn()
<a name="1313"></a>{
<a name="1314"></a>	Velocity += (<span class="source_int">100</span> + CollisionRadius) * VRand();
<a name="1315"></a>	Velocity.Z = <span class="source_int">200</span> + CollisionHeight;
<a name="1316"></a>	SetPhysics(PHYS_Falling);
<a name="1317"></a>	bNoJumpAdjust = true;
<a name="1318"></a>	<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.SetFall();
<a name="1319"></a>}
<a name="1320"></a>
<a name="1321"></a>singular event BaseChange()
<a name="1322"></a>{
<a name="1323"></a>	local <span class="source_type">float</span> decorMass;
<a name="1324"></a>	
<a name="1325"></a>	if ( bInterpolating )
<a name="1326"></a>		return;
<a name="1327"></a>	if ( (base == None) && (Physics == PHYS_None) )
<a name="1328"></a>		SetPhysics(PHYS_Falling);
<a name="1329"></a>	<span class="source_comment">// Pawns can only set base to non-pawns, or pawns which specifically allow it.
</span><a name="1330"></a>	<span class="source_comment">// Otherwise we do some damage and jump off.
</span><a name="1331"></a>	else if ( <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(Base) != None )
<a name="1332"></a>	{	
<a name="1333"></a>		if ( !<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(Base).bCanBeBaseForPawns )
<a name="1334"></a>		{
<a name="1335"></a>			Base.TakeDamage( (<span class="source_int">1</span>-Velocity.Z/<span class="source_int">400</span>)* Mass/Base.Mass, Self,Location,<span class="source_int">0.5</span> * Velocity , <span class="source_type">class</span><span class="source_name">'Crushed'</span>);
<a name="1336"></a>			JumpOffPawn();
<a name="1337"></a>		}
<a name="1338"></a>	}
<a name="1339"></a>	else if ( (<span class="source_type"><a href="../engine/decoration.html" class="source">Decoration</a></span>(Base) != None) && (Velocity.Z &lt; -<span class="source_int">400</span>) )
<a name="1340"></a>	{
<a name="1341"></a>		decorMass = FMax(<span class="source_type"><a href="../engine/decoration.html" class="source">Decoration</a></span>(Base).Mass, <span class="source_int">1</span>);
<a name="1342"></a>		Base.TakeDamage((-<span class="source_int">2</span>* Mass/decorMass * Velocity.Z/<span class="source_int">400</span>), Self, Location, <span class="source_int">0.5</span> * Velocity, <span class="source_type">class</span><span class="source_name">'Crushed'</span>);
<a name="1343"></a>	}
<a name="1344"></a>}
<a name="1345"></a>
<a name="1346"></a>event UpdateEyeHeight( <span class="source_type">float</span> <span class="source_type">DeltaTime</span> )
<a name="1347"></a>{
<a name="1348"></a>	local <span class="source_type">float</span> smooth, MaxEyeHeight;
<a name="1349"></a>	local <span class="source_type">float</span> OldEyeHeight;
<a name="1350"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> HitActor;
<a name="1351"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>,HitNormal;
<a name="1352"></a>
<a name="1353"></a>	if (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> == None )
<a name="1354"></a>	{
<a name="1355"></a>		EyeHeight = <span class="source_int">0</span>;
<a name="1356"></a>		return;
<a name="1357"></a>	}
<a name="1358"></a>	if ( bTearOff )
<a name="1359"></a>	{
<a name="1360"></a>		EyeHeight = <span class="source_int">0</span>;
<a name="1361"></a>		bUpdateEyeHeight = false;
<a name="1362"></a>		return;
<a name="1363"></a>	}
<a name="1364"></a>	HitActor = trace(<span class="source_type">HitLocation</span>,HitNormal,Location + (CollisionHeight + MAXSTEPHEIGHT + <span class="source_int">14</span>) * vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">1</span>),
<a name="1365"></a>					Location + CollisionHeight * vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">1</span>),true);
<a name="1366"></a>	if ( HitActor == None )
<a name="1367"></a>		MaxEyeHeight = CollisionHeight + MAXSTEPHEIGHT;
<a name="1368"></a>	else
<a name="1369"></a>		MaxEyeHeight = <span class="source_type">HitLocation</span>.Z - Location.Z - <span class="source_int">14</span>;
<a name="1370"></a>
<a name="1371"></a>	<span class="source_comment">// smooth up/down stairs
</span><a name="1372"></a>	smooth = FMin(<span class="source_int">1.0</span>, <span class="source_int">10.0</span> * <span class="source_type">DeltaTime</span>/<span class="source_type">Level</span>.TimeDilation);
<a name="1373"></a>	If( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.WantsSmoothedView() )
<a name="1374"></a>	{
<a name="1375"></a>		OldEyeHeight = EyeHeight;
<a name="1376"></a>		EyeHeight = FClamp((EyeHeight - Location.Z + OldZ) * (<span class="source_int">1</span> - smooth) + BaseEyeHeight * smooth,
<a name="1377"></a>							-<span class="source_int">0.5</span> * CollisionHeight, MaxEyeheight);
<a name="1378"></a>	}
<a name="1379"></a>	else
<a name="1380"></a>	{
<a name="1381"></a>		bJustLanded = false;
<a name="1382"></a>		EyeHeight = FMin(EyeHeight * ( <span class="source_int">1</span> - smooth) + BaseEyeHeight * smooth, MaxEyeHeight);
<a name="1383"></a>	}
<a name="1384"></a>	<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.AdjustView(<span class="source_type">DeltaTime</span>);
<a name="1385"></a>}
<a name="1386"></a>
<a name="1387"></a><span class="source_comment">/* EyePosition()
<a name="1388"></a>Called by PlayerController to determine camera position in first person view.  Returns
<a name="1389"></a>the offset from the Pawn's location at which to place the camera
<a name="1390"></a>*/</span>
<a name="1391"></a>simulated <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> EyePosition()
<a name="1392"></a>{
<a name="1393"></a>	return EyeHeight * vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">1</span>) + WalkBob;
<a name="1394"></a>}
<a name="1395"></a>
<a name="1396"></a><span class="source_comment">//=============================================================================
</span><a name="1397"></a>
<a name="1398"></a>simulated event Destroyed()
<a name="1399"></a>{
<a name="1400"></a><span class="source_macro">#if IG_SHARED // ckline: notifications upon Pawn death and Actor destruction
</span><a name="1401"></a>	<span class="source_comment">// it's possible the pawn was destroyed and never got Died() called on it,
</span><a name="1402"></a>	<span class="source_comment">// (e.g., with the 'Killall' console command) so we'll notify here just in case.
</span><a name="1403"></a>	NotifyPawnDeathListeners();    
<a name="1404"></a><span class="source_macro">#endif
</span><a name="1405"></a>
<a name="1406"></a>	<span class="source_comment">// remove the Pawn from the Level's Pawn list
</span><a name="1407"></a>    RemovePawn();
<a name="1408"></a>
<a name="1409"></a>	if ( Shadow != None )
<a name="1410"></a>		Shadow.Destroy();
<a name="1411"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="1412"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.PawnDied(self);
<a name="1413"></a><span class="source_macro">#if !IG_TRIBES3	// michaelj:  No apparent need to return here
</span><a name="1414"></a>	if ( <span class="source_type">Level</span>.NetMode == NM_Client )
<a name="1415"></a>		return;
<a name="1416"></a>
<a name="1417"></a>	while ( <span class="source_type">Inventory</span> != None )
<a name="1418"></a>		<span class="source_type">Inventory</span>.Destroy();
<a name="1419"></a><span class="source_macro">#endif
</span><a name="1420"></a>
<a name="1421"></a><span class="source_comment">//	Weapon = None;
</span><a name="1422"></a>	Super.Destroyed();
<a name="1423"></a>}
<a name="1424"></a>
<a name="1425"></a><span class="source_comment">//=============================================================================
</span><a name="1426"></a><span class="source_comment">//
</span><a name="1427"></a><span class="source_comment">// Called immediately before gameplay begins.
</span><a name="1428"></a><span class="source_comment">//
</span><a name="1429"></a>event PreBeginPlay()
<a name="1430"></a>{
<a name="1431"></a>	Super.PreBeginPlay();
<a name="1432"></a>	Instigator = self;
<a name="1433"></a>	DesiredRotation = Rotation;
<a name="1434"></a>	if ( bDeleteMe )
<a name="1435"></a>		return;
<a name="1436"></a>
<a name="1437"></a>	if ( BaseEyeHeight == <span class="source_int">0</span> )
<a name="1438"></a>		BaseEyeHeight = <span class="source_int">0.8</span> * CollisionHeight;
<a name="1439"></a>	EyeHeight = BaseEyeHeight;
<a name="1440"></a>
<a name="1441"></a>	if ( menuname == <span class="source_string">""</span> )
<a name="1442"></a>		menuname = GetItemName(<span class="source_type">string</span>(<span class="source_type">class</span>));
<a name="1443"></a>
<a name="1444"></a><span class="source_macro">#if IG_SHARED
</span><a name="1445"></a>	AddPawn();
<a name="1446"></a><span class="source_macro">#endif  // IG_SHARED
</span><a name="1447"></a>}
<a name="1448"></a>
<a name="1449"></a><span class="source_macro">#if IG_TRIBES3	// michaelj:  Made simulated so that effects trigger
</span><a name="1450"></a>simulated event PostBeginPlay()
<a name="1451"></a><span class="source_macro">#else
</span><a name="1452"></a>event PostBeginPlay()
<a name="1453"></a><span class="source_macro">#endif
</span><a name="1454"></a>{
<a name="1455"></a><span class="source_comment">//	local AIScript A;
</span><a name="1456"></a>
<a name="1457"></a>	Super.PostBeginPlay();
<a name="1458"></a>	SplashTime = <span class="source_int">0</span>;
<a name="1459"></a>	SpawnTime = <span class="source_type">Level</span>.TimeSeconds;
<a name="1460"></a>	EyeHeight = BaseEyeHeight;
<a name="1461"></a>	OldRotYaw = Rotation.Yaw;
<a name="1462"></a>
<a name="1463"></a>	<span class="source_comment">// automatically add controller to pawns which were placed in level
</span><a name="1464"></a>	<span class="source_comment">// NOTE: pawns spawned during gameplay are not automatically possessed by a controller
</span><a name="1465"></a><span class="source_comment">//	if ( Level.bStartup && (Health &gt; 0) && !bDontPossess )
</span><a name="1466"></a><span class="source_comment">//	{
</span><a name="1467"></a>		<span class="source_comment">// check if I have an AI Script
</span><a name="1468"></a><span class="source_comment">/*
<a name="1469"></a>		if ( AIScriptTag != '' )
<a name="1470"></a>		{
<a name="1471"></a>			ForEach AllActors(class'AIScript',A,AIScriptTag)
<a name="1472"></a>				break;
<a name="1473"></a>			// let the AIScript spawn and init my controller
<a name="1474"></a>			if ( A != None )
<a name="1475"></a>			{
<a name="1476"></a>				A.SpawnControllerFor(self);
<a name="1477"></a>				if ( Controller != None )
<a name="1478"></a>					return;
<a name="1479"></a>			}
<a name="1480"></a>		}
<a name="1481"></a>*/</span>
<a name="1482"></a>
<a name="1483"></a><span class="source_comment">//		if ( (ControllerClass != None) && (Controller == None) )
</span><a name="1484"></a><span class="source_comment">//			Controller = spawn(ControllerClass);
</span><a name="1485"></a>
<a name="1486"></a><span class="source_comment">//		if ( Controller != None )
</span><a name="1487"></a><span class="source_comment">//		{
</span><a name="1488"></a><span class="source_comment">//			Controller.Possess(self);
</span><a name="1489"></a><span class="source_comment">//			AIController(Controller).Skill += SkillModifier;
</span><a name="1490"></a><span class="source_comment">//		}
</span><a name="1491"></a><span class="source_comment">//	}
</span><a name="1492"></a>}
<a name="1493"></a>
<a name="1494"></a><span class="source_comment">// called after PostBeginPlay on net client
</span><a name="1495"></a>simulated event PostNetBeginPlay()
<a name="1496"></a>{
<a name="1497"></a>	<span class="source_comment">// &gt;&gt;&gt; IGA - solve the problem of animations freezing in multiplay
</span><a name="1498"></a>	ChangeAnimation();
<a name="1499"></a>
<a name="1500"></a>	if ( <span class="source_type">Level</span>.bDropDetail || (<span class="source_type">Level</span>.DetailMode == DM_Low) )
<a name="1501"></a>		MaxLights = Min(<span class="source_int">4</span>,MaxLights);
<a name="1502"></a>	if ( Role == ROLE_Authority )
<a name="1503"></a>		return;
<a name="1504"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="1505"></a>	{
<a name="1506"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> = self;
<a name="1507"></a>		if ( (<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) != None)
<a name="1508"></a>			&& (<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).<span class="source_type">ViewTarget</span> == <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) )
<a name="1509"></a>			<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).SetViewTarget(self);
<a name="1510"></a>	} 
<a name="1511"></a>
<a name="1512"></a>	if ( Role == ROLE_AutonomousProxy )
<a name="1513"></a>		bUpdateEyeHeight = true;
<a name="1514"></a>
<a name="1515"></a>	if ( (<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None) 
<a name="1516"></a>		&& (<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Owner</span> == None) )
<a name="1517"></a>		<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.SetOwner(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>);
<a name="1518"></a>	PlayWaiting();
<a name="1519"></a>}
<a name="1520"></a>
<a name="1521"></a><span class="source_macro">#if IG_SHARED // karl: Fix for savegames
</span><a name="1522"></a>event PostLoadGame()
<a name="1523"></a>{
<a name="1524"></a><span class="source_macro">#if IG_TRIBES3
</span><a name="1525"></a>	AddPawn();
<a name="1526"></a><span class="source_macro">#endif // IG
</span><a name="1527"></a>
<a name="1528"></a>	bInitializeAnimation = false;
<a name="1529"></a>	PlayWaiting();
<a name="1530"></a>}
<a name="1531"></a><span class="source_macro">#endif
</span><a name="1532"></a>
<a name="1533"></a>simulated <span class="source_type">function</span> SetMesh()
<a name="1534"></a>{
<a name="1535"></a>    if (<span class="source_type">Mesh</span> != None)
<a name="1536"></a>        return;
<a name="1537"></a>
<a name="1538"></a>	LinkMesh( default.<span class="source_type">mesh</span> );
<a name="1539"></a>}
<a name="1540"></a>
<a name="1541"></a><span class="source_type">function</span> Gasp();
<a name="1542"></a><span class="source_type">function</span> SetMovementPhysics();
<a name="1543"></a>
<a name="1544"></a><span class="source_macro">#if IG_TRIBES3 // Ryan: send message when damaged
</span><a name="1545"></a><span class="source_type">function</span> ApplyDamage(<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> instigatedBy, <span class="source_type">float</span> Damage, optional <span class="source_type">Name</span> teamLabel)
<a name="1546"></a>{
<a name="1547"></a>	Health -= Damage;
<a name="1548"></a>
<a name="1549"></a>	if (bSendsDamagedMessages)
<a name="1550"></a>	{
<a name="1551"></a>		if (instigatedBy != None )
<a name="1552"></a>			dispatchMessage(new <span class="source_type">class</span><span class="source_name">'MessageDamaged'</span>(instigatedBy.Label, teamLabel, Label, damage));
<a name="1553"></a>		else
<a name="1554"></a>			dispatchMessage(new <span class="source_type">class</span><span class="source_name">'MessageDamaged'</span>(<span class="source_name">''</span>, teamLabel, Label, damage));
<a name="1555"></a>	}
<a name="1556"></a>}
<a name="1557"></a><span class="source_macro">#endif // IG
</span><a name="1558"></a>
<a name="1559"></a><span class="source_macro">#if IG_SHARED  //tcohen: hooked TakeDamage(), used by effects system and reactive world objects
</span><a name="1560"></a><span class="source_type">function</span> PostTakeDamage( <span class="source_type">float</span> Damage, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> instigatedBy, <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> <span class="source_type">hitlocation</span>, 
<a name="1561"></a>						<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> momentum, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>, optional <span class="source_type">float</span> projectileFactor)
<a name="1562"></a><span class="source_macro">#else
</span><a name="1563"></a><span class="source_type">function</span> TakeDamage( <span class="source_type">int</span> Damage, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> instigatedBy, <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> <span class="source_type">hitlocation</span>, 
<a name="1564"></a>						<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> momentum, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>)
<a name="1565"></a><span class="source_macro">#endif
</span><a name="1566"></a>{
<a name="1567"></a><span class="source_macro">#if IG_TRIBES3 // Ryan: use float for health
</span><a name="1568"></a>	local <span class="source_type">float</span> actualDamage;
<a name="1569"></a><span class="source_macro">#else
</span><a name="1570"></a>	local <span class="source_type">int</span> actualDamage;
<a name="1571"></a><span class="source_macro">#endif // IG
</span><a name="1572"></a>	local <span class="source_type">bool</span> bAlreadyDead;
<a name="1573"></a>	local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> Killer;
<a name="1574"></a>
<a name="1575"></a><span class="source_macro">#if !IG_TRIBES3	//mrfish
</span><a name="1576"></a>	if ( <span class="source_type"><a href="../engine/damagetype.html" class="source">damagetype</a></span> == None )
<a name="1577"></a>	{
<a name="1578"></a>		if ( InstigatedBy != None )
<a name="1579"></a>		warn(<span class="source_string">"No damagetype for damage by "</span>$instigatedby$<span class="source_string">" with weapon "</span>$InstigatedBy.<span class="source_type"><a href="../gameplay/weapon.html" class="source">Weapon</a></span>);
<a name="1580"></a>		<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span> = <span class="source_type">class</span><span class="source_name">'DamageType'</span>;
<a name="1581"></a>	}
<a name="1582"></a><span class="source_macro">#endif
</span><a name="1583"></a>	if ( Role &lt; ROLE_Authority )
<a name="1584"></a>	{
<a name="1585"></a>		log(self$<span class="source_string">" client damage type "</span>$<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>$<span class="source_string">" by "</span>$instigatedBy);
<a name="1586"></a>		return;
<a name="1587"></a>	}
<a name="1588"></a>
<a name="1589"></a><span class="source_macro">#if IG_TRIBES3
</span><a name="1590"></a>	if (!bCanBeDamaged)
<a name="1591"></a>		return;
<a name="1592"></a><span class="source_macro">#endif
</span><a name="1593"></a>
<a name="1594"></a>	bAlreadyDead = (Health &lt;= <span class="source_int">0</span>);
<a name="1595"></a>
<a name="1596"></a>	if (Physics == PHYS_None)
<a name="1597"></a>		SetMovementPhysics();
<a name="1598"></a>		
<a name="1599"></a><span class="source_macro">#if !IG_TRIBES3		
</span><a name="1600"></a>	if (Physics == PHYS_Walking)
<a name="1601"></a>		momentum.Z = FMax(momentum.Z, <span class="source_int">0.4</span> * VSize(momentum));
<a name="1602"></a>	if ( (instigatedBy == self) 
<a name="1603"></a>		|| ((<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None) && (InstigatedBy != None) && (InstigatedBy.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None) && InstigatedBy.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.SameTeamAs(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>)) )
<a name="1604"></a>		momentum *= <span class="source_int">0.6</span>;
<a name="1605"></a><span class="source_macro">#endif
</span><a name="1606"></a>
<a name="1607"></a>	momentum = momentum/Mass;
<a name="1608"></a>
<a name="1609"></a><span class="source_comment">//	actualDamage = Level.Game.ReduceDamage(Damage, self, instigatedBy, HitLocation, Momentum, DamageType);
</span><a name="1610"></a>	actualDamage = Damage;
<a name="1611"></a>
<a name="1612"></a><span class="source_macro">#if IG_TRIBES3
</span><a name="1613"></a>	ApplyDamage(instigatedBy, actualDamage);
<a name="1614"></a><span class="source_macro">#else
</span><a name="1615"></a>	Health -= actualDamage;
<a name="1616"></a><span class="source_macro">#endif // IG
</span><a name="1617"></a>
<a name="1618"></a>	if ( <span class="source_type">HitLocation</span> == vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">0</span>) )       <span class="source_comment">// glenn: this is dodgy!
</span><a name="1619"></a>		<span class="source_type">HitLocation</span> = Location;
<a name="1620"></a>	if ( bAlreadyDead )
<a name="1621"></a>	{
<a name="1622"></a>		Warn(self$<span class="source_string">" took regular damage "</span>$<span class="source_type"><a href="../engine/damagetype.html" class="source">damagetype</a></span>$<span class="source_string">" from "</span>$instigatedby$<span class="source_string">" while already dead at "</span>$<span class="source_type">Level</span>.TimeSeconds);
<a name="1623"></a>		ChunkUp(Rotation, <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>);
<a name="1624"></a>		return;
<a name="1625"></a>	}
<a name="1626"></a>
<a name="1627"></a>	PlayHit(actualDamage,InstigatedBy, <span class="source_type">hitLocation</span>, <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>, Momentum);
<a name="1628"></a>	if ( Health &lt;= <span class="source_int">0</span> )
<a name="1629"></a>	{
<a name="1630"></a>		<span class="source_comment">// pawn died
</span><a name="1631"></a>		if ( instigatedBy != None )
<a name="1632"></a>			Killer = instigatedBy.GetKillerController();
<a name="1633"></a>		if ( bPhysicsAnimUpdate )
<a name="1634"></a>			TearOffMomentum = momentum;
<a name="1635"></a>		Died(Killer, <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>, <span class="source_type">HitLocation</span>);
<a name="1636"></a>	}
<a name="1637"></a>	else
<a name="1638"></a>	{
<a name="1639"></a>	    <span class="source_macro">#if !IG_TRIBES3
</span><a name="1640"></a>		if ( (InstigatedBy != None) && (InstigatedBy != self) && (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None)
<a name="1641"></a>			&& (InstigatedBy.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None) && InstigatedBy.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.SameTeamAs(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) ) 
<a name="1642"></a>			Momentum *= <span class="source_int">0.5</span>;
<a name="1643"></a>		<span class="source_macro">#endif
</span><a name="1644"></a>			
<a name="1645"></a>		AddVelocity( momentum );
<a name="1646"></a>		if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="1647"></a>			<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.NotifyTakeHit(instigatedBy, <span class="source_type">HitLocation</span>, actualDamage, <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, Momentum);
<a name="1648"></a>	}
<a name="1649"></a>	MakeNoise(<span class="source_int">1.0</span>); 
<a name="1650"></a>}
<a name="1651"></a>
<a name="1652"></a><span class="source_comment">//function TeamInfo GetTeam()
</span><a name="1653"></a><span class="source_comment">//{
</span><a name="1654"></a><span class="source_comment">//#if !IG_TRIBES3 // david: not using Unreal team object
</span><a name="1655"></a><span class="source_comment">//	if ( PlayerReplicationInfo != None )
</span><a name="1656"></a><span class="source_comment">//		return PlayerReplicationInfo.Team;
</span><a name="1657"></a><span class="source_comment">//#endif
</span><a name="1658"></a><span class="source_comment">//	return None;
</span><a name="1659"></a><span class="source_comment">//}
</span><a name="1660"></a>
<a name="1661"></a><span class="source_type">function</span> <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> GetKillerController()
<a name="1662"></a>{
<a name="1663"></a>	return <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>;
<a name="1664"></a>}
<a name="1665"></a>
<a name="1666"></a><span class="source_macro">#if IG_SHARED // ckline: notifications upon Pawn death and Actor destruction
</span><a name="1667"></a><span class="source_comment">// Notify anyone who registered with the LevelInfo for pawn death notification.
</span><a name="1668"></a><span class="source_comment">// It is safe to call this multiple times on the same Pawn; the function 
</span><a name="1669"></a><span class="source_comment">// automatically handles this so that listeners are only notified once.
</span><a name="1670"></a>native <span class="source_type">function</span> NotifyPawnDeathListeners();    
<a name="1671"></a><span class="source_macro">#endif
</span><a name="1672"></a>
<a name="1673"></a><span class="source_type">function</span> Died(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> Killer, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>)
<a name="1674"></a>{
<a name="1675"></a><span class="source_comment">//    local Vector TossVel;
</span><a name="1676"></a>
<a name="1677"></a>	if ( bDeleteMe || <span class="source_type">Level</span>.bLevelChange )
<a name="1678"></a>		return; <span class="source_comment">// already destroyed, or level is being cleaned up
</span><a name="1679"></a>
<a name="1680"></a>	<span class="source_comment">// mutator hook to prevent deaths
</span><a name="1681"></a>	<span class="source_comment">// WARNING - don't prevent bot suicides - they suicide when really needed
</span><a name="1682"></a>	if ( <span class="source_type">Level</span>.Game.PreventDeath(self, Killer, <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>, <span class="source_type">HitLocation</span>) )
<a name="1683"></a>	{
<a name="1684"></a>		Health = max(Health, <span class="source_int">1</span>); <span class="source_comment">//mutator should set this higher
</span><a name="1685"></a>		return;
<a name="1686"></a>	}
<a name="1687"></a>	Health = Min(<span class="source_int">0</span>, Health);
<a name="1688"></a>
<a name="1689"></a><span class="source_macro">#if IG_SHARED // ckline: notifications upon Pawn death and Actor destruction
</span><a name="1690"></a>	NotifyPawnDeathListeners();    
<a name="1691"></a><span class="source_macro">#endif
</span><a name="1692"></a>
<a name="1693"></a><span class="source_comment">/*  if (Weapon != None)
<a name="1694"></a>    {
<a name="1695"></a>		if ( Controller != None )
<a name="1696"></a>			Controller.LastPawnWeapon = Weapon.Class;
<a name="1697"></a>        Weapon.HolderDied();
<a name="1698"></a>        TossVel = Vector(GetViewRotation());
<a name="1699"></a>        TossVel = TossVel * ((Velocity Dot TossVel) + 500) + Vect(0,0,200);
<a name="1700"></a>        TossWeapon(TossVel);
<a name="1701"></a>    }
<a name="1702"></a>*/</span>
<a name="1703"></a>
<a name="1704"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None ) 
<a name="1705"></a>	{   
<a name="1706"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.WasKilledBy(Killer);
<a name="1707"></a>	<span class="source_type">Level</span>.Game.Killed(Killer, <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>, self, <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>);
<a name="1708"></a>	}
<a name="1709"></a>	else
<a name="1710"></a>		<span class="source_type">Level</span>.Game.Killed(Killer, <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>(<span class="source_type">Owner</span>), self, <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>);
<a name="1711"></a>
<a name="1712"></a>	if ( Killer != None )
<a name="1713"></a>		TriggerEvent(Event, self, Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>);
<a name="1714"></a>	else
<a name="1715"></a>		TriggerEvent(Event, self, None);
<a name="1716"></a>
<a name="1717"></a>	Velocity.Z *= <span class="source_int">1.3</span>;
<a name="1718"></a>	if ( IsHumanControlled() )
<a name="1719"></a>		<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).ForceDeathUpdate();
<a name="1720"></a>    if ( (<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span> != None) && <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>.default.bAlwaysGibs )
<a name="1721"></a>		ChunkUp( Rotation, <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span> );
<a name="1722"></a>	else
<a name="1723"></a>	{
<a name="1724"></a>		PlayDying(<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, <span class="source_type">HitLocation</span>);
<a name="1725"></a>		if ( <span class="source_type">Level</span>.Game.bGameEnded )
<a name="1726"></a>			return;
<a name="1727"></a>		if ( !bPhysicsAnimUpdate && !IsLocallyControlled() )
<a name="1728"></a>			ClientDying(<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, <span class="source_type">HitLocation</span>);
<a name="1729"></a>	}
<a name="1730"></a>}
<a name="1731"></a>
<a name="1732"></a><span class="source_type">function</span> <span class="source_type">bool</span> Gibbed(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>)
<a name="1733"></a>{
<a name="1734"></a>	if ( <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>.default.GibModifier == <span class="source_int">0</span> )
<a name="1735"></a>		return false; 
<a name="1736"></a>	if ( <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>.default.GibModifier &gt;= <span class="source_int">100</span> )
<a name="1737"></a>		return true;	
<a name="1738"></a>	if ( (Health &lt; -<span class="source_int">80</span>) || ((Health &lt; -<span class="source_int">40</span>) && (FRand() &lt; <span class="source_int">0.6</span>)) )
<a name="1739"></a>		return true;
<a name="1740"></a>	return false;
<a name="1741"></a>}
<a name="1742"></a>
<a name="1743"></a><span class="source_macro">#if IG_SHARED	// marc: used for Tyrion object termination/cleanup
</span><a name="1744"></a>static final <span class="source_type">function</span> <span class="source_type">bool</span> checkAlive( <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> )
<a name="1745"></a>{
<a name="1746"></a>	return <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> != None && !<span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>.bDeleteMe && <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>.Health &gt; <span class="source_int">0</span>;
<a name="1747"></a>}
<a name="1748"></a><span class="source_macro">#endif
</span><a name="1749"></a>
<a name="1750"></a><span class="source_macro">#if IG_SHARED	// marc: used for Tyrion object termination/cleanup
</span><a name="1751"></a>static final <span class="source_type">function</span> <span class="source_type">bool</span> checkDead( <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> )
<a name="1752"></a>{
<a name="1753"></a>	return <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> == None || <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>.bDeleteMe || <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>.Health &lt;= <span class="source_int">0</span>;
<a name="1754"></a>}
<a name="1755"></a><span class="source_macro">#endif
</span><a name="1756"></a>
<a name="1757"></a><span class="source_macro">#if IG_SHARED	// marc: call !isAlive() to check for death (because a script-side "isDead" may return 0 when bDeleteMe is set)
</span><a name="1758"></a>simulated event <span class="source_type">bool</span> isAlive()
<a name="1759"></a>{
<a name="1760"></a>	return !bDeleteMe && Health &gt; <span class="source_int">0</span>;
<a name="1761"></a>}
<a name="1762"></a><span class="source_macro">#endif
</span><a name="1763"></a>
<a name="1764"></a><span class="source_macro">#if IG_TRIBES3	// marc: for jetpacking, shot leading, and following
</span><a name="1765"></a><span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> predictedLocation( <span class="source_type">float</span> <span class="source_type">t</span> );
<a name="1766"></a><span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> groundPredictedLocation( <span class="source_type">float</span> <span class="source_type">t</span> );
<a name="1767"></a><span class="source_macro">#endif
</span><a name="1768"></a>
<a name="1769"></a><span class="source_macro">#if IG_TRIBES3	// marc: activate AI's for a limited time
</span><a name="1770"></a>event setLimitedTimeLODActivation( <span class="source_type">int</span> <span class="source_type">ticksToKeepActivated</span> );
<a name="1771"></a><span class="source_macro">#endif
</span><a name="1772"></a>
<a name="1773"></a><span class="source_macro">#if IG_SHARED	// marc: cause all resources attached to this pawn to re-check their goals
</span><a name="1774"></a><span class="source_type">function</span> rematchGoals();
<a name="1775"></a><span class="source_macro">#endif
</span><a name="1776"></a>
<a name="1777"></a>event Falling()
<a name="1778"></a>{
<a name="1779"></a>	<span class="source_comment">//SetPhysics(PHYS_Falling); //Note - physics changes type to PHYS_Falling by default
</span><a name="1780"></a>	if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="1781"></a>		<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.SetFall();
<a name="1782"></a>}
<a name="1783"></a>
<a name="1784"></a>event HitWall(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HitNormal, <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> Wall);
<a name="1785"></a>
<a name="1786"></a>event Landed(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HitNormal)
<a name="1787"></a>{
<a name="1788"></a>	LandBob = FMin(<span class="source_int">50</span>, <span class="source_int">0.055</span> * Velocity.Z); 
<a name="1789"></a>	TakeFallingDamage();
<a name="1790"></a>	if ( Health &gt; <span class="source_int">0</span> )
<a name="1791"></a>		PlayLanded(Velocity.Z);
<a name="1792"></a>	bJustLanded = true;
<a name="1793"></a><span class="source_comment">//#if IG_EFFECTS
</span><a name="1794"></a><span class="source_comment">//    TriggerEffectEvent('Landed');
</span><a name="1795"></a><span class="source_comment">//#endif
</span><a name="1796"></a>}
<a name="1797"></a>
<a name="1798"></a>event HeadVolumeChange(<span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span> newHeadVolume)
<a name="1799"></a>{
<a name="1800"></a>	if ( (<span class="source_type">Level</span>.NetMode == NM_Client) || (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> == None) )
<a name="1801"></a>		return;
<a name="1802"></a>	if ( HeadVolume.bWaterVolume )
<a name="1803"></a>	{
<a name="1804"></a>		if (!newHeadVolume.bWaterVolume)
<a name="1805"></a>		{
<a name="1806"></a>			if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.bIsPlayer && (BreathTime &gt; <span class="source_int">0</span>) && (BreathTime &lt; <span class="source_int">8</span>) )
<a name="1807"></a>				Gasp();
<a name="1808"></a>			BreathTime = -<span class="source_int">1.0</span>;
<a name="1809"></a>		}
<a name="1810"></a>	}
<a name="1811"></a>	else if ( newHeadVolume.bWaterVolume )
<a name="1812"></a>		BreathTime = UnderWaterTime;
<a name="1813"></a>}
<a name="1814"></a>
<a name="1815"></a><span class="source_type">function</span> <span class="source_type">bool</span> TouchingWaterVolume()
<a name="1816"></a>{
<a name="1817"></a>	local <span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span> V;
<a name="1818"></a>
<a name="1819"></a>	ForEach TouchingActors(<span class="source_type">class</span><span class="source_name">'PhysicsVolume'</span>,V)
<a name="1820"></a>		if ( V.bWaterVolume )
<a name="1821"></a>			return true;
<a name="1822"></a>			
<a name="1823"></a>	return false;
<a name="1824"></a>}
<a name="1825"></a>
<a name="1826"></a><span class="source_comment">//Pain timer just expired.
</span><a name="1827"></a><span class="source_comment">//Check what zone I'm in (and which parts are)
</span><a name="1828"></a><span class="source_comment">//based on that cause damage, and reset BreathTime
</span><a name="1829"></a>
<a name="1830"></a><span class="source_type">function</span> <span class="source_type">bool</span> IsInPain()
<a name="1831"></a>{
<a name="1832"></a>	local <span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span> V;
<a name="1833"></a>
<a name="1834"></a>	ForEach TouchingActors(<span class="source_type">class</span><span class="source_name">'PhysicsVolume'</span>,V)
<a name="1835"></a>		if ( V.bPainCausing && (V.<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span> != ReducedDamageType) 
<a name="1836"></a>			&& (V.DamagePerSec &gt; <span class="source_int">0</span>) )
<a name="1837"></a>			return true;
<a name="1838"></a>	return false;
<a name="1839"></a>}
<a name="1840"></a>	
<a name="1841"></a>event BreathTimer()
<a name="1842"></a>{
<a name="1843"></a>	if ( (Health &lt; <span class="source_int">0</span>) || (<span class="source_type">Level</span>.NetMode == NM_Client) )
<a name="1844"></a>		return;
<a name="1845"></a>	TakeDrowningDamage();
<a name="1846"></a>	if ( Health &gt; <span class="source_int">0</span> )
<a name="1847"></a>		BreathTime = <span class="source_int">2.0</span>;
<a name="1848"></a>}
<a name="1849"></a>
<a name="1850"></a><span class="source_type">function</span> TakeDrowningDamage();		
<a name="1851"></a>
<a name="1852"></a><span class="source_type">function</span> <span class="source_type">bool</span> CheckWaterJump(out <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> WallNormal)
<a name="1853"></a>{
<a name="1854"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> HitActor;
<a name="1855"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>, HitNormal, <span class="source_type"><a href="../gameplay/checkpoint.html" class="source">checkpoint</a></span>, start, checkNorm, Extent;
<a name="1856"></a>
<a name="1857"></a>	<span class="source_type"><a href="../gameplay/checkpoint.html" class="source">checkpoint</a></span> = <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>(Rotation);
<a name="1858"></a>	<span class="source_type"><a href="../gameplay/checkpoint.html" class="source">checkpoint</a></span>.Z = <span class="source_int">0.0</span>;
<a name="1859"></a>	checkNorm = Normal(<span class="source_type"><a href="../gameplay/checkpoint.html" class="source">checkpoint</a></span>);
<a name="1860"></a>	<span class="source_type"><a href="../gameplay/checkpoint.html" class="source">checkPoint</a></span> = Location + CollisionRadius * checkNorm;
<a name="1861"></a>	Extent = CollisionRadius * vect(<span class="source_int">1</span>,<span class="source_int">1</span>,<span class="source_int">0</span>);
<a name="1862"></a>	Extent.Z = CollisionHeight;
<a name="1863"></a>	HitActor = Trace(<span class="source_type">HitLocation</span>, HitNormal, <span class="source_type"><a href="../gameplay/checkpoint.html" class="source">checkpoint</a></span>, Location, true, Extent);
<a name="1864"></a>	if ( (HitActor != None) && (<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(HitActor) == None) )
<a name="1865"></a>	{
<a name="1866"></a>		WallNormal = -<span class="source_int">1</span> * HitNormal;
<a name="1867"></a>		start = Location;
<a name="1868"></a>		start.Z += <span class="source_int">1.1</span> * MAXSTEPHEIGHT;
<a name="1869"></a>		<span class="source_type"><a href="../gameplay/checkpoint.html" class="source">checkPoint</a></span> = start + <span class="source_int">2</span> * CollisionRadius * checkNorm;
<a name="1870"></a>		HitActor = Trace(<span class="source_type">HitLocation</span>, HitNormal, <span class="source_type"><a href="../gameplay/checkpoint.html" class="source">checkpoint</a></span>, start, true);
<a name="1871"></a>		if (HitActor == None)
<a name="1872"></a>			return true;
<a name="1873"></a>	}
<a name="1874"></a>
<a name="1875"></a>	return false;
<a name="1876"></a>}
<a name="1877"></a>
<a name="1878"></a><span class="source_type">function</span> DoDoubleJump( <span class="source_type">bool</span> <span class="source_type">bUpdating</span> );
<a name="1879"></a><span class="source_type">function</span> <span class="source_type">bool</span> CanDoubleJump();
<a name="1880"></a>
<a name="1881"></a><span class="source_type">function</span> UpdateRocketAcceleration(<span class="source_type">float</span> <span class="source_type">DeltaTime</span>, <span class="source_type">float</span> YawChange, <span class="source_type">float</span> PitchChange);
<a name="1882"></a>
<a name="1883"></a><span class="source_type">function</span> <span class="source_type">bool</span> Dodge(<span class="source_type"><a href="../engine/actor.html#EDoubleClickDir" class="source">EDoubleClickDir</a></span> DoubleClickMove)
<a name="1884"></a>{
<a name="1885"></a>	return false;
<a name="1886"></a>}
<a name="1887"></a>
<a name="1888"></a><span class="source_comment">//Player Jumped
</span><a name="1889"></a><span class="source_type">function</span> <span class="source_type">bool</span> DoJump( <span class="source_type">bool</span> <span class="source_type">bUpdating</span> )
<a name="1890"></a>{
<a name="1891"></a>	if ( !bIsCrouched && !bWantsToCrouch && ((Physics == PHYS_Walking) || (Physics == PHYS_Ladder) || (Physics == PHYS_Spider)) )
<a name="1892"></a>	{
<a name="1893"></a>		if ( Role == ROLE_Authority )
<a name="1894"></a>		{
<a name="1895"></a><span class="source_comment">// DLB Gameinfo pass: Game difficulty concept will change
</span><a name="1896"></a><span class="source_comment">/*			if ( (Level.Game != None) && (Level.Game.GameDifficulty &gt; 2) )
<a name="1897"></a>				MakeNoise(0.1 * Level.Game.GameDifficulty);*/</span>
<a name="1898"></a><span class="source_comment">//			if ( bCountJumps && (Inventory != None) )
</span><a name="1899"></a><span class="source_comment">//				Inventory.OwnerEvent('Jumped');
</span><a name="1900"></a>		}
<a name="1901"></a>		if ( Physics == PHYS_Spider )
<a name="1902"></a>			Velocity = JumpZ * Floor;
<a name="1903"></a>		else if ( Physics == PHYS_Ladder )
<a name="1904"></a>			Velocity.Z = <span class="source_int">0</span>;
<a name="1905"></a>		else if ( bIsWalking )
<a name="1906"></a>			Velocity.Z = Default.JumpZ;
<a name="1907"></a>		else
<a name="1908"></a>			Velocity.Z = JumpZ;
<a name="1909"></a>		if ( (Base != None) && !Base.bWorldGeometry )
<a name="1910"></a>			Velocity.Z += Base.Velocity.Z; 
<a name="1911"></a>		SetPhysics(PHYS_Falling);
<a name="1912"></a>        return true;
<a name="1913"></a>	}
<a name="1914"></a>    return false;
<a name="1915"></a>}
<a name="1916"></a>
<a name="1917"></a><span class="source_comment">/* PlayMoverHitSound()
<a name="1918"></a>Mover Hit me, play appropriate sound if any
<a name="1919"></a>*/</span>
<a name="1920"></a><span class="source_type">function</span> PlayMoverHitSound();
<a name="1921"></a>
<a name="1922"></a><span class="source_type">function</span> PlayDyingSound();
<a name="1923"></a>
<a name="1924"></a><span class="source_type">function</span> PlayHit(<span class="source_type">float</span> Damage, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> InstigatedBy, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Momentum)
<a name="1925"></a>{
<a name="1926"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> BloodOffset, Mo, HitNormal;
<a name="1927"></a>	local <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/effects.html" class="source">Effects</a></span>&gt; DesiredEffect;
<a name="1928"></a>	local <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/emitter.html" class="source">Emitter</a></span>&gt; DesiredEmitter;
<a name="1929"></a>	local <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> PC;
<a name="1930"></a>	
<a name="1931"></a>	if ( (Damage &lt;= <span class="source_int">0</span>) && ((<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> == None) || !<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.bGodMode) )
<a name="1932"></a>		return;
<a name="1933"></a>		
<a name="1934"></a>	if (Damage &gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>.Default.DamageThreshold) <span class="source_comment">//spawn some blood
</span><a name="1935"></a>	{
<a name="1936"></a>
<a name="1937"></a>		HitNormal = Normal(<span class="source_type">HitLocation</span> - Location);
<a name="1938"></a>	
<a name="1939"></a>		<span class="source_comment">// Play any set effect
</span><a name="1940"></a>		if ( EffectIsRelevant(Location,true) )
<a name="1941"></a>		{	
<a name="1942"></a>		DesiredEffect = <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>.static.GetPawnDamageEffect(<span class="source_type">HitLocation</span>, Damage, Momentum, self, (<span class="source_type">Level</span>.bDropDetail || <span class="source_type">Level</span>.DetailMode == DM_Low));
<a name="1943"></a>
<a name="1944"></a>		if ( DesiredEffect != None )
<a name="1945"></a>		{
<a name="1946"></a>			BloodOffset = <span class="source_int">0.2</span> * CollisionRadius * HitNormal;
<a name="1947"></a>			BloodOffset.Z = BloodOffset.Z * <span class="source_int">0.5</span>;
<a name="1948"></a>
<a name="1949"></a>			Mo = Momentum;
<a name="1950"></a>			if ( Mo.Z &gt; <span class="source_int">0</span> )
<a name="1951"></a>				Mo.Z *= <span class="source_int">0.5</span>;
<a name="1952"></a>			spawn(DesiredEffect,self,,<span class="source_type">HitLocation</span> + BloodOffset, <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span>(Mo));
<a name="1953"></a>		}
<a name="1954"></a>
<a name="1955"></a>		<span class="source_comment">// Spawn any preset emitter
</span><a name="1956"></a>		
<a name="1957"></a>		DesiredEmitter = <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>.Static.GetPawnDamageEmitter(<span class="source_type">HitLocation</span>, Damage, Momentum, self, (<span class="source_type">Level</span>.bDropDetail || <span class="source_type">Level</span>.DetailMode == DM_Low)); 		
<a name="1958"></a>		if (DesiredEmitter != None)
<a name="1959"></a>			spawn(DesiredEmitter,,,<span class="source_type">HitLocation</span>+HitNormal, <span class="source_type"><a href="../core/object.html#Rotator" class="source">Rotator</a></span>(HitNormal)); 
<a name="1960"></a>		}		
<a name="1961"></a>	}
<a name="1962"></a>	if ( Health &lt;= <span class="source_int">0</span> )
<a name="1963"></a>	{
<a name="1964"></a>		if ( <span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span>.bDestructive && (<span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span>.ExitActor != None) )
<a name="1965"></a>			Spawn(<span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span>.ExitActor);
<a name="1966"></a>		return;
<a name="1967"></a>	}
<a name="1968"></a>	
<a name="1969"></a>	<span class="source_comment">// jdf ---
</span><a name="1970"></a>	if ( (<span class="source_type">Level</span>.NetMode != NM_DedicatedServer) && (<span class="source_type">Level</span>.NetMode != NM_ListenServer) )
<a name="1971"></a>	{
<a name="1972"></a>		PC = <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>);
<a name="1973"></a>		if ( PC != None && PC.bEnableDamageForceFeedback )
<a name="1974"></a>			PC.ClientPlayForceFeedback(<span class="source_string">"Damage"</span>);
<a name="1975"></a>	}
<a name="1976"></a>	<span class="source_comment">// --- jdf
</span><a name="1977"></a>	
<a name="1978"></a>	if ( <span class="source_type">Level</span>.TimeSeconds - LastPainTime &gt; <span class="source_int">0.1</span> )
<a name="1979"></a>	{
<a name="1980"></a>		PlayTakeHit(<span class="source_type">HitLocation</span>,Damage,<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>);
<a name="1981"></a>		LastPainTime = <span class="source_type">Level</span>.TimeSeconds;
<a name="1982"></a>	}
<a name="1983"></a>}
<a name="1984"></a>
<a name="1985"></a><span class="source_comment">/* 
<a name="1986"></a>Pawn was killed - detach any controller, and die
<a name="1987"></a>*/</span>
<a name="1988"></a>
<a name="1989"></a><span class="source_comment">// blow up into little pieces (implemented in subclass)		
</span><a name="1990"></a>
<a name="1991"></a>simulated <span class="source_type">function</span> ChunkUp( <span class="source_type"><a href="../core/object.html#Rotator" class="source">Rotator</a></span> HitRotation, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type">D</span> ) 
<a name="1992"></a>{
<a name="1993"></a>	if ( (<span class="source_type">Level</span>.NetMode != NM_Client) && (<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None) )
<a name="1994"></a>	{
<a name="1995"></a>		if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.bIsPlayer )
<a name="1996"></a>			<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.PawnDied(self);
<a name="1997"></a>		else
<a name="1998"></a><span class="source_macro">#if IG_TRIBES3
</span><a name="1999"></a>			<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.PawnDied(self);
<a name="2000"></a><span class="source_macro">#else
</span><a name="2001"></a>			<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.Destroy();
<a name="2002"></a><span class="source_macro">#endif
</span><a name="2003"></a>	}
<a name="2004"></a>	destroy();
<a name="2005"></a>}
<a name="2006"></a>
<a name="2007"></a>State Dying
<a name="2008"></a>{
<a name="2009"></a>ignores <span class="source_type"><a href="../engine/trigger.html" class="source">Trigger</a></span>, Bump, HitWall, HeadVolumeChange, PhysicsVolumeChange, Falling, BreathTimer;
<a name="2010"></a>
<a name="2011"></a>	event ChangeAnimation() {}
<a name="2012"></a>	event StopPlayFiring() {}
<a name="2013"></a>	<span class="source_type">function</span> PlayFiring(<span class="source_type">float</span> Rate, <span class="source_type">name</span> FiringMode) {}
<a name="2014"></a><span class="source_comment">//	function PlayWeaponSwitch(Weapon NewWeapon) {}
</span><a name="2015"></a>	<span class="source_type">function</span> PlayTakeHit(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HitLoc, <span class="source_type">int</span> Damage, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) {}
<a name="2016"></a>	simulated <span class="source_type">function</span> PlayNextAnimation() {}
<a name="2017"></a>
<a name="2018"></a>	<span class="source_type">function</span> Died(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> Killer, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>)
<a name="2019"></a>	{
<a name="2020"></a>	}
<a name="2021"></a>
<a name="2022"></a>	<span class="source_type">function</span> <span class="source_type"><a href="../engine/timer.html" class="source">Timer</a></span>()
<a name="2023"></a>	{
<a name="2024"></a>		if ( !PlayerCanSeeMe() )
<a name="2025"></a>			Destroy();
<a name="2026"></a>		else
<a name="2027"></a>			SetTimer(<span class="source_int">2.0</span>, false);	
<a name="2028"></a>	}
<a name="2029"></a>
<a name="2030"></a>	<span class="source_type">function</span> Landed(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HitNormal)
<a name="2031"></a>	{
<a name="2032"></a><span class="source_comment">/*		local rotator finalRot;
<a name="2033"></a>
<a name="2034"></a>		LandBob = FMin(50, 0.055 * Velocity.Z); 
<a name="2035"></a>		if( Velocity.Z &lt; -500 )
<a name="2036"></a>			TakeDamage( (1-Velocity.Z/30),Instigator,Location,vect(0,0,0) , class'Crushed');
<a name="2037"></a>
<a name="2038"></a>		finalRot = Rotation;
<a name="2039"></a>		finalRot.Roll = 0;
<a name="2040"></a>		finalRot.Pitch = 0;
<a name="2041"></a>		setRotation(finalRot);
<a name="2042"></a>		SetPhysics(PHYS_None);
<a name="2043"></a>		SetCollision(true, false, false);
<a name="2044"></a>
<a name="2045"></a>		if ( !IsAnimating(0) )
<a name="2046"></a>			LieStill();*/</span>
<a name="2047"></a>	}
<a name="2048"></a>
<a name="2049"></a>	<span class="source_comment">/* ReduceCylinder() made obsolete by ragdoll deaths */</span>
<a name="2050"></a>	<span class="source_type">function</span> ReduceCylinder()
<a name="2051"></a>	{
<a name="2052"></a>		SetCollision(false, false, false);
<a name="2053"></a>	}
<a name="2054"></a>
<a name="2055"></a>	<span class="source_type">function</span> LandThump()
<a name="2056"></a>	{
<a name="2057"></a>		<span class="source_comment">// animation notify - play sound if actually landed, and animation also shows it
</span><a name="2058"></a>		if ( Physics == PHYS_None)
<a name="2059"></a>			bThumped = true;
<a name="2060"></a>	}
<a name="2061"></a>
<a name="2062"></a>	event AnimEnd(<span class="source_type">int</span> <span class="source_type">Channel</span>)
<a name="2063"></a>	{
<a name="2064"></a>		if ( <span class="source_type">Channel</span> != <span class="source_int">0</span> )
<a name="2065"></a>			return;
<a name="2066"></a>		if ( Physics == PHYS_None )
<a name="2067"></a>			LieStill();
<a name="2068"></a>		else if ( <span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span>.bWaterVolume )
<a name="2069"></a>		{
<a name="2070"></a>			bThumped = true;
<a name="2071"></a>			LieStill();
<a name="2072"></a>		}
<a name="2073"></a>	}
<a name="2074"></a>
<a name="2075"></a>	<span class="source_type">function</span> LieStill()
<a name="2076"></a>	{
<a name="2077"></a>		if ( !bThumped )
<a name="2078"></a>			LandThump();
<a name="2079"></a>		SetCollision(false, false, false);
<a name="2080"></a>	}
<a name="2081"></a>
<a name="2082"></a>	singular <span class="source_type">function</span> BaseChange()
<a name="2083"></a>	{
<a name="2084"></a><span class="source_comment">//		if( base == None )
</span><a name="2085"></a><span class="source_comment">//			SetPhysics(PHYS_Falling);
</span><a name="2086"></a><span class="source_comment">//		else if ( Pawn(base) != None ) // don't let corpse ride around on someone's head
</span><a name="2087"></a><span class="source_comment">//      	ChunkUp( Rotation, class'Fell' ); 
</span><a name="2088"></a>	}
<a name="2089"></a>
<a name="2090"></a><span class="source_macro">#if IG_SHARED  //tcohen: hooked TakeDamage(), used by effects system and reactive world objects
</span><a name="2091"></a>	<span class="source_type">function</span> PostTakeDamage( <span class="source_type">float</span> Damage, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> instigatedBy, <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> <span class="source_type">hitlocation</span>, 
<a name="2092"></a>							<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> momentum, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>, optional <span class="source_type">float</span> projectileFactor)
<a name="2093"></a><span class="source_macro">#else
</span><a name="2094"></a>	<span class="source_type">function</span> TakeDamage( <span class="source_type">int</span> Damage, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> instigatedBy, <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> <span class="source_type">hitlocation</span>, 
<a name="2095"></a>							<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> momentum, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>)
<a name="2096"></a><span class="source_macro">#endif
</span><a name="2097"></a>	{
<a name="2098"></a><span class="source_comment">/*		SetPhysics(PHYS_Falling);
<a name="2099"></a>		if ( (Physics == PHYS_None) && (momentum.Z &lt; 0) )
<a name="2100"></a>			momentum.Z *= -1;
<a name="2101"></a>		Velocity += 3 * momentum/(Mass + 200);
<a name="2102"></a>		if ( bInvulnerableBody )
<a name="2103"></a>			return;
<a name="2104"></a>		Damage *= damageType.Default.GibModifier;*/</span>
<a name="2105"></a>
<a name="2106"></a><span class="source_macro">#if IG_TRIBES3
</span><a name="2107"></a>		ApplyDamage(instigatedBy, Damage);
<a name="2108"></a><span class="source_macro">#else
</span><a name="2109"></a>		Health -= Damage;
<a name="2110"></a><span class="source_macro">#endif // IG
</span><a name="2111"></a>
<a name="2112"></a><span class="source_comment">/*		if ( ((Damage &gt; 30) || !IsAnimating()) && (Health &lt; -80) )
<a name="2113"></a>        	ChunkUp( Rotation, DamageType ); */</span>
<a name="2114"></a>	}
<a name="2115"></a>
<a name="2116"></a>	<span class="source_type">function</span> BeginState()
<a name="2117"></a>	{
<a name="2118"></a><span class="source_comment">//		if ( (LastStartSpot != None) && (LastStartTime - Level.TimeSeconds &lt; 6) )
</span><a name="2119"></a><span class="source_comment">//			LastStartSpot.LastSpawnCampTime = Level.TimeSeconds;
</span><a name="2120"></a>		if ( bTearOff && (<span class="source_type">Level</span>.NetMode == NM_DedicatedServer) )
<a name="2121"></a>			LifeSpan = <span class="source_int">1.0</span>;
<a name="2122"></a>		else
<a name="2123"></a>			SetTimer(<span class="source_int">12.0</span>, false);
<a name="2124"></a><span class="source_comment">//		SetPhysics(PHYS_Falling);
</span><a name="2125"></a>		bInvulnerableBody = true;
<a name="2126"></a>		if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> != None )
<a name="2127"></a>		{
<a name="2128"></a>			if ( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.bIsPlayer )
<a name="2129"></a>				<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.PawnDied(self);
<a name="2130"></a>			else
<a name="2131"></a><span class="source_macro">#if IG_TRIBES3
</span><a name="2132"></a>				<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.PawnDied(self);
<a name="2133"></a><span class="source_macro">#else
</span><a name="2134"></a>				<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.Destroy();
<a name="2135"></a><span class="source_macro">#endif
</span><a name="2136"></a>		}
<a name="2137"></a>	}
<a name="2138"></a>
<a name="2139"></a>Begin:
<a name="2140"></a>	Sleep(<span class="source_int">0.15</span>);
<a name="2141"></a>	bInvulnerableBody = false;
<a name="2142"></a>	PlayDyingSound();
<a name="2143"></a>}
<a name="2144"></a>
<a name="2145"></a><span class="source_comment">//=============================================================================
</span><a name="2146"></a><span class="source_comment">// Animation interface for controllers
</span><a name="2147"></a>
<a name="2148"></a>simulated event SetAnimAction(<span class="source_type">name</span> NewAction);
<a name="2149"></a>
<a name="2150"></a><span class="source_comment">/* PlayXXX() function called by controller to play transient animation actions 
<a name="2151"></a>*/</span>
<a name="2152"></a>simulated event PlayDying(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HitLoc)
<a name="2153"></a>{
<a name="2154"></a><span class="source_macro">#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications
</span><a name="2155"></a>	<span class="source_type"><a href="../engine/ambientsound.html" class="source">AmbientSound</a></span> = None;
<a name="2156"></a><span class="source_macro">#endif
</span><a name="2157"></a>	GotoState(<span class="source_name">'Dying'</span>);
<a name="2158"></a>	if ( bPhysicsAnimUpdate )
<a name="2159"></a>	{
<a name="2160"></a>		bReplicateMovement = false;
<a name="2161"></a>		bTearOff = true;
<a name="2162"></a>		Velocity += TearOffMomentum;
<a name="2163"></a>		SetPhysics(PHYS_Falling);
<a name="2164"></a>	}
<a name="2165"></a>	bPlayedDeath = true;
<a name="2166"></a>}
<a name="2167"></a>
<a name="2168"></a>simulated <span class="source_type">function</span> PlayFiring(<span class="source_type">float</span> Rate, <span class="source_type">name</span> FiringMode);
<a name="2169"></a><span class="source_comment">//function PlayWeaponSwitch(Weapon NewWeapon);
</span><a name="2170"></a>simulated event StopPlayFiring()
<a name="2171"></a>{
<a name="2172"></a>	bSteadyFiring = false;
<a name="2173"></a>}
<a name="2174"></a>
<a name="2175"></a><span class="source_type">function</span> PlayTakeHit(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HitLoc, <span class="source_type">int</span> Damage, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>)
<a name="2176"></a>{
<a name="2177"></a>	local <span class="source_type">Sound</span> DesiredSound;
<a name="2178"></a>
<a name="2179"></a>	if (Damage==<span class="source_int">0</span>)
<a name="2180"></a>		return;
<a name="2181"></a>	<span class="source_comment">// 		
</span><a name="2182"></a>	<span class="source_comment">// Play a hit sound according to the DamageType
</span><a name="2183"></a>
<a name="2184"></a> 	DesiredSound = <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>.Static.GetPawnDamageSound();
<a name="2185"></a>	if (DesiredSound != None)
<a name="2186"></a>		PlayOwnedSound(DesiredSound
<a name="2187"></a><span class="source_macro">#if !IG_EFFECTS
</span><a name="2188"></a>                        ,SLOT_Misc
<a name="2189"></a><span class="source_macro">#endif
</span><a name="2190"></a>                        );
<a name="2191"></a>}
<a name="2192"></a>
<a name="2193"></a><span class="source_comment">//=============================================================================
</span><a name="2194"></a><span class="source_comment">// Pawn internal animation functions
</span><a name="2195"></a>
<a name="2196"></a>simulated event ChangeAnimation()
<a name="2197"></a>{
<a name="2198"></a>	<span class="source_comment">// DLB Controller clean pass: removed AI logic
</span><a name="2199"></a>	<span class="source_comment">/*if ( (Controller != None) && Controller.bControlAnimations )
<a name="2200"></a>		return;*/</span>
<a name="2201"></a>	<span class="source_comment">// player animation - set up new idle and moving animations
</span><a name="2202"></a>	bInitializeAnimation = false;
<a name="2203"></a>	PlayWaiting();
<a name="2204"></a>	PlayMoving();
<a name="2205"></a>}
<a name="2206"></a>
<a name="2207"></a>simulated event AnimEnd(<span class="source_type">int</span> <span class="source_type">Channel</span>)
<a name="2208"></a>{
<a name="2209"></a>	if ( <span class="source_type">Channel</span> == <span class="source_int">0</span> )
<a name="2210"></a>		PlayWaiting();
<a name="2211"></a>}
<a name="2212"></a>
<a name="2213"></a><span class="source_comment">// Animation group checks (usually implemented in subclass)
</span><a name="2214"></a>
<a name="2215"></a><span class="source_type">function</span> <span class="source_type">bool</span> CannotJumpNow()
<a name="2216"></a>{
<a name="2217"></a>	return false;
<a name="2218"></a>}
<a name="2219"></a>
<a name="2220"></a>simulated event PlayJump();
<a name="2221"></a>simulated event PlayFalling();
<a name="2222"></a>simulated <span class="source_type">function</span> PlayMoving();
<a name="2223"></a>simulated <span class="source_type">function</span> PlayWaiting();
<a name="2224"></a>
<a name="2225"></a><span class="source_type">function</span> PlayLanded(<span class="source_type">float</span> impactVel)
<a name="2226"></a>{
<a name="2227"></a>	if ( !bPhysicsAnimUpdate )
<a name="2228"></a>		PlayLandingAnimation(impactVel);
<a name="2229"></a>}
<a name="2230"></a>
<a name="2231"></a>simulated event PlayLandingAnimation(<span class="source_type">float</span> ImpactVel);
<a name="2232"></a>
<a name="2233"></a><span class="source_type">function</span> PlayVictoryAnimation();
<a name="2234"></a>
<a name="2235"></a><span class="source_comment">//function HoldCarriedObject(CarriedObject O, name AttachmentBone);
</span><a name="2236"></a>
<a name="2237"></a>defaultproperties
<a name="2238"></a>{
<a name="2239"></a>	bCanBeDamaged=true
<a name="2240"></a>	 bNoRepMesh=true
<a name="2241"></a>	 bJumpCapable=true
<a name="2242"></a> 	 bCanJump=true
<a name="2243"></a>	 bCanWalk=true
<a name="2244"></a>	 bCanSwim=false
<a name="2245"></a>	 bCanFly=false
<a name="2246"></a>	 bUpdateSimulatedPosition=true
<a name="2247"></a>	 BaseEyeHeight=+<span class="source_int">00064.000000</span>
<a name="2248"></a>     EyeHeight=+<span class="source_int">00054.000000</span>
<a name="2249"></a>     CollisionRadius=+<span class="source_int">00034.000000</span>
<a name="2250"></a>     CollisionHeight=+<span class="source_int">00078.000000</span>
<a name="2251"></a>     GroundSpeed=+<span class="source_int">00600.000000</span>
<a name="2252"></a>     AirSpeed=+<span class="source_int">00600.000000</span>
<a name="2253"></a>     WaterSpeed=+<span class="source_int">00300.000000</span>
<a name="2254"></a>     AccelRate=+<span class="source_int">02048.000000</span>
<a name="2255"></a>     JumpZ=+<span class="source_int">00420.000000</span>
<a name="2256"></a>	 MaxFallSpeed=+<span class="source_int">1200.0</span>
<a name="2257"></a>	 DrawType=DT_Mesh
<a name="2258"></a>	 bLOSHearing=true
<a name="2259"></a>	 HearingThreshold=+<span class="source_int">2800.0</span>
<a name="2260"></a>     Health=<span class="source_int">100</span>
<a name="2261"></a>     Visibility=<span class="source_int">128</span>
<a name="2262"></a>	 LadderSpeed=+<span class="source_int">200.0</span>
<a name="2263"></a>     noise1time=-<span class="source_int">00010.000000</span>
<a name="2264"></a>     noise2time=-<span class="source_int">00010.000000</span>
<a name="2265"></a>     AvgPhysicsTime=+<span class="source_int">00000.100000</span>
<a name="2266"></a>     SoundDampening=+<span class="source_int">00001.000000</span>
<a name="2267"></a>     DamageScaling=+<span class="source_int">00001.000000</span>
<a name="2268"></a>     bDirectional=True
<a name="2269"></a>     bCanTeleport=True
<a name="2270"></a>	 bStasis=True
<a name="2271"></a><span class="source_comment">//#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications 
</span><a name="2272"></a><span class="source_comment">//     SoundRadius=60
</span><a name="2273"></a><span class="source_comment">//	 SoundVolume=255
</span><a name="2274"></a><span class="source_comment">//#endif
</span><a name="2275"></a>     bCollideActors=True
<a name="2276"></a>     bCollideWorld=True
<a name="2277"></a>     bBlockActors=True
<a name="2278"></a>     bBlockPlayers=True
<a name="2279"></a>     bProjTarget=True
<a name="2280"></a>     bRotateToDesired=True
<a name="2281"></a>	 bCanCrouch=False
<a name="2282"></a>     RotationRate=(Pitch=<span class="source_int">4096</span>,Yaw=<span class="source_int">20000</span>,Roll=<span class="source_int">3072</span>)
<a name="2283"></a>	 <span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span>=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Engine_res.S_Pawn'</span>
<a name="2284"></a>     RemoteRole=ROLE_SimulatedProxy
<a name="2285"></a>     NetPriority=+<span class="source_int">00002.000000</span>
<a name="2286"></a>	 AirControl=+<span class="source_int">0.05</span>
<a name="2287"></a>	 CrouchHeight=+<span class="source_int">40.0</span>
<a name="2288"></a>	 CrouchRadius=+<span class="source_int">34.0</span>
<a name="2289"></a><span class="source_comment">//     MaxDesiredSpeed=+00001.000000
</span><a name="2290"></a>     <span class="source_type">DesiredSpeed</span>=+<span class="source_int">00001.000000</span>
<a name="2291"></a> 	 LandMovementState=PlayerWalking
<a name="2292"></a>	 WaterMovementState=PlayerSwimming
<a name="2293"></a>	 SightRadius=+<span class="source_int">05000.000000</span>
<a name="2294"></a>	 bOwnerNoSee=true
<a name="2295"></a>	 bAcceptsProjectors=True
<a name="2296"></a>	 BlendChangeTime=<span class="source_int">0.25</span>
<a name="2297"></a>	 WalkingPct=+<span class="source_int">0.5</span>
<a name="2298"></a>	 CrouchedPct=+<span class="source_int">0.5</span>
<a name="2299"></a>	 bTravel=true
<a name="2300"></a>	 BaseMovementRate=+<span class="source_int">525.0</span>
<a name="2301"></a>	 ForwardStrafeBias=+<span class="source_int">0.0</span>
<a name="2302"></a>	 BackwardStrafeBias=+<span class="source_int">0.0</span>
<a name="2303"></a>	 bShouldBaseAtStartup=true
<a name="2304"></a>     Bob=<span class="source_int">0.0080</span>
<a name="2305"></a>	 bDisturbFluidSurface=true
<a name="2306"></a>	 bBlockKarma=False
<a name="2307"></a>	 bBlockHavok=False
<a name="2308"></a>	 bHavokCharacterCollisions=False
<a name="2309"></a>	 bHavokCharacterCollisionExtraRadius=<span class="source_int">1</span> 
<a name="2310"></a>	 bWeaponBob=true
<a name="2311"></a>	 bUseCompressedPosition=true
<a name="2312"></a>	 HeadScale=+<span class="source_int">1.0</span>
<a name="2313"></a><span class="source_comment">//#if IG_SHARED // ckline: notifications upon Pawn death and Actor destruction
</span><a name="2314"></a>	bNotifiedDeathListeners=false
<a name="2315"></a>    bSendDestructionNotification=true
<a name="2316"></a><span class="source_comment">//#endif
</span><a name="2317"></a>
<a name="2318"></a><span class="source_comment">//#if IG_SHARED
</span><a name="2319"></a>	AI_LOD_Level = AILOD_ALWAYS_ON
<a name="2320"></a><span class="source_comment">//#endif
</span><a name="2321"></a>}
<a name="2322"></a></pre></td></tr></table></div>
<hr />
<table class="header">
<tr class="header">
	<td class="header"><a href="../overview.html">Overview</a></td>
	<td class="header"><a href="../engine/engine-overview.html">Package</a></td>
	<td class="header"><a href="../engine/pawn.html">Class</a></td>
	<td class="header_hilight">Source</td>
	<td class="header"><a class="header" href="../classtree.html#Pawn">Class tree</a></td>
	<td class="header"><a class="header" href="../glossary_A.html">Glossary</a></td>
	<td class="logo" rowspan="2">UnrealScript<br />Documentation</td>
</tr>
<tr>
	<td class="subheader" colspan="3"><a href="../Source_engine/pathnode.html">previous class</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="../Source_engine/physicsvolume.html">next class</a></td>
	<td class="subheader" colspan="2"><a href="../index.html" target="_top">frames</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="" target="_top">no frames</a></td>
</tr>
</table>

<div class="stats">Class file time: ne 5.9.2004 16:01:26.000 - Creation time: st 23.5.2018 00:10:46.341 - Created with <a href="http://wiki.beyondunreal.com/wiki/UnCodeX" target="_blank">UnCodeX</a></div>

</body>
</html>