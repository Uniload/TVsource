<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>UnCodeX - Source: Engine.Actor</title>
	<meta name="Generator" content="UnCodeX 241" />
	<link rel="stylesheet" href="../DocStyle2.css" type="text/css" title="Original Purple" />
	<link rel="alternative stylesheet" href="../DocStyle2-blue.css" type="text/css" title="Blue" />
	<link rel="alternative stylesheet" href="../DocStyle2-red.css" type="text/css" title="Red" />
	<!--[if IE]>
	<link rel="stylesheet" href="../DocStyle2-msie.css" type="text/css" />
	<![endif]-->
	<script src="../styleswitcher.js" type="text/javascript"></script>
</head>
<body>

<div class="header">
<table class="header">
<tr class="header">
	<td class="header"><a href="../overview.html">Overview</a></td>
	<td class="header"><a href="../engine/engine-overview.html">Package</a></td>
	<td class="header"><a href="../engine/actor.html">Class</a></td>
	<td class="header_hilight">Source</td>
	<td class="header"><a class="header" href="../classtree.html#Actor">Class tree</a></td>
	<td class="header"><a class="header" href="../glossary_A.html">Glossary</a></td>
	<td class="logo" rowspan="2">UnrealScript<br />Documentation</td>
</tr>
<tr>
	<td class="subheader" colspan="3"><a href="../Source_engine/accesscontrol.html">previous class</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="../Source_engine/admin.html">next class</a></td>
	<td class="subheader" colspan="2"><a href="../index.html#Source_engine/actor.html" target="_top">frames</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="" target="_top">no frames</a></td>
</tr>
</table>
</div>
<div class="spacer"></div>

<h1><a href="../engine/engine-overview.html">Engine</a>.<a href="../engine/actor.html">Actor</a></h1>
<br />
<div class="source"><table class="source"><tr><td class="source_lineno"><span class="source_lineno">00001<br />00002<br />00003<br />00004<br />00005<br />00006<br />00007<br />00008<br />00009<br />00010<br />00011<br />00012<br />00013<br />00014<br />00015<br />00016<br />00017<br />00018<br />00019<br />00020<br />
00021<br />00022<br />00023<br />00024<br />00025<br />00026<br />00027<br />00028<br />00029<br />00030<br />00031<br />00032<br />00033<br />00034<br />00035<br />00036<br />00037<br />00038<br />00039<br />00040<br />
00041<br />00042<br />00043<br />00044<br />00045<br />00046<br />00047<br />00048<br />00049<br />00050<br />00051<br />00052<br />00053<br />00054<br />00055<br />00056<br />00057<br />00058<br />00059<br />00060<br />
00061<br />00062<br />00063<br />00064<br />00065<br />00066<br />00067<br />00068<br />00069<br />00070<br />00071<br />00072<br />00073<br />00074<br />00075<br />00076<br />00077<br />00078<br />00079<br />00080<br />
00081<br />00082<br />00083<br />00084<br />00085<br />00086<br />00087<br />00088<br />00089<br />00090<br />00091<br />00092<br />00093<br />00094<br />00095<br />00096<br />00097<br />00098<br />00099<br />00100<br />
00101<br />00102<br />00103<br />00104<br />00105<br />00106<br />00107<br />00108<br />00109<br />00110<br />00111<br />00112<br />00113<br />00114<br />00115<br />00116<br />00117<br />00118<br />00119<br />00120<br />
00121<br />00122<br />00123<br />00124<br />00125<br />00126<br />00127<br />00128<br />00129<br />00130<br />00131<br />00132<br />00133<br />00134<br />00135<br />00136<br />00137<br />00138<br />00139<br />00140<br />
00141<br />00142<br />00143<br />00144<br />00145<br />00146<br />00147<br />00148<br />00149<br />00150<br />00151<br />00152<br />00153<br />00154<br />00155<br />00156<br />00157<br />00158<br />00159<br />00160<br />
00161<br />00162<br />00163<br />00164<br />00165<br />00166<br />00167<br />00168<br />00169<br />00170<br />00171<br />00172<br />00173<br />00174<br />00175<br />00176<br />00177<br />00178<br />00179<br />00180<br />
00181<br />00182<br />00183<br />00184<br />00185<br />00186<br />00187<br />00188<br />00189<br />00190<br />00191<br />00192<br />00193<br />00194<br />00195<br />00196<br />00197<br />00198<br />00199<br />00200<br />
00201<br />00202<br />00203<br />00204<br />00205<br />00206<br />00207<br />00208<br />00209<br />00210<br />00211<br />00212<br />00213<br />00214<br />00215<br />00216<br />00217<br />00218<br />00219<br />00220<br />
00221<br />00222<br />00223<br />00224<br />00225<br />00226<br />00227<br />00228<br />00229<br />00230<br />00231<br />00232<br />00233<br />00234<br />00235<br />00236<br />00237<br />00238<br />00239<br />00240<br />
00241<br />00242<br />00243<br />00244<br />00245<br />00246<br />00247<br />00248<br />00249<br />00250<br />00251<br />00252<br />00253<br />00254<br />00255<br />00256<br />00257<br />00258<br />00259<br />00260<br />
00261<br />00262<br />00263<br />00264<br />00265<br />00266<br />00267<br />00268<br />00269<br />00270<br />00271<br />00272<br />00273<br />00274<br />00275<br />00276<br />00277<br />00278<br />00279<br />00280<br />
00281<br />00282<br />00283<br />00284<br />00285<br />00286<br />00287<br />00288<br />00289<br />00290<br />00291<br />00292<br />00293<br />00294<br />00295<br />00296<br />00297<br />00298<br />00299<br />00300<br />
00301<br />00302<br />00303<br />00304<br />00305<br />00306<br />00307<br />00308<br />00309<br />00310<br />00311<br />00312<br />00313<br />00314<br />00315<br />00316<br />00317<br />00318<br />00319<br />00320<br />
00321<br />00322<br />00323<br />00324<br />00325<br />00326<br />00327<br />00328<br />00329<br />00330<br />00331<br />00332<br />00333<br />00334<br />00335<br />00336<br />00337<br />00338<br />00339<br />00340<br />
00341<br />00342<br />00343<br />00344<br />00345<br />00346<br />00347<br />00348<br />00349<br />00350<br />00351<br />00352<br />00353<br />00354<br />00355<br />00356<br />00357<br />00358<br />00359<br />00360<br />
00361<br />00362<br />00363<br />00364<br />00365<br />00366<br />00367<br />00368<br />00369<br />00370<br />00371<br />00372<br />00373<br />00374<br />00375<br />00376<br />00377<br />00378<br />00379<br />00380<br />
00381<br />00382<br />00383<br />00384<br />00385<br />00386<br />00387<br />00388<br />00389<br />00390<br />00391<br />00392<br />00393<br />00394<br />00395<br />00396<br />00397<br />00398<br />00399<br />00400<br />
00401<br />00402<br />00403<br />00404<br />00405<br />00406<br />00407<br />00408<br />00409<br />00410<br />00411<br />00412<br />00413<br />00414<br />00415<br />00416<br />00417<br />00418<br />00419<br />00420<br />
00421<br />00422<br />00423<br />00424<br />00425<br />00426<br />00427<br />00428<br />00429<br />00430<br />00431<br />00432<br />00433<br />00434<br />00435<br />00436<br />00437<br />00438<br />00439<br />00440<br />
00441<br />00442<br />00443<br />00444<br />00445<br />00446<br />00447<br />00448<br />00449<br />00450<br />00451<br />00452<br />00453<br />00454<br />00455<br />00456<br />00457<br />00458<br />00459<br />00460<br />
00461<br />00462<br />00463<br />00464<br />00465<br />00466<br />00467<br />00468<br />00469<br />00470<br />00471<br />00472<br />00473<br />00474<br />00475<br />00476<br />00477<br />00478<br />00479<br />00480<br />
00481<br />00482<br />00483<br />00484<br />00485<br />00486<br />00487<br />00488<br />00489<br />00490<br />00491<br />00492<br />00493<br />00494<br />00495<br />00496<br />00497<br />00498<br />00499<br />00500<br />
00501<br />00502<br />00503<br />00504<br />00505<br />00506<br />00507<br />00508<br />00509<br />00510<br />00511<br />00512<br />00513<br />00514<br />00515<br />00516<br />00517<br />00518<br />00519<br />00520<br />
00521<br />00522<br />00523<br />00524<br />00525<br />00526<br />00527<br />00528<br />00529<br />00530<br />00531<br />00532<br />00533<br />00534<br />00535<br />00536<br />00537<br />00538<br />00539<br />00540<br />
00541<br />00542<br />00543<br />00544<br />00545<br />00546<br />00547<br />00548<br />00549<br />00550<br />00551<br />00552<br />00553<br />00554<br />00555<br />00556<br />00557<br />00558<br />00559<br />00560<br />
00561<br />00562<br />00563<br />00564<br />00565<br />00566<br />00567<br />00568<br />00569<br />00570<br />00571<br />00572<br />00573<br />00574<br />00575<br />00576<br />00577<br />00578<br />00579<br />00580<br />
00581<br />00582<br />00583<br />00584<br />00585<br />00586<br />00587<br />00588<br />00589<br />00590<br />00591<br />00592<br />00593<br />00594<br />00595<br />00596<br />00597<br />00598<br />00599<br />00600<br />
00601<br />00602<br />00603<br />00604<br />00605<br />00606<br />00607<br />00608<br />00609<br />00610<br />00611<br />00612<br />00613<br />00614<br />00615<br />00616<br />00617<br />00618<br />00619<br />00620<br />
00621<br />00622<br />00623<br />00624<br />00625<br />00626<br />00627<br />00628<br />00629<br />00630<br />00631<br />00632<br />00633<br />00634<br />00635<br />00636<br />00637<br />00638<br />00639<br />00640<br />
00641<br />00642<br />00643<br />00644<br />00645<br />00646<br />00647<br />00648<br />00649<br />00650<br />00651<br />00652<br />00653<br />00654<br />00655<br />00656<br />00657<br />00658<br />00659<br />00660<br />
00661<br />00662<br />00663<br />00664<br />00665<br />00666<br />00667<br />00668<br />00669<br />00670<br />00671<br />00672<br />00673<br />00674<br />00675<br />00676<br />00677<br />00678<br />00679<br />00680<br />
00681<br />00682<br />00683<br />00684<br />00685<br />00686<br />00687<br />00688<br />00689<br />00690<br />00691<br />00692<br />00693<br />00694<br />00695<br />00696<br />00697<br />00698<br />00699<br />00700<br />
00701<br />00702<br />00703<br />00704<br />00705<br />00706<br />00707<br />00708<br />00709<br />00710<br />00711<br />00712<br />00713<br />00714<br />00715<br />00716<br />00717<br />00718<br />00719<br />00720<br />
00721<br />00722<br />00723<br />00724<br />00725<br />00726<br />00727<br />00728<br />00729<br />00730<br />00731<br />00732<br />00733<br />00734<br />00735<br />00736<br />00737<br />00738<br />00739<br />00740<br />
00741<br />00742<br />00743<br />00744<br />00745<br />00746<br />00747<br />00748<br />00749<br />00750<br />00751<br />00752<br />00753<br />00754<br />00755<br />00756<br />00757<br />00758<br />00759<br />00760<br />
00761<br />00762<br />00763<br />00764<br />00765<br />00766<br />00767<br />00768<br />00769<br />00770<br />00771<br />00772<br />00773<br />00774<br />00775<br />00776<br />00777<br />00778<br />00779<br />00780<br />
00781<br />00782<br />00783<br />00784<br />00785<br />00786<br />00787<br />00788<br />00789<br />00790<br />00791<br />00792<br />00793<br />00794<br />00795<br />00796<br />00797<br />00798<br />00799<br />00800<br />
00801<br />00802<br />00803<br />00804<br />00805<br />00806<br />00807<br />00808<br />00809<br />00810<br />00811<br />00812<br />00813<br />00814<br />00815<br />00816<br />00817<br />00818<br />00819<br />00820<br />
00821<br />00822<br />00823<br />00824<br />00825<br />00826<br />00827<br />00828<br />00829<br />00830<br />00831<br />00832<br />00833<br />00834<br />00835<br />00836<br />00837<br />00838<br />00839<br />00840<br />
00841<br />00842<br />00843<br />00844<br />00845<br />00846<br />00847<br />00848<br />00849<br />00850<br />00851<br />00852<br />00853<br />00854<br />00855<br />00856<br />00857<br />00858<br />00859<br />00860<br />
00861<br />00862<br />00863<br />00864<br />00865<br />00866<br />00867<br />00868<br />00869<br />00870<br />00871<br />00872<br />00873<br />00874<br />00875<br />00876<br />00877<br />00878<br />00879<br />00880<br />
00881<br />00882<br />00883<br />00884<br />00885<br />00886<br />00887<br />00888<br />00889<br />00890<br />00891<br />00892<br />00893<br />00894<br />00895<br />00896<br />00897<br />00898<br />00899<br />00900<br />
00901<br />00902<br />00903<br />00904<br />00905<br />00906<br />00907<br />00908<br />00909<br />00910<br />00911<br />00912<br />00913<br />00914<br />00915<br />00916<br />00917<br />00918<br />00919<br />00920<br />
00921<br />00922<br />00923<br />00924<br />00925<br />00926<br />00927<br />00928<br />00929<br />00930<br />00931<br />00932<br />00933<br />00934<br />00935<br />00936<br />00937<br />00938<br />00939<br />00940<br />
00941<br />00942<br />00943<br />00944<br />00945<br />00946<br />00947<br />00948<br />00949<br />00950<br />00951<br />00952<br />00953<br />00954<br />00955<br />00956<br />00957<br />00958<br />00959<br />00960<br />
00961<br />00962<br />00963<br />00964<br />00965<br />00966<br />00967<br />00968<br />00969<br />00970<br />00971<br />00972<br />00973<br />00974<br />00975<br />00976<br />00977<br />00978<br />00979<br />00980<br />
00981<br />00982<br />00983<br />00984<br />00985<br />00986<br />00987<br />00988<br />00989<br />00990<br />00991<br />00992<br />00993<br />00994<br />00995<br />00996<br />00997<br />00998<br />00999<br />01000<br />
01001<br />01002<br />01003<br />01004<br />01005<br />01006<br />01007<br />01008<br />01009<br />01010<br />01011<br />01012<br />01013<br />01014<br />01015<br />01016<br />01017<br />01018<br />01019<br />01020<br />
01021<br />01022<br />01023<br />01024<br />01025<br />01026<br />01027<br />01028<br />01029<br />01030<br />01031<br />01032<br />01033<br />01034<br />01035<br />01036<br />01037<br />01038<br />01039<br />01040<br />
01041<br />01042<br />01043<br />01044<br />01045<br />01046<br />01047<br />01048<br />01049<br />01050<br />01051<br />01052<br />01053<br />01054<br />01055<br />01056<br />01057<br />01058<br />01059<br />01060<br />
01061<br />01062<br />01063<br />01064<br />01065<br />01066<br />01067<br />01068<br />01069<br />01070<br />01071<br />01072<br />01073<br />01074<br />01075<br />01076<br />01077<br />01078<br />01079<br />01080<br />
01081<br />01082<br />01083<br />01084<br />01085<br />01086<br />01087<br />01088<br />01089<br />01090<br />01091<br />01092<br />01093<br />01094<br />01095<br />01096<br />01097<br />01098<br />01099<br />01100<br />
01101<br />01102<br />01103<br />01104<br />01105<br />01106<br />01107<br />01108<br />01109<br />01110<br />01111<br />01112<br />01113<br />01114<br />01115<br />01116<br />01117<br />01118<br />01119<br />01120<br />
01121<br />01122<br />01123<br />01124<br />01125<br />01126<br />01127<br />01128<br />01129<br />01130<br />01131<br />01132<br />01133<br />01134<br />01135<br />01136<br />01137<br />01138<br />01139<br />01140<br />
01141<br />01142<br />01143<br />01144<br />01145<br />01146<br />01147<br />01148<br />01149<br />01150<br />01151<br />01152<br />01153<br />01154<br />01155<br />01156<br />01157<br />01158<br />01159<br />01160<br />
01161<br />01162<br />01163<br />01164<br />01165<br />01166<br />01167<br />01168<br />01169<br />01170<br />01171<br />01172<br />01173<br />01174<br />01175<br />01176<br />01177<br />01178<br />01179<br />01180<br />
01181<br />01182<br />01183<br />01184<br />01185<br />01186<br />01187<br />01188<br />01189<br />01190<br />01191<br />01192<br />01193<br />01194<br />01195<br />01196<br />01197<br />01198<br />01199<br />01200<br />
01201<br />01202<br />01203<br />01204<br />01205<br />01206<br />01207<br />01208<br />01209<br />01210<br />01211<br />01212<br />01213<br />01214<br />01215<br />01216<br />01217<br />01218<br />01219<br />01220<br />
01221<br />01222<br />01223<br />01224<br />01225<br />01226<br />01227<br />01228<br />01229<br />01230<br />01231<br />01232<br />01233<br />01234<br />01235<br />01236<br />01237<br />01238<br />01239<br />01240<br />
01241<br />01242<br />01243<br />01244<br />01245<br />01246<br />01247<br />01248<br />01249<br />01250<br />01251<br />01252<br />01253<br />01254<br />01255<br />01256<br />01257<br />01258<br />01259<br />01260<br />
01261<br />01262<br />01263<br />01264<br />01265<br />01266<br />01267<br />01268<br />01269<br />01270<br />01271<br />01272<br />01273<br />01274<br />01275<br />01276<br />01277<br />01278<br />01279<br />01280<br />
01281<br />01282<br />01283<br />01284<br />01285<br />01286<br />01287<br />01288<br />01289<br />01290<br />01291<br />01292<br />01293<br />01294<br />01295<br />01296<br />01297<br />01298<br />01299<br />01300<br />
01301<br />01302<br />01303<br />01304<br />01305<br />01306<br />01307<br />01308<br />01309<br />01310<br />01311<br />01312<br />01313<br />01314<br />01315<br />01316<br />01317<br />01318<br />01319<br />01320<br />
01321<br />01322<br />01323<br />01324<br />01325<br />01326<br />01327<br />01328<br />01329<br />01330<br />01331<br />01332<br />01333<br />01334<br />01335<br />01336<br />01337<br />01338<br />01339<br />01340<br />
01341<br />01342<br />01343<br />01344<br />01345<br />01346<br />01347<br />01348<br />01349<br />01350<br />01351<br />01352<br />01353<br />01354<br />01355<br />01356<br />01357<br />01358<br />01359<br />01360<br />
01361<br />01362<br />01363<br />01364<br />01365<br />01366<br />01367<br />01368<br />01369<br />01370<br />01371<br />01372<br />01373<br />01374<br />01375<br />01376<br />01377<br />01378<br />01379<br />01380<br />
01381<br />01382<br />01383<br />01384<br />01385<br />01386<br />01387<br />01388<br />01389<br />01390<br />01391<br />01392<br />01393<br />01394<br />01395<br />01396<br />01397<br />01398<br />01399<br />01400<br />
01401<br />01402<br />01403<br />01404<br />01405<br />01406<br />01407<br />01408<br />01409<br />01410<br />01411<br />01412<br />01413<br />01414<br />01415<br />01416<br />01417<br />01418<br />01419<br />01420<br />
01421<br />01422<br />01423<br />01424<br />01425<br />01426<br />01427<br />01428<br />01429<br />01430<br />01431<br />01432<br />01433<br />01434<br />01435<br />01436<br />01437<br />01438<br />01439<br />01440<br />
01441<br />01442<br />01443<br />01444<br />01445<br />01446<br />01447<br />01448<br />01449<br />01450<br />01451<br />01452<br />01453<br />01454<br />01455<br />01456<br />01457<br />01458<br />01459<br />01460<br />
01461<br />01462<br />01463<br />01464<br />01465<br />01466<br />01467<br />01468<br />01469<br />01470<br />01471<br />01472<br />01473<br />01474<br />01475<br />01476<br />01477<br />01478<br />01479<br />01480<br />
01481<br />01482<br />01483<br />01484<br />01485<br />01486<br />01487<br />01488<br />01489<br />01490<br />01491<br />01492<br />01493<br />01494<br />01495<br />01496<br />01497<br />01498<br />01499<br />01500<br />
01501<br />01502<br />01503<br />01504<br />01505<br />01506<br />01507<br />01508<br />01509<br />01510<br />01511<br />01512<br />01513<br />01514<br />01515<br />01516<br />01517<br />01518<br />01519<br />01520<br />
01521<br />01522<br />01523<br />01524<br />01525<br />01526<br />01527<br />01528<br />01529<br />01530<br />01531<br />01532<br />01533<br />01534<br />01535<br />01536<br />01537<br />01538<br />01539<br />01540<br />
01541<br />01542<br />01543<br />01544<br />01545<br />01546<br />01547<br />01548<br />01549<br />01550<br />01551<br />01552<br />01553<br />01554<br />01555<br />01556<br />01557<br />01558<br />01559<br />01560<br />
01561<br />01562<br />01563<br />01564<br />01565<br />01566<br />01567<br />01568<br />01569<br />01570<br />01571<br />01572<br />01573<br />01574<br />01575<br />01576<br />01577<br />01578<br />01579<br />01580<br />
01581<br />01582<br />01583<br />01584<br />01585<br />01586<br />01587<br />01588<br />01589<br />01590<br />01591<br />01592<br />01593<br />01594<br />01595<br />01596<br />01597<br />01598<br />01599<br />01600<br />
01601<br />01602<br />01603<br />01604<br />01605<br />01606<br />01607<br />01608<br />01609<br />01610<br />01611<br />01612<br />01613<br />01614<br />01615<br />01616<br />01617<br />01618<br />01619<br />01620<br />
01621<br />01622<br />01623<br />01624<br />01625<br />01626<br />01627<br />01628<br />01629<br />01630<br />01631<br />01632<br />01633<br />01634<br />01635<br />01636<br />01637<br />01638<br />01639<br />01640<br />
01641<br />01642<br />01643<br />01644<br />01645<br />01646<br />01647<br />01648<br />01649<br />01650<br />01651<br />01652<br />01653<br />01654<br />01655<br />01656<br />01657<br />01658<br />01659<br />01660<br />
01661<br />01662<br />01663<br />01664<br />01665<br />01666<br />01667<br />01668<br />01669<br />01670<br />01671<br />01672<br />01673<br />01674<br />01675<br />01676<br />01677<br />01678<br />01679<br />01680<br />
01681<br />01682<br />01683<br />01684<br />01685<br />01686<br />01687<br />01688<br />01689<br />01690<br />01691<br />01692<br />01693<br />01694<br />01695<br />01696<br />01697<br />01698<br />01699<br />01700<br />
01701<br />01702<br />01703<br />01704<br />01705<br />01706<br />01707<br />01708<br />01709<br />01710<br />01711<br />01712<br />01713<br />01714<br />01715<br />01716<br />01717<br />01718<br />01719<br />01720<br />
01721<br />01722<br />01723<br />01724<br />01725<br />01726<br />01727<br />01728<br />01729<br />01730<br />01731<br />01732<br />01733<br />01734<br />01735<br />01736<br />01737<br />01738<br />01739<br />01740<br />
01741<br />01742<br />01743<br />01744<br />01745<br />01746<br />01747<br />01748<br />01749<br />01750<br />01751<br />01752<br />01753<br />01754<br />01755<br />01756<br />01757<br />01758<br />01759<br />01760<br />
01761<br />01762<br />01763<br />01764<br />01765<br />01766<br />01767<br />01768<br />01769<br />01770<br />01771<br />01772<br />01773<br />01774<br />01775<br />01776<br />01777<br />01778<br />01779<br />01780<br />
01781<br />01782<br />01783<br />01784<br />01785<br />01786<br />01787<br />01788<br />01789<br />01790<br />01791<br />01792<br />01793<br />01794<br />01795<br />01796<br />01797<br />01798<br />01799<br />01800<br />
01801<br />01802<br />01803<br />01804<br />01805<br />01806<br />01807<br />01808<br />01809<br />01810<br />01811<br />01812<br />01813<br />01814<br />01815<br />01816<br />01817<br />01818<br />01819<br />01820<br />
01821<br />01822<br />01823<br />01824<br />01825<br />01826<br />01827<br />01828<br />01829<br />01830<br />01831<br />01832<br />01833<br />01834<br />01835<br />01836<br />01837<br />01838<br />01839<br />01840<br />
01841<br />01842<br />01843<br />01844<br />01845<br />01846<br />01847<br />01848<br />01849<br />01850<br />01851<br />01852<br />01853<br />01854<br />01855<br />01856<br />01857<br />01858<br />01859<br />01860<br />
01861<br />01862<br />01863<br />01864<br />01865<br />01866<br />01867<br />01868<br />01869<br />01870<br />01871<br />01872<br />01873<br />01874<br />01875<br />01876<br />01877<br />01878<br />01879<br />01880<br />
01881<br />01882<br />01883<br />01884<br />01885<br />01886<br />01887<br />01888<br />01889<br />01890<br />01891<br />01892<br />01893<br />01894<br />01895<br />01896<br />01897<br />01898<br />01899<br />01900<br />
01901<br />01902<br />01903<br />01904<br />01905<br />01906<br />01907<br />01908<br />01909<br />01910<br />01911<br />01912<br />01913<br />01914<br />01915<br />01916<br />01917<br />01918<br />01919<br />01920<br />
01921<br />01922<br />01923<br />01924<br />01925<br />01926<br />01927<br />01928<br />01929<br />01930<br />01931<br />01932<br />01933<br />01934<br />01935<br />01936<br />01937<br />01938<br />01939<br />01940<br />
01941<br />01942<br />01943<br />01944<br />01945<br />01946<br />01947<br />01948<br />01949<br />01950<br />01951<br />01952<br />01953<br />01954<br />01955<br />01956<br />01957<br />01958<br />01959<br />01960<br />
01961<br />01962<br />01963<br />01964<br />01965<br />01966<br />01967<br />01968<br />01969<br />01970<br />01971<br />01972<br />01973<br />01974<br />01975<br />01976<br />01977<br />01978<br />01979<br />01980<br />
01981<br />01982<br />01983<br />01984<br />01985<br />01986<br />01987<br />01988<br />01989<br />01990<br />01991<br />01992<br />01993<br />01994<br />01995<br />01996<br />01997<br />01998<br />01999<br />02000<br />
02001<br />02002<br />02003<br />02004<br />02005<br />02006<br />02007<br />02008<br />02009<br />02010<br />02011<br />02012<br />02013<br />02014<br />02015<br />02016<br />02017<br />02018<br />02019<br />02020<br />
02021<br />02022<br />02023<br />02024<br />02025<br />02026<br />02027<br />02028<br />02029<br />02030<br />02031<br />02032<br />02033<br />02034<br />02035<br />02036<br />02037<br />02038<br />02039<br />02040<br />
02041<br />02042<br />02043<br />02044<br />02045<br />02046<br />02047<br />02048<br />02049<br />02050<br />02051<br />02052<br />02053<br />02054<br />02055<br />02056<br />02057<br />02058<br />02059<br />02060<br />
02061<br />02062<br />02063<br />02064<br />02065<br />02066<br />02067<br />02068<br />02069<br />02070<br />02071<br />02072<br />02073<br />02074<br />02075<br />02076<br />02077<br />02078<br />02079<br />02080<br />
02081<br />02082<br />02083<br />02084<br />02085<br />02086<br />02087<br />02088<br />02089<br />02090<br />02091<br />02092<br />02093<br />02094<br />02095<br />02096<br />02097<br />02098<br />02099<br />02100<br />
02101<br />02102<br />02103<br />02104<br />02105<br />02106<br />02107<br />02108<br />02109<br />02110<br />02111<br />02112<br />02113<br />02114<br />02115<br />02116<br />02117<br />02118<br />02119<br />02120<br />
02121<br />02122<br />02123<br />02124<br />02125<br />02126<br />02127<br />02128<br />02129<br />02130<br />02131<br />02132<br />02133<br />02134<br />02135<br />02136<br />02137<br />02138<br />02139<br />02140<br />
02141<br />02142<br />02143<br />02144<br />02145<br />02146<br />02147<br />02148<br />02149<br />02150<br />02151<br />02152<br />02153<br />02154<br />02155<br />02156<br />02157<br />02158<br />02159<br />02160<br />
02161<br />02162<br />02163<br />02164<br />02165<br />02166<br />02167<br />02168<br />02169<br />02170<br />02171<br />02172<br />02173<br />02174<br />02175<br />02176<br />02177<br />02178<br />02179<br />02180<br />
02181<br />02182<br />02183<br />02184<br />02185<br />02186<br />02187<br />02188<br />02189<br />02190<br />02191<br />02192<br />02193<br />02194<br />02195<br />02196<br />02197<br />02198<br />02199<br />02200<br />
02201<br />02202<br />02203<br />02204<br />02205<br />02206<br />02207<br />02208<br />02209<br />02210<br />02211<br />02212<br />02213<br />02214<br />02215<br />02216<br />02217<br />02218<br />02219<br />02220<br />
02221<br />02222<br />02223<br />02224<br />02225<br />02226<br />02227<br />02228<br />02229<br />02230<br />02231<br />02232<br />02233<br />02234<br />02235<br />02236<br />02237<br />02238<br />02239<br />02240<br />
02241<br />02242<br />02243<br />02244<br />02245<br />02246<br />02247<br />02248<br />02249<br />02250<br />02251<br />02252<br />02253<br />02254<br />02255<br />02256<br />02257<br />02258<br />02259<br />02260<br />
02261<br />02262<br />02263<br />02264<br />02265<br />02266<br />02267<br />02268<br />02269<br />02270<br />02271<br />02272<br />02273<br />02274<br />02275<br />02276<br />02277<br />02278<br />02279<br />02280<br />
02281<br />02282<br />02283<br />02284<br />02285<br />02286<br />02287<br />02288<br />02289<br />02290<br />02291<br />02292<br />02293<br />02294<br />02295<br />02296<br />02297<br />02298<br />02299<br />02300<br />
02301<br />02302<br />02303<br />02304<br />02305<br />02306<br />02307<br />02308<br />02309<br />02310<br />02311<br />02312<br />02313<br />02314<br />02315<br />02316<br />02317<br />02318<br />02319<br />02320<br />
02321<br />02322<br />02323<br />02324<br />02325<br />02326<br />02327<br />02328<br />02329<br />02330<br />02331<br />02332<br />02333<br />02334<br />02335<br />02336<br />02337<br />02338<br />02339<br />02340<br />
02341<br />02342<br />02343<br />02344<br />02345<br />02346<br />02347<br />02348<br />02349<br />02350<br />02351<br />02352<br />02353<br />02354<br />02355<br />02356<br />02357<br />02358<br />02359<br />02360<br />
02361<br />02362<br />02363<br />02364<br />02365<br />02366<br />02367<br />02368<br />02369<br />02370<br />02371<br />02372<br />02373<br />02374<br />02375<br />02376<br />02377<br />02378<br />02379<br />02380<br />
02381<br />02382<br />02383<br />02384<br />02385<br />02386<br />02387<br />02388<br />02389<br />02390<br />02391<br />02392<br />02393<br />02394<br />02395<br />02396<br />02397<br />02398<br />02399<br />02400<br />
02401<br />02402<br />02403<br />02404<br />02405<br />02406<br />02407<br />02408<br />02409<br />02410<br />02411<br />02412<br />02413<br />02414<br />02415<br />02416<br />02417<br />02418<br />02419<br />02420<br />
02421<br />02422<br />02423<br />02424<br />02425<br />02426<br />02427<br />02428<br />02429<br />02430<br />02431<br />02432<br />02433<br />02434<br />02435<br />02436<br />02437<br />02438<br />02439<br />02440<br />
02441<br />02442<br />02443<br />02444<br />02445<br />02446<br />02447<br />02448<br />02449<br />02450<br />02451<br />02452<br />02453<br />02454<br />02455<br />02456<br />02457<br />02458<br />02459<br />02460<br />
02461<br />02462<br />02463<br />02464<br />02465<br />02466<br />02467<br />02468<br />02469<br />02470<br />02471<br />02472<br />02473<br />02474<br />02475<br />02476<br />02477<br />02478<br />02479<br />02480<br />
02481<br />02482<br />02483<br />02484<br />02485<br />02486<br />02487<br />02488<br />02489<br />02490<br />02491<br />02492<br />02493<br />02494<br />02495<br />02496<br />02497<br />02498<br />02499<br />02500<br />
02501<br />02502<br />02503<br />02504<br />02505<br />02506<br />02507<br />02508<br />02509<br />02510<br />02511<br />02512<br />02513<br />02514<br />02515<br />02516<br />02517<br />02518<br />02519<br />02520<br />
02521<br />02522<br />02523<br />02524<br />02525<br />02526<br />02527<br />02528<br />02529<br />02530<br />02531<br />02532<br />02533<br />02534<br />02535<br />02536<br />02537<br />02538<br />02539<br />02540<br />
02541<br />02542<br />02543<br />02544<br />02545<br />02546<br />02547<br />02548<br />02549<br />02550<br />02551<br />02552<br />02553<br />02554<br />02555<br />02556<br />02557<br />02558<br />02559<br />02560<br />
02561<br />02562<br />02563<br />02564<br />02565<br />02566<br />02567<br />02568<br />02569<br />02570<br />02571<br />02572<br />02573<br />02574<br />02575<br />02576<br />02577<br />02578<br />02579<br />02580<br />
02581<br />02582<br />02583<br />02584<br />02585<br />02586<br />02587<br />02588<br />02589<br />02590<br />02591<br />02592<br />02593<br />02594<br />02595<br />02596<br />02597<br />02598<br />02599<br />02600<br />
02601<br />02602<br />02603<br />02604<br />02605<br />02606<br />02607<br />02608<br />02609<br />02610<br />02611<br />02612<br />02613<br />02614<br />02615<br />02616<br />02617<br />02618<br />02619<br />02620<br />
02621<br />02622<br />02623<br />02624<br />02625<br />02626<br />02627<br />02628<br />02629<br />02630<br />02631<br />02632<br />02633<br />02634<br />02635<br />02636<br />02637<br />02638<br />02639<br />02640<br />
02641<br />02642<br />02643<br />02644<br />02645<br />02646<br />02647<br />02648<br />02649<br />02650<br />02651<br />02652<br />02653<br />02654<br />02655<br />02656<br />02657<br />02658<br />02659<br />02660<br />
02661<br />02662<br />02663<br />02664<br />02665<br />02666<br />02667<br />02668<br />02669<br />02670<br />02671<br />02672<br />02673<br />02674<br />02675<br />02676<br />02677<br />02678<br />02679<br />02680<br />
02681<br />02682<br />02683<br />02684<br />02685<br />02686<br />02687<br />02688<br />02689<br />02690<br />02691<br />02692<br />02693<br />02694<br />02695<br />02696<br />02697<br />02698<br />02699<br />02700<br />
02701<br />02702<br />02703<br />02704<br />02705<br />02706<br />02707<br />02708<br />02709<br />02710<br />02711<br />02712<br />02713<br />02714<br />02715<br />02716<br />02717<br />02718<br />02719<br />02720<br />
02721<br />02722<br />02723<br />02724<br />02725<br />02726<br />02727<br />02728<br />02729<br />02730<br />02731<br />02732<br />02733<br />02734<br />02735<br />02736<br />02737<br />02738<br />02739<br />02740<br />
02741<br />02742<br />02743<br />02744<br />02745<br />02746<br />02747<br />02748<br />02749<br />02750<br />02751<br />02752<br />02753<br />02754<br />02755<br />02756<br />02757<br />02758<br />02759<br />02760<br />
02761<br />02762<br />02763<br />02764<br />02765<br />02766<br />02767<br />02768<br />02769<br />02770<br />02771<br />02772<br />02773<br />02774<br />02775<br />02776<br />02777<br />02778<br />02779<br />02780<br />
02781<br />02782<br />02783<br />02784<br />02785<br />02786<br />02787<br />02788<br />02789<br />02790<br />02791<br />02792<br />02793<br />02794<br />02795<br />02796<br />02797<br />02798<br />02799<br />02800<br />
02801<br />02802<br />02803<br />02804<br />02805<br />02806<br />02807<br />02808<br />02809<br />02810<br />02811<br />02812<br />02813<br />02814<br />02815<br />02816<br />02817<br />02818<br />02819<br />02820<br />
02821<br />02822<br />02823<br />02824<br />02825<br />02826<br />02827<br />02828<br />02829<br />02830<br />02831<br />02832<br />02833<br />02834<br />02835<br />02836<br />02837<br />02838<br />02839<br />02840<br />
02841<br />02842<br />02843<br />02844<br />02845<br />02846<br />02847<br />02848<br />02849<br />02850<br />02851<br />02852<br />02853<br />02854<br />02855<br />02856<br />02857<br />02858<br />02859<br />02860<br />
02861<br />02862<br />02863<br />02864<br />02865<br />02866<br />02867<br />02868<br />02869<br />02870<br />02871<br />02872<br />02873<br />02874<br />02875<br />02876<br />02877<br />02878<br />02879<br />02880<br />
02881<br />02882<br />02883<br />02884<br />02885<br />02886<br />02887<br />02888<br />02889<br />02890<br />02891<br />02892<br />02893<br />02894<br />02895<br />02896<br />02897<br />02898<br />02899<br />02900<br />
02901<br />02902<br />02903<br />02904<br />02905<br />02906<br />02907<br />02908<br />02909<br />02910<br />02911<br />02912<br />02913<br />02914<br />02915<br />02916<br />02917<br />02918<br />02919<br />02920<br />
02921<br />02922<br />02923<br />02924<br />02925<br />02926<br />02927<br />02928<br />02929<br />02930<br />02931<br />02932<br />02933<br />02934<br />02935<br />02936<br />02937<br />02938<br />02939<br />02940<br />
02941<br />02942<br />02943<br />02944<br />02945<br />02946<br />02947<br />02948<br />02949<br />02950<br />02951<br />02952<br />02953<br />02954<br />02955<br />02956<br />02957<br />02958<br />02959<br />02960<br />
02961<br />02962<br />02963<br />02964<br />02965<br />02966<br />02967<br />02968<br />02969<br />02970<br />02971<br />02972<br />02973<br />02974<br />02975<br />02976<br />02977<br />02978<br />02979<br />02980<br />
02981<br />02982<br />02983<br />02984<br />02985<br />02986<br />02987<br />02988<br />02989<br />02990<br />02991<br />02992<br />02993<br />02994<br />02995<br />02996<br />02997<br />02998<br />02999<br />03000<br />
03001<br />03002<br />03003<br />03004<br />03005<br />03006<br />03007<br />03008<br />03009<br />03010<br />03011<br />03012<br />03013<br />03014<br />03015<br />03016<br />03017<br />03018<br />03019<br />03020<br />
03021<br />03022<br />03023<br />03024<br />03025<br />03026<br />03027<br />03028<br />03029<br />03030<br />03031<br />03032<br />03033<br />03034<br />03035<br />03036<br />03037<br />03038<br />03039<br />03040<br />
03041<br />03042<br />03043<br />03044<br />03045<br />03046<br />03047<br />03048<br />03049<br />03050<br />03051<br />03052<br />03053<br />03054<br />03055<br />03056<br />03057<br />03058<br />03059<br />03060<br />
03061<br />03062<br />03063<br />03064<br />03065<br />03066<br />03067<br />03068<br />03069<br />03070<br />03071<br />03072<br />03073<br />03074<br />03075<br />03076<br />03077<br />03078<br />03079<br />03080<br />
03081<br />03082<br />03083<br />03084<br />03085<br />03086<br />03087<br />03088<br />03089<br />03090<br />03091<br />03092<br />03093<br />03094<br />03095<br />03096<br />03097<br />03098</span></td>
<td class="source"><pre class="source"><a name="1"></a><span class="source_comment">//=============================================================================
</span><a name="2"></a><span class="source_comment">// Actor: The base class of all actors.
</span><a name="3"></a><span class="source_comment">// Actor is the base class of all gameplay objects.  
</span><a name="4"></a><span class="source_comment">// A large number of properties, behaviors and interfaces are implemented in Actor, including:
</span><a name="5"></a><span class="source_comment">//
</span><a name="6"></a><span class="source_comment">// -	Display 
</span><a name="7"></a><span class="source_comment">// -	Animation
</span><a name="8"></a><span class="source_comment">// -	Physics and world interaction
</span><a name="9"></a><span class="source_comment">// -	Making sounds
</span><a name="10"></a><span class="source_comment">// -	Networking properties
</span><a name="11"></a><span class="source_comment">// -	Actor creation and destruction
</span><a name="12"></a><span class="source_comment">// -	Triggering and timers
</span><a name="13"></a><span class="source_comment">// -	Actor iterator functions
</span><a name="14"></a><span class="source_comment">// -	Message broadcasting
</span><a name="15"></a><span class="source_comment">//
</span><a name="16"></a><span class="source_comment">// This is a built-in Unreal class and it shouldn't be modified.
</span><a name="17"></a><span class="source_comment">//=============================================================================
</span><a name="18"></a><span class="source_type">class</span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> extends Core.<span class="source_type"><a href="../core/object.html" class="source">Object</a></span>
<a name="19"></a>	abstract
<a name="20"></a>	threaded
<a name="21"></a>	native
<a name="22"></a>	nativereplication;
<a name="23"></a>
<a name="24"></a><span class="source_comment">// Light modulation.
</span><a name="25"></a>var(Lighting) enum <span class="source_type"><a href="../engine/actor.html#ELightType" class="source">ELightType</a></span>
<a name="26"></a>{
<a name="27"></a>	LT_None,
<a name="28"></a>	LT_Steady,
<a name="29"></a>	LT_Pulse,
<a name="30"></a>	LT_Blink,
<a name="31"></a>	LT_Flicker,
<a name="32"></a>	LT_Strobe,
<a name="33"></a>	LT_BackdropLight,
<a name="34"></a>	LT_SubtlePulse,
<a name="35"></a>	LT_TexturePaletteOnce,
<a name="36"></a>	LT_TexturePaletteLoop,
<a name="37"></a>	LT_FadeOut
<a name="38"></a>} LightType;
<a name="39"></a>
<a name="40"></a><span class="source_comment">// Spatial light effect to use.
</span><a name="41"></a>var(Lighting) enum <span class="source_type"><a href="../engine/actor.html#ELightEffect" class="source">ELightEffect</a></span>
<a name="42"></a>{
<a name="43"></a><span class="source_macro">#if IG_RENDERER // rowan: only support these light types
</span><a name="44"></a>	LE_Pointlight,
<a name="45"></a>	LE_Sunlight,
<a name="46"></a>	LE_Spotlight,
<a name="47"></a><span class="source_macro">#else
</span><a name="48"></a>	LE_None,
<a name="49"></a>	LE_TorchWaver,
<a name="50"></a>	LE_FireWaver,
<a name="51"></a>	LE_WateryShimmer,
<a name="52"></a>	LE_Searchlight,
<a name="53"></a>	LE_SlowWave,
<a name="54"></a>	LE_FastWave,
<a name="55"></a>	LE_CloudCast,
<a name="56"></a>	LE_StaticSpot,
<a name="57"></a>	LE_Shock,
<a name="58"></a>	LE_Disco,
<a name="59"></a>	LE_Warp,
<a name="60"></a>	LE_Spotlight,
<a name="61"></a>	LE_NonIncidence,
<a name="62"></a>	LE_Shell,
<a name="63"></a>	LE_OmniBumpMap,
<a name="64"></a>	LE_Interference,
<a name="65"></a>	LE_Cylinder,
<a name="66"></a>	LE_Rotor,
<a name="67"></a>	LE_Sunlight,
<a name="68"></a>	LE_QuadraticNonIncidence
<a name="69"></a><span class="source_macro">#endif // IG
</span><a name="70"></a>} LightEffect;
<a name="71"></a>
<a name="72"></a><span class="source_comment">// Lighting info.
</span><a name="73"></a>var(LightColor) <span class="source_type">float</span>
<a name="74"></a>	LightBrightness;
<a name="75"></a>var(Lighting) <span class="source_type">float</span>
<a name="76"></a>	LightRadius;
<a name="77"></a>var(LightColor) <span class="source_type">byte</span>
<a name="78"></a>	LightHue,
<a name="79"></a>	LightSaturation;
<a name="80"></a>var(Lighting) <span class="source_type">byte</span>
<a name="81"></a>	LightPeriod,
<a name="82"></a>	LightPhase,
<a name="83"></a>	LightCone;
<a name="84"></a>
<a name="85"></a><span class="source_macro">#if IG_TRIBES3 // Alex: disables copying of instances of this Actor in UnrealEd
</span><a name="86"></a>var <span class="source_type">bool</span> bDisableEditorCopying;
<a name="87"></a><span class="source_macro">#endif
</span><a name="88"></a>
<a name="89"></a><span class="source_macro">#if IG_SHADOWS // rowan: SHADOW
</span><a name="90"></a>var(Lighting) <span class="source_type">bool</span> bCastsVolumetricShadows;		<span class="source_comment">// light casts volumetric shadows
</span><a name="91"></a>var(Lighting) <span class="source_type">bool</span> bDisableShadowOptimisation;	<span class="source_comment">// disable shadow clipping for this light source
</span><a name="92"></a>var(Lighting) <span class="source_type">bool</span> bDisableBspVolumetrics;		<span class="source_comment">// disable volumetric shadows and illumination for bsp surfaces affected by this light source
</span><a name="93"></a>var(Display)  <span class="source_type">bool</span> bVolumetricShadowCast        <span class="source_string">"If true, lights with bCastsVolumetricShadows=true will cast volumetric shadows from this actor"</span>;
<a name="94"></a><span class="source_macro">#endif // IG
</span><a name="95"></a>
<a name="96"></a><span class="source_macro">#if IG_BUMPMAP // rowan: new bump params
</span><a name="97"></a><span class="source_comment">// force lights to require an extra pass on bump mapped objects (not go into approximation stream)
</span><a name="98"></a>var(Lighting) <span class="source_type">bool</span> bDoNotApproximateBumpmap;
<a name="99"></a>var(Display) <span class="source_type">float</span> BumpmapLODScale;
<a name="100"></a><span class="source_macro">#endif
</span><a name="101"></a>
<a name="102"></a><span class="source_macro">#if IG_SHARED // ckline: lights and projectors can be flagged to only affect the zone they're in
</span><a name="103"></a>var() <span class="source_type">bool</span> bOnlyAffectCurrentZone <span class="source_string">"If this flag is set to TRUE on a light or projector, that light/projector will only affect actors and BSP that are in the same zone at the light/projector."</span>;
<a name="104"></a><span class="source_macro">#endif
</span><a name="105"></a>
<a name="106"></a><span class="source_macro">#if IG_SHARED	// rowan: new light stuff
</span><a name="107"></a>var(Lighting) <span class="source_type">float</span> MaxTraceDistance;		<span class="source_comment">//max raytrace distance for sunlights in unrealed
</span><a name="108"></a>var(Advanced)	<span class="source_type">bool</span> bImportantActor;				<span class="source_comment">// lets the light scalability system know taht it should never cull this light
</span><a name="109"></a>var(Display) <span class="source_type">bool</span> bGetOverlayMaterialFromBase;	<span class="source_comment">// inherit your base's overlay
</span><a name="110"></a>var(Display) <span class="source_type">bool</span> bGetSkinFromBase;				<span class="source_comment">// inherit your base's skin
</span><a name="111"></a><span class="source_macro">#endif
</span><a name="112"></a>
<a name="113"></a><span class="source_macro">#if IG_SHARED	// rowan: post render callback for fun stuff
</span><a name="114"></a>var <span class="source_type">bool</span> bNeedPostRenderCallback;
<a name="115"></a><span class="source_macro">#endif
</span><a name="116"></a>
<a name="117"></a><span class="source_macro">#if IG_EXTERNAL_CAMERAS
</span><a name="118"></a><span class="source_comment">// If this flag is set to TRUE then this object will be considered a 
</span><a name="119"></a><span class="source_comment">// mirror, and be optimized as such in the renderer when rendering 
</span><a name="120"></a><span class="source_comment">// external cameras
</span><a name="121"></a>var <span class="source_type">bool</span>  bIsMirror;
<a name="122"></a><span class="source_macro">#endif
</span><a name="123"></a>
<a name="124"></a><span class="source_macro">#if IG_TRIBES3
</span><a name="125"></a>var const <span class="source_type">bool</span> bIsVehicle;        <span class="source_comment">// glenn: i suck and i need to check if an actor is a vehicle at a place where i dont have access to AVehicle in native code =(
</span><a name="126"></a><span class="source_macro">#endif
</span><a name="127"></a>
<a name="128"></a><span class="source_macro">#if IG_TRIBES3	// rowan: for cutscene characters, update their bound using char root motion
</span><a name="129"></a>var(Display) <span class="source_type">bool</span> bUseRootMotionBound;
<a name="130"></a><span class="source_macro">#endif
</span><a name="131"></a>
<a name="132"></a><span class="source_macro">#if IG_TRIBES3 // Alex: when considering network relevancy always treat as visible regardless of bHidden
</span><a name="133"></a>var <span class="source_type">bool</span> bNetworkRelevancyVisible;
<a name="134"></a><span class="source_macro">#endif
</span><a name="135"></a>
<a name="136"></a><span class="source_macro">#if IG_TRIBES3 // Paul: SpeechTag, used as a key to lookup speech files
</span><a name="137"></a>var(DynamicSpeech) <span class="source_type">String</span> SpeechTag	<span class="source_string">"Used as a full or partial key to lookup speech files int the Dynamic Speech system"</span>;
<a name="138"></a><span class="source_macro">#endif // IG_TRIBES3
</span><a name="139"></a>
<a name="140"></a><span class="source_macro">#if IG_TRIBES3_PHYSICS // Paul: variables required for interacting with Karma through unified physics interface
</span><a name="141"></a>
<a name="142"></a><span class="source_comment">// accumulators for holding forces applied to karma objects
</span><a name="143"></a><span class="source_comment">// through the addForce & addTorque commands
</span><a name="144"></a>var private <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> forceAccumulator;
<a name="145"></a>var private <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> torqueAccumulator;
<a name="146"></a>
<a name="147"></a><span class="source_comment">// Need to maintain our own velocity & position, because they will get 
</span><a name="148"></a><span class="source_comment">// clobbered if the karma object is awake when you explicitly set it.
</span><a name="149"></a><span class="source_comment">// WARNING: the unified velocity & position variables are NOT to be 
</span><a name="150"></a><span class="source_comment">// relied upon for anything other than the unified physics API!!!
</span><a name="151"></a>var private <span class="source_type">bool</span> bUnifiedPositionChanged;
<a name="152"></a>var private <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> unifiedPosition;
<a name="153"></a>var private <span class="source_type">bool</span> bUnifiedVelocityChanged;
<a name="154"></a>var private <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> unifiedVelocity;
<a name="155"></a>
<a name="156"></a><span class="source_macro">#endif
</span><a name="157"></a>
<a name="158"></a><span class="source_comment">// Priority Parameters
</span><a name="159"></a><span class="source_comment">// Actor's current physics mode.
</span><a name="160"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>) const enum <span class="source_type"><a href="../engine/actor.html#EPhysics" class="source">EPhysics</a></span>
<a name="161"></a>{
<a name="162"></a>	PHYS_None,
<a name="163"></a>	PHYS_Walking,
<a name="164"></a>	PHYS_Falling,
<a name="165"></a>	PHYS_Swimming,
<a name="166"></a>	PHYS_Flying,
<a name="167"></a>	PHYS_Rotating,
<a name="168"></a>	PHYS_Projectile,
<a name="169"></a>	PHYS_Interpolating,
<a name="170"></a>	PHYS_MovingBrush,
<a name="171"></a>	PHYS_Spider,
<a name="172"></a>	PHYS_Trailer,
<a name="173"></a>	PHYS_Ladder,
<a name="174"></a>	PHYS_RootMotion,
<a name="175"></a>    PHYS_Karma_Deprecated,
<a name="176"></a>    PHYS_KarmaRagDoll_Deprecated,
<a name="177"></a>	PHYS_Havok,
<a name="178"></a>	PHYS_HavokSkeletal,
<a name="179"></a><span class="source_macro">#if IG_TRIBES3_MOVEMENT
</span><a name="180"></a>	PHYS_Movement,
<a name="181"></a><span class="source_macro">#endif
</span><a name="182"></a>} Physics;
<a name="183"></a>
<a name="184"></a><span class="source_comment">// Drawing effect.
</span><a name="185"></a>var(Display) const enum <span class="source_type"><a href="../engine/actor.html#EDrawType" class="source">EDrawType</a></span>
<a name="186"></a>{
<a name="187"></a>	DT_None,
<a name="188"></a>	DT_Sprite,
<a name="189"></a>	DT_Mesh,
<a name="190"></a>	DT_Brush,
<a name="191"></a>	DT_RopeSprite,
<a name="192"></a>	DT_VerticalSprite,
<a name="193"></a>	DT_Terraform,
<a name="194"></a>	DT_SpriteAnimOnce,
<a name="195"></a>	DT_StaticMesh,
<a name="196"></a>	DT_DrawType,
<a name="197"></a>	DT_Particle,
<a name="198"></a>	DT_AntiPortal,
<a name="199"></a>	DT_FluidSurface,
<a name="200"></a><span class="source_macro">#if IG_FLUID_VOLUME // rowan: draw type for fluid volume objects
</span><a name="201"></a>	DT_FluidVolume,
<a name="202"></a><span class="source_macro">#endif
</span><a name="203"></a>} DrawType;
<a name="204"></a>
<a name="205"></a>var(Display) const <span class="source_type">StaticMesh</span> <span class="source_type">StaticMesh</span>;		<span class="source_comment">// StaticMesh if DrawType=DT_StaticMesh
</span><a name="206"></a>
<a name="207"></a><span class="source_comment">// Owner.
</span><a name="208"></a>var const <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>	<span class="source_type">Owner</span>;			<span class="source_comment">// Owner actor.
</span><a name="209"></a>var const <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>	Base;           <span class="source_comment">// Actor we're standing on.
</span><a name="210"></a>
<a name="211"></a>struct <span class="source_type"><a href="../engine/actor.html#ActorRenderDataPtr" class="source">ActorRenderDataPtr</a></span> { var <span class="source_type">int</span> Ptr; };
<a name="212"></a>struct <span class="source_type"><a href="../engine/actor.html#LightRenderDataPtr" class="source">LightRenderDataPtr</a></span> { var <span class="source_type">int</span> Ptr; };
<a name="213"></a>
<a name="214"></a>var const native <span class="source_type"><a href="../engine/actor.html#ActorRenderDataPtr" class="source">ActorRenderDataPtr</a></span>	ActorRenderData;
<a name="215"></a>var const native <span class="source_type"><a href="../engine/actor.html#LightRenderDataPtr" class="source">LightRenderDataPtr</a></span>	LightRenderData;
<a name="216"></a>var const native <span class="source_type">int</span>				RenderRevision;
<a name="217"></a>
<a name="218"></a><span class="source_macro">#if IG_SHARED	// rowan: sub visibility actors
</span><a name="219"></a>var const <span class="source_type">bool</span> UsesSubVisibility;
<a name="220"></a><span class="source_macro">#endif
</span><a name="221"></a>
<a name="222"></a>enum <span class="source_type"><a href="../engine/actor.html#EFilterState" class="source">EFilterState</a></span>
<a name="223"></a>{
<a name="224"></a>	FS_Maybe,
<a name="225"></a>	FS_Yes,
<a name="226"></a>	FS_No
<a name="227"></a>};
<a name="228"></a>
<a name="229"></a>var const native <span class="source_type"><a href="../engine/actor.html#EFilterState" class="source">EFilterState</a></span>	StaticFilterState;
<a name="230"></a>
<a name="231"></a>struct <span class="source_type"><a href="../engine/actor.html#BatchReference" class="source">BatchReference</a></span>
<a name="232"></a>{
<a name="233"></a>	var <span class="source_type">int</span>	BatchIndex,
<a name="234"></a>			ElementIndex;
<a name="235"></a>};
<a name="236"></a>
<a name="237"></a>var const native array&lt;<span class="source_type"><a href="../engine/actor.html#BatchReference" class="source">BatchReference</a></span>&gt;	StaticSectionBatches;
<a name="238"></a>
<a name="239"></a><span class="source_macro">#if IG_SHARED // ckline: ForcedVisibilityZoneTag can be used to limit projection to actors in specific zone
</span><a name="240"></a>var(Display) const <span class="source_type">name</span>	ForcedVisibilityZoneTag <span class="source_string">"If set to something other than None, this actor will only render if the Tag of the ZoneInfo of its current zone is set to the same name.\n\nAdditionally, if the actor is a projector it will only project onto actors that are also in the correct zone."</span>;
<a name="241"></a><span class="source_macro">#else
</span><a name="242"></a>var(Display) const <span class="source_type">name</span>	ForcedVisibilityZoneTag; <span class="source_comment">// Makes the visibility code treat the actor as if it was in the zone with the given tag.
</span><a name="243"></a><span class="source_macro">#endif
</span><a name="244"></a>
<a name="245"></a><span class="source_comment">// Lighting.
</span><a name="246"></a>var(Lighting) <span class="source_type">bool</span>	     bSpecialLit;			<span class="source_comment">// Only affects special-lit surfaces.
</span><a name="247"></a>var(Lighting) <span class="source_type">bool</span>	     bActorShadows;			<span class="source_comment">// Light casts actor shadows.
</span><a name="248"></a>var(Lighting) <span class="source_type">bool</span>	     bCorona;			   <span class="source_comment">// Light uses Skin as a corona.
</span><a name="249"></a>var(Lighting) <span class="source_type">bool</span>		 bLightingVisibility;	<span class="source_comment">// Calculate lighting visibility for this actor with line checks.
</span><a name="250"></a>var(Display) <span class="source_type">bool</span>		 bUseDynamicLights;
<a name="251"></a>var <span class="source_type">bool</span>				 bLightChanged;			<span class="source_comment">// Recalculate this light's lighting now.
</span><a name="252"></a>
<a name="253"></a><span class="source_comment">//	Detail mode enum.
</span><a name="254"></a>
<a name="255"></a>enum <span class="source_type"><a href="../engine/actor.html#EDetailMode" class="source">EDetailMode</a></span>
<a name="256"></a>{
<a name="257"></a>	DM_Low,
<a name="258"></a>	DM_High,
<a name="259"></a>	DM_SuperHigh
<a name="260"></a>};
<a name="261"></a>
<a name="262"></a><span class="source_comment">// Flags.
</span><a name="263"></a>var			  const <span class="source_type">bool</span>	bStatic;			<span class="source_comment">// Does not move or change over time. Don't let L.D.s change this - screws up net play
</span><a name="264"></a>var(Advanced)		<span class="source_type">bool</span>	bHidden;			<span class="source_comment">// Is hidden during gameplay.
</span><a name="265"></a>var(Advanced) const <span class="source_type">bool</span>	bNoDelete;			<span class="source_comment">// Cannot be deleted during play.
</span><a name="266"></a>var			  const	<span class="source_type">bool</span>	bDeleteMe;			<span class="source_comment">// About to be deleted.
</span><a name="267"></a><span class="source_macro">#if IG_SHARED	// rowan: Optimisation: ability to disable touch and tick
</span><a name="268"></a>var					<span class="source_type">bool</span>	bDisableTick;
<a name="269"></a>var					<span class="source_type">bool</span>	bDisableTouch;
<a name="270"></a><span class="source_macro">#endif
</span><a name="271"></a><span class="source_comment">// IGA &lt;&lt;&lt; Bool bTicked changed to int called LastTick
</span><a name="272"></a><span class="source_comment">//var transient const bool		bTicked;				// Actor has been updated.
</span><a name="273"></a><span class="source_comment">// IGA
</span><a name="274"></a>var(Lighting)		<span class="source_type">bool</span>	bDynamicLight;		<span class="source_comment">// This light is dynamic.
</span><a name="275"></a>var					<span class="source_type">bool</span>	bTimerLoop;			<span class="source_comment">// Timer loops (else is one-shot).
</span><a name="276"></a>var					<span class="source_type">bool</span>    bOnlyOwnerSee;		<span class="source_comment">// Only owner can see this actor.
</span><a name="277"></a>var(Advanced)		<span class="source_type">bool</span>    bHighDetail;		<span class="source_comment">// Only show up in high or super high detail mode.
</span><a name="278"></a>var(Advanced)		<span class="source_type">bool</span>	bSuperHighDetail;	<span class="source_comment">// Only show up in super high detail mode.
</span><a name="279"></a>var					<span class="source_type">bool</span>	bOnlyDrawIfAttached;	<span class="source_comment">// don't draw this actor if not attached (useful for net clients where attached actors and their bases' replication may not be synched)
</span><a name="280"></a>var(Advanced)		<span class="source_type">bool</span>	bStasis;			<span class="source_comment">// In StandAlone games, turn off if not in a recently rendered zone turned off if  bStasis  and physics = PHYS_None or PHYS_Rotating.
</span><a name="281"></a>var					<span class="source_type">bool</span>	bTrailerAllowRotation; <span class="source_comment">// If PHYS_Trailer and want independent rotation control.
</span><a name="282"></a>var					<span class="source_type">bool</span>	bTrailerSameRotation; <span class="source_comment">// If PHYS_Trailer and true, have same rotation as owner.
</span><a name="283"></a>var					<span class="source_type">bool</span>	bTrailerPrePivot;	<span class="source_comment">// If PHYS_Trailer and true, offset from owner by PrePivot.
</span><a name="284"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="285"></a>var(Advanced)		<span class="source_type">bool</span>	bWorldGeometry;		<span class="source_comment">// Collision and Physics treats this actor as world geometry
</span><a name="286"></a><span class="source_macro">#else
</span><a name="287"></a>var					<span class="source_type">bool</span>	bWorldGeometry;		<span class="source_comment">// Collision and Physics treats this actor as world geometry
</span><a name="288"></a><span class="source_macro">#endif
</span><a name="289"></a>var(Display)		<span class="source_type">bool</span>    bAcceptsProjectors;	<span class="source_comment">// Projectors can project onto this actor
</span><a name="290"></a><span class="source_macro">#if IG_SHARED // ckline: selectively prevent actors from receiving ShadowProjector shadows
</span><a name="291"></a>var(Display)		<span class="source_type">bool</span>    bAcceptsShadowProjectors <span class="source_string">"If false, ShadowProjectors (e.g., player shadows) will not project onto this actor. This parameter is ignored unless bAcceptsProjectors=true."</span>;
<a name="292"></a><span class="source_macro">#endif
</span><a name="293"></a>var					<span class="source_type">bool</span>	bOrientOnSlope;		<span class="source_comment">// when landing, orient base on slope of floor
</span><a name="294"></a>var			  const	<span class="source_type">bool</span>	bOnlyAffectPawns;	<span class="source_comment">// Optimisation - only test ovelap against pawns. Used for influences etc.
</span><a name="295"></a>var(Display)		<span class="source_type">bool</span>	bDisableSorting;	<span class="source_comment">// Manual override for translucent material sorting.
</span><a name="296"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>)		<span class="source_type">bool</span>	bIgnoreEncroachers; <span class="source_comment">// Ignore collisions between movers and 
</span><a name="297"></a>
<a name="298"></a>var					<span class="source_type">bool</span>    bShowOctreeNodes;
<a name="299"></a>var					<span class="source_type">bool</span>    bWasSNFiltered;      <span class="source_comment">// Mainly for debugging - the way this actor was inserted into Octree.
</span><a name="300"></a>
<a name="301"></a><span class="source_comment">// Networking flags
</span><a name="302"></a>var			  const	<span class="source_type">bool</span>	bNetTemporary;				<span class="source_comment">// Tear-off simulation in network play.
</span><a name="303"></a>var					<span class="source_type">bool</span>	bOnlyRelevantToOwner;			<span class="source_comment">// this actor is only relevant to its owner.
</span><a name="304"></a>var transient const	<span class="source_type">bool</span>	bNetDirty;					<span class="source_comment">// set when any attribute is assigned a value in unrealscript, reset when the actor is replicated
</span><a name="305"></a>var					<span class="source_type">bool</span>	bAlwaysRelevant;			<span class="source_comment">// Always relevant for network.
</span><a name="306"></a>var					<span class="source_type">bool</span>	bReplicateInstigator;		<span class="source_comment">// Replicate instigator to client (used by bNetTemporary projectiles).
</span><a name="307"></a>var					<span class="source_type">bool</span>	bReplicateMovement;			<span class="source_comment">// if true, replicate movement/location related properties
</span><a name="308"></a>var					<span class="source_type">bool</span>	bSkipActorPropertyReplication; <span class="source_comment">// if true, don't replicate actor class variables for this actor
</span><a name="309"></a>var					<span class="source_type">bool</span>	bUpdateSimulatedPosition;	<span class="source_comment">// if true, update velocity/location after initialization for simulated proxies
</span><a name="310"></a>var					<span class="source_type">bool</span>	bTearOff;					<span class="source_comment">// if true, this actor is no longer replicated to new clients, and 
</span><a name="311"></a>														<span class="source_comment">// is "torn off" (becomes a ROLE_Authority) on clients to which it was being replicated.
</span><a name="312"></a>var					<span class="source_type">bool</span>	bOnlyDirtyReplication;		<span class="source_comment">// if true, only replicate actor if bNetDirty is true - useful if no C++ changed attributes (such as physics) 
</span><a name="313"></a>														<span class="source_comment">// bOnlyDirtyReplication only used with bAlwaysRelevant actors
</span><a name="314"></a>var					<span class="source_type">bool</span>	bReplicateAnimations;		<span class="source_comment">// Should replicate SimAnim
</span><a name="315"></a>var const           <span class="source_type">bool</span>    bNetInitialRotation;        <span class="source_comment">// Should replicate initial rotation
</span><a name="316"></a>var					<span class="source_type">bool</span>	bCompressedPosition;		<span class="source_comment">// used by networking code to flag compressed position replication
</span><a name="317"></a>var					<span class="source_type">bool</span>	bAlwaysZeroBoneOffset;		<span class="source_comment">// if true, offset always zero when attached to skeletalmesh
</span><a name="318"></a>
<a name="319"></a><span class="source_macro">#if IG_TRIBES3 // Alex: ignored when determining whether or not a character can move between points
</span><a name="320"></a>var (Navigation) <span class="source_type">bool</span> bNavigationRelevant;
<a name="321"></a>var (Navigation) <span class="source_type">bool</span> bOverruleNavigationRelevant;
<a name="322"></a><span class="source_macro">#endif
</span><a name="323"></a>
<a name="324"></a><span class="source_comment">// Net variables.
</span><a name="325"></a>enum <span class="source_type"><a href="../engine/actor.html#ENetRole" class="source">ENetRole</a></span>
<a name="326"></a>{
<a name="327"></a>	ROLE_None,              <span class="source_comment">// No role at all.
</span><a name="328"></a>	ROLE_DumbProxy,			<span class="source_comment">// Dumb proxy of this actor.
</span><a name="329"></a>	ROLE_SimulatedProxy,	<span class="source_comment">// Locally simulated proxy of this actor.
</span><a name="330"></a>	ROLE_AutonomousProxy,	<span class="source_comment">// Locally autonomous proxy of this actor.
</span><a name="331"></a>	ROLE_Authority,			<span class="source_comment">// Authoritative control over the actor.
</span><a name="332"></a>};
<a name="333"></a>var <span class="source_type"><a href="../engine/actor.html#ENetRole" class="source">ENetRole</a></span> RemoteRole, Role;
<a name="334"></a>var const transient <span class="source_type">int</span>		NetTag;
<a name="335"></a>var const <span class="source_type">float</span> NetUpdateTime;	<span class="source_comment">// time of last update
</span><a name="336"></a>var <span class="source_type">float</span> NetUpdateFrequency; <span class="source_comment">// How many seconds between net updates.
</span><a name="337"></a>var <span class="source_type">float</span> NetPriority; <span class="source_comment">// Higher priorities means update it more frequently.
</span><a name="338"></a>var <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>                  Instigator;    <span class="source_comment">// Pawn responsible for damage caused by this actor.
</span><a name="339"></a><span class="source_macro">#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications
</span><a name="340"></a>var(<span class="source_type">Sound</span>) <span class="source_type">sound</span>          <span class="source_type"><a href="../engine/ambientsound.html" class="source">AmbientSound</a></span>;  <span class="source_comment">// Ambient sound effect.
</span><a name="341"></a><span class="source_macro">#endif
</span><a name="342"></a>var const <span class="source_type">name</span>			AttachmentBone;		<span class="source_comment">// name of bone to which actor is attached (if attached to center of base, =='')
</span><a name="343"></a>
<a name="344"></a>var       const <span class="source_type"><a href="../engine/levelinfo.html" class="source">LevelInfo</a></span> <span class="source_type">Level</span>;         <span class="source_comment">// Level this actor is on.
</span><a name="345"></a>var transient const <span class="source_type">Level</span>	XLevel;			<span class="source_comment">// Level object.
</span><a name="346"></a>var(Advanced)	<span class="source_type">float</span>		LifeSpan;		<span class="source_comment">// How old the object lives before dying, 0=forever.
</span><a name="347"></a>
<a name="348"></a><span class="source_macro">#if IG_TRIBES3_MOVEMENT
</span><a name="349"></a>var <span class="source_type">name</span> MovementObjectClass;
<a name="350"></a>var const <span class="source_type"><a href="../engine/movementobject.html" class="source">MovementObject</a></span> <span class="source_type"><a href="../engine/movementobject.html" class="source">movementObject</a></span>;
<a name="351"></a><span class="source_macro">#endif
</span><a name="352"></a>
<a name="353"></a><span class="source_macro">#if IG_TRIBES3_STATICMESH_SOCKETS	// glenn: support for staticmesh sockets
</span><a name="354"></a>enum <span class="source_type"><a href="../engine/actor.html#SocketCoordinates" class="source">SocketCoordinates</a></span>
<a name="355"></a>{
<a name="356"></a>	SOCKET_World,       <span class="source_comment">// socket in world coordinates (default)
</span><a name="357"></a>	SOCKET_Local,       <span class="source_comment">// socket in local object coordinates
</span><a name="358"></a>};
<a name="359"></a><span class="source_macro">#endif
</span><a name="360"></a>
<a name="361"></a><span class="source_macro">#if IG_ACTOR_GROUPING // ryan: Actor grouping
</span><a name="362"></a>var const array&lt;<span class="source_type"><a href="../core/object.html" class="source">Object</a></span>&gt; OwnerGroups;
<a name="363"></a><span class="source_macro">#endif
</span><a name="364"></a>
<a name="365"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="366"></a><span class="source_comment">// Structures.
</span><a name="367"></a>
<a name="368"></a><span class="source_comment">// Identifies a unique convex volume in the world.
</span><a name="369"></a>struct <span class="source_type"><a href="../engine/actor.html#PointRegion" class="source">PointRegion</a></span>
<a name="370"></a>{
<a name="371"></a>	var <span class="source_type"><a href="../engine/zoneinfo.html" class="source">zoneinfo</a></span> Zone;       <span class="source_comment">// Zone.
</span><a name="372"></a>	var <span class="source_type">int</span>      iLeaf;      <span class="source_comment">// Bsp leaf.
</span><a name="373"></a>	var <span class="source_type">byte</span>     ZoneNumber; <span class="source_comment">// Zone number.
</span><a name="374"></a>};
<a name="375"></a>
<a name="376"></a><span class="source_comment">// Havok rigid body state
</span><a name="377"></a>struct <span class="source_type"><a href="../engine/actor.html#HavokRigidBodyState" class="source">HavokRigidBodyState</a></span>
<a name="378"></a>{
<a name="379"></a>	var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>  <span class="source_type">Position</span>;
<a name="380"></a>	var <span class="source_type"><a href="../core/object.html#Quat" class="source">quat</a></span>	Quaternion;
<a name="381"></a>	var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>	LinVel;
<a name="382"></a>	var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>	AngVel;
<a name="383"></a>};
<a name="384"></a>
<a name="385"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="386"></a><span class="source_comment">// Major actor properties.
</span><a name="387"></a>
<a name="388"></a><span class="source_comment">// Scriptable.
</span><a name="389"></a>
<a name="390"></a><span class="source_macro">#if IG_TRIBES3 // karl: Bool bTicked changed to int called LastTick
</span><a name="391"></a>var transient const <span class="source_type">int</span>		LastTick;			<span class="source_comment">// Tick where Actor was updated.
</span><a name="392"></a><span class="source_macro">#endif
</span><a name="393"></a>
<a name="394"></a><span class="source_macro">#if IG_TRIBES3	// michaelj:  Added variables that allow filtering on level load
</span><a name="395"></a>var(Filter) <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/gameinfo.html" class="source">GameInfo</a></span>&gt;						exclusiveToGameInfo		<span class="source_string">"This Actor will only appear in the specified game type."</span>;
<a name="396"></a>var(Filter) array&lt; <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/gameinfo.html" class="source">GameInfo</a></span>&gt; &gt;			gameInfoExclusions		<span class="source_string">"This Actor won't appear in any of the specified game types."</span>;
<a name="397"></a>var(Filter) array&lt; <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/gameinfo.html" class="source">GameInfo</a></span>&gt; &gt;			gameInfoInclusions		<span class="source_string">"This Actor will appear in the specified game types even if the game types exist in an exclusion filter."</span>;
<a name="398"></a>var(Filter) <span class="source_type">int</span>									maxDifficulty;
<a name="399"></a>var(Filter) <span class="source_type">int</span>									minDifficulty;
<a name="400"></a>var(Filter) <span class="source_type">int</span>									maxNumPlayers;
<a name="401"></a>var(Filter) <span class="source_type">int</span>									minNumPlayers;
<a name="402"></a><span class="source_macro">#endif
</span><a name="403"></a>
<a name="404"></a>var const <span class="source_type"><a href="../engine/actor.html#PointRegion" class="source">PointRegion</a></span>     <span class="source_type"><a href="../uwindow/uwindowbase.html#Region" class="source">Region</a></span>;        <span class="source_comment">// Region this actor is in.
</span><a name="405"></a>var				<span class="source_type">float</span>       TimerRate;		<span class="source_comment">// Timer event, 0=no timer.
</span><a name="406"></a>var(Display) const <span class="source_type">mesh</span>		<span class="source_type">Mesh</span>;			<span class="source_comment">// Mesh if DrawType=DT_Mesh.
</span><a name="407"></a>var transient <span class="source_type">float</span>		LastRenderTime;	<span class="source_comment">// last time this actor was rendered.
</span><a name="408"></a>var(Events) <span class="source_type">name</span>			Tag;			<span class="source_comment">// Actor's tag name.
</span><a name="409"></a>var transient array&lt;<span class="source_type">int</span>&gt;  Leaves;		 <span class="source_comment">// BSP leaves this actor is in.
</span><a name="410"></a>var(Events) <span class="source_type">name</span>          Event;         <span class="source_comment">// The event this actor causes.
</span><a name="411"></a><span class="source_comment">//var Inventory             Inventory;     // Inventory chain.
</span><a name="412"></a>var		const	<span class="source_type">float</span>       TimerCounter;	<span class="source_comment">// Counts up until it reaches TimerRate.
</span><a name="413"></a>var transient <span class="source_type">MeshInstance</span> <span class="source_type">MeshInstance</span>;	<span class="source_comment">// Mesh instance.
</span><a name="414"></a>var(Display) <span class="source_type">float</span>		  LODBias;
<a name="415"></a>var(<span class="source_type"><a href="../core/object.html" class="source">Object</a></span>) <span class="source_type">name</span> InitialState;
<a name="416"></a>var(<span class="source_type"><a href="../core/object.html" class="source">Object</a></span>) <span class="source_type">name</span> <span class="source_type">Group</span>;
<a name="417"></a>
<a name="418"></a><span class="source_comment">// Internal.
</span><a name="419"></a>var const array&lt;<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>&gt;    Touching;		 <span class="source_comment">// List of touching actors.
</span><a name="420"></a>var const transient array&lt;<span class="source_type">int</span>&gt;  OctreeNodes;<span class="source_comment">// Array of nodes of the octree Actor is currently in. Internal use only.
</span><a name="421"></a>var const transient <span class="source_type"><a href="../core/object.html#Box" class="source">Box</a></span>	  OctreeBox;     <span class="source_comment">// Actor bounding box cached when added to Octree. Internal use only.
</span><a name="422"></a>var const transient <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> OctreeBoxCenter;
<a name="423"></a>var const transient <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> OctreeBoxRadii;
<a name="424"></a>var const <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>           Deleted;       <span class="source_comment">// Next actor in just-deleted chain.
</span><a name="425"></a>var const <span class="source_type">float</span>           LatentFloat;   <span class="source_comment">// Internal latent function use.
</span><a name="426"></a><span class="source_macro">#if IG_SHARED   //tcohen: make FinishAnim() more reliable
</span><a name="427"></a>var const array&lt;<span class="source_type">byte</span>&gt;	  LatentAnimChannelCount;	 <span class="source_comment">//when FinishAnim() is called, this is set to the value of AnimationCount on the animation channel that we're blocked on.  Its used to detect if another animation starts playing before we execPollFinishAnim().
</span><a name="428"></a><span class="source_macro">#endif
</span><a name="429"></a>
<a name="430"></a><span class="source_comment">// Internal tags.
</span><a name="431"></a>var const native <span class="source_type">int</span> CollisionTag;
<a name="432"></a>var const transient <span class="source_type">int</span> JoinedTag;
<a name="433"></a>
<a name="434"></a><span class="source_comment">// The actor's position and rotation.
</span><a name="435"></a>var const	<span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span>	<span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span>;	<span class="source_comment">// physics volume this actor is currently in
</span><a name="436"></a>var(Placement) const <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>	Location;		<span class="source_comment">// Actor's location; use Move to set.
</span><a name="437"></a>var(Placement) const <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> Rotation;		<span class="source_comment">// Rotation.
</span><a name="438"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>) <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>		Velocity;		<span class="source_comment">// Velocity.
</span><a name="439"></a>var			  <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>        Acceleration;	<span class="source_comment">// Acceleration.
</span><a name="440"></a>
<a name="441"></a>var const <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> CachedLocation;
<a name="442"></a>var const <span class="source_type"><a href="../core/object.html#Rotator" class="source">Rotator</a></span> CachedRotation;
<a name="443"></a>var <span class="source_type"><a href="../core/object.html#Matrix" class="source">Matrix</a></span> CachedLocalToWorld;
<a name="444"></a>
<a name="445"></a><span class="source_comment">// Attachment related variables
</span><a name="446"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>)	<span class="source_type">name</span>	AttachTag;
<a name="447"></a>var const array&lt;<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>&gt;  Attached;			<span class="source_comment">// array of actors attached to this actor.
</span><a name="448"></a>var const <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>		RelativeLocation;	<span class="source_comment">// location relative to base/bone (valid if base exists)
</span><a name="449"></a>var const <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span>		RelativeRotation;	<span class="source_comment">// rotation relative to base/bone (valid if base exists)
</span><a name="450"></a>
<a name="451"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>) <span class="source_type">bool</span> bHardAttach;             <span class="source_comment">// Uses 'hard' attachment code. bBlockActor and bBlockPlayer must also be false.
</span><a name="452"></a>											<span class="source_comment">// This actor cannot then move relative to base (setlocation etc.).
</span><a name="453"></a>											<span class="source_comment">// Dont set while currently based on something!
</span><a name="454"></a>											<span class="source_comment">// 
</span><a name="455"></a>var const     <span class="source_type"><a href="../core/object.html#Matrix" class="source">Matrix</a></span>    HardRelMatrix;		<span class="source_comment">// Transform of actor in base's ref frame. Doesn't change after SetBase.
</span><a name="456"></a>
<a name="457"></a><span class="source_comment">// Projectors
</span><a name="458"></a>struct <span class="source_type"><a href="../engine/actor.html#ProjectorRenderInfoPtr" class="source">ProjectorRenderInfoPtr</a></span> { var <span class="source_type">int</span> Ptr; };	<span class="source_comment">// Hack to to fool C++ header generation...
</span><a name="459"></a>struct <span class="source_type"><a href="../engine/actor.html#StaticMeshProjectorRenderInfoPtr" class="source">StaticMeshProjectorRenderInfoPtr</a></span> { var <span class="source_type">int</span> Ptr; };
<a name="460"></a>var const native array&lt;<span class="source_type"><a href="../engine/actor.html#ProjectorRenderInfoPtr" class="source">ProjectorRenderInfoPtr</a></span>&gt; Projectors;<span class="source_comment">// Projected textures on this actor
</span><a name="461"></a>var const native array&lt;<span class="source_type"><a href="../engine/actor.html#StaticMeshProjectorRenderInfoPtr" class="source">StaticMeshProjectorRenderInfoPtr</a></span>&gt;	StaticMeshProjectors;
<a name="462"></a>
<a name="463"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="464"></a><span class="source_comment">// Display properties.
</span><a name="465"></a>
<a name="466"></a>var(Display) <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>		<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span>;			<span class="source_comment">// Sprite texture.if DrawType=DT_Sprite
</span><a name="467"></a>var <span class="source_type">StaticMeshInstance</span>		<span class="source_type">StaticMeshInstance</span>; <span class="source_comment">// Contains per-instance static mesh data, like static lighting data.
</span><a name="468"></a>var(Display) const editconst deepcopy <span class="source_type">model</span>	<span class="source_type"><a href="../engine/brush.html" class="source">Brush</a></span>;				<span class="source_comment">// Brush if DrawType=DT_Brush.
</span><a name="469"></a>var(Placement) const <span class="source_type">float</span>	DrawScale;			<span class="source_comment">// Scaling factor, 1.0=normal size.
</span><a name="470"></a>var(Placement) const <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>	DrawScale3D;		<span class="source_comment">// Scaling vector, (1.0,1.0,1.0)=normal size.
</span><a name="471"></a>var(Display) <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>			PrePivot;			<span class="source_comment">// Offset from box center for drawing.
</span><a name="472"></a>var(Display) array&lt;<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>&gt; Skins;				<span class="source_comment">// Multiple skin support - not replicated.
</span><a name="473"></a>var			<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>		RepSkin;			<span class="source_comment">// replicated skin (sets Skins[0] if not none)
</span><a name="474"></a>var(Display) <span class="source_type">byte</span>			AmbientGlow;		<span class="source_comment">// Ambient brightness, or 255=pulsing.
</span><a name="475"></a>var(Display) <span class="source_type">byte</span>           MaxLights;          <span class="source_comment">// Limit to hardware lights active on this primitive.
</span><a name="476"></a>var(Display) <span class="source_type">ConvexVolume</span>	AntiPortal;			<span class="source_comment">// Convex volume used for DT_AntiPortal
</span><a name="477"></a>var(Display) <span class="source_type">float</span>          CullDistance;       <span class="source_comment">// 0 == no distance cull, &lt; 0 only drawn at distance &gt; 0 cull at distance
</span><a name="478"></a>var(Display) <span class="source_type">float</span>			ScaleGlow;			
<a name="479"></a>
<a name="480"></a><span class="source_comment">// Style for rendering sprites, meshes.
</span><a name="481"></a>var(Display) enum <span class="source_type"><a href="../engine/actor.html#ERenderStyle" class="source">ERenderStyle</a></span>
<a name="482"></a>{
<a name="483"></a>	STY_None,
<a name="484"></a>	STY_Normal,
<a name="485"></a>	STY_Masked,
<a name="486"></a>	STY_Translucent,
<a name="487"></a>	STY_Modulated,
<a name="488"></a>	STY_Alpha,
<a name="489"></a>	STY_Additive,
<a name="490"></a>	STY_Subtractive,
<a name="491"></a>	STY_Particle,
<a name="492"></a>	STY_AlphaZ,
<a name="493"></a>} Style;
<a name="494"></a>
<a name="495"></a><span class="source_comment">// Display.
</span><a name="496"></a>var(Display)  <span class="source_type">bool</span>      bUnlit;					<span class="source_comment">// Lights don't affect actor.
</span><a name="497"></a>var(Display)  <span class="source_type">bool</span>      bShadowCast;			<span class="source_comment">// Casts static shadows.
</span><a name="498"></a>var(Display)  <span class="source_type">bool</span>		bStaticLighting;		<span class="source_comment">// Uses raytraced lighting.
</span><a name="499"></a>var(Display)  <span class="source_type">bool</span>		bUseLightingFromBase;	<span class="source_comment">// Use Unlit/AmbientGlow from Base
</span><a name="500"></a>
<a name="501"></a><span class="source_comment">// Advanced.
</span><a name="502"></a>var			  <span class="source_type">bool</span>		bHurtEntry;				<span class="source_comment">// keep HurtRadius from being reentrant
</span><a name="503"></a>var(Advanced) <span class="source_type">bool</span>		bGameRelevant;			<span class="source_comment">// Always relevant for game
</span><a name="504"></a>var(Advanced) <span class="source_type">bool</span>		bCollideWhenPlacing;	<span class="source_comment">// This actor collides with the world when placing.
</span><a name="505"></a>var			  <span class="source_type">bool</span>		bTravel;				<span class="source_comment">// Actor is capable of travelling among servers.
</span><a name="506"></a>var(Advanced) <span class="source_type">bool</span>		bMovable;				<span class="source_comment">// Actor can be moved.
</span><a name="507"></a>var			  <span class="source_type">bool</span>		bDestroyInPainVolume;	<span class="source_comment">// destroy this actor if it enters a pain volume
</span><a name="508"></a>var(Advanced) <span class="source_type">bool</span>		bCanBeDamaged;			<span class="source_comment">// can take damage
</span><a name="509"></a>var(Advanced) <span class="source_type">bool</span>		bShouldBaseAtStartup;	<span class="source_comment">// if true, find base for this actor at level startup, if collides with world and PHYS_None or PHYS_Rotating
</span><a name="510"></a>var			  <span class="source_type">bool</span>		bPendingDelete;			<span class="source_comment">// set when actor is about to be deleted (since endstate and other functions called 
</span><a name="511"></a>												<span class="source_comment">// during deletion process before bDeleteMe is set).
</span><a name="512"></a>var					<span class="source_type">bool</span>	bAnimByOwner;		<span class="source_comment">// Animation dictated by owner.
</span><a name="513"></a>var(Display) 		<span class="source_type">bool</span>	bOwnerNoSee;		<span class="source_comment">// Everything but the owner can see this actor.
</span><a name="514"></a>var(Advanced)		<span class="source_type">bool</span>	bCanTeleport;		<span class="source_comment">// This actor can be teleported.
</span><a name="515"></a>var					<span class="source_type">bool</span>	bClientAnim;		<span class="source_comment">// Don't replicate any animations - animation done client-side
</span><a name="516"></a>var					<span class="source_type">bool</span>    bDisturbFluidSurface; <span class="source_comment">// Cause ripples when in contact with FluidSurface.
</span><a name="517"></a>var			  const	<span class="source_type">bool</span>	bAlwaysTick;		<span class="source_comment">// Update even when players-only.
</span><a name="518"></a>
<a name="519"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="520"></a><span class="source_comment">// Sound.
</span><a name="521"></a>
<a name="522"></a><span class="source_macro">#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications
</span><a name="523"></a><span class="source_comment">// Ambient sound.
</span><a name="524"></a>var(<span class="source_type">Sound</span>) <span class="source_type">float</span>        SoundRadius;			<span class="source_comment">// Radius of ambient sound.
</span><a name="525"></a>var(<span class="source_type">Sound</span>) <span class="source_type">byte</span>         SoundVolume;			<span class="source_comment">// Volume of ambient sound.
</span><a name="526"></a>var(<span class="source_type">Sound</span>) <span class="source_type">byte</span>         SoundPitch;				<span class="source_comment">// Sound pitch shift, 64.0=none.
</span><a name="527"></a><span class="source_macro">#endif
</span><a name="528"></a>
<a name="529"></a><span class="source_macro">#if (IG_SHARED && !IG_EFFECTS) // david: Added this variable so we can turn off the default light brightness-&gt;sound volume behaviour
</span><a name="530"></a>var(<span class="source_type">Sound</span>) <span class="source_type">bool</span>         bScaleVolumeByLightBrightness;
<a name="531"></a><span class="source_macro">#endif
</span><a name="532"></a>
<a name="533"></a><span class="source_comment">// Sound occlusion
</span><a name="534"></a>enum <span class="source_type"><a href="../engine/actor.html#ESoundOcclusion" class="source">ESoundOcclusion</a></span>
<a name="535"></a>{
<a name="536"></a>	OCCLUSION_Default,
<a name="537"></a>	OCCLUSION_None,
<a name="538"></a>	OCCLUSION_BSP,
<a name="539"></a>	OCCLUSION_StaticMeshes,
<a name="540"></a>};
<a name="541"></a>
<a name="542"></a>var(<span class="source_type">Sound</span>) <span class="source_type"><a href="../engine/actor.html#ESoundOcclusion" class="source">ESoundOcclusion</a></span> SoundOcclusion;		<span class="source_comment">// Sound occlusion approach.
</span><a name="543"></a>
<a name="544"></a><span class="source_macro">#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications
</span><a name="545"></a>var(<span class="source_type">Sound</span>) <span class="source_type">bool</span>				bFullVolume;		<span class="source_comment">// Whether to apply ambient attenuation.
</span><a name="546"></a><span class="source_macro">#endif
</span><a name="547"></a>
<a name="548"></a><span class="source_comment">// Carlos:  The effects system handles this in a completely different fashion.  This was used previously to have sounds
</span><a name="549"></a><span class="source_comment">// cut off other sounds playing in the same slot.  This has been superceded by the Monophonic system in the ig effects system. 
</span><a name="550"></a><span class="source_macro">#if !IG_EFFECTS     
</span><a name="551"></a><span class="source_comment">// Sound slots for actors.
</span><a name="552"></a>enum ESoundSlot
<a name="553"></a>{
<a name="554"></a>	SLOT_None,
<a name="555"></a>	SLOT_Misc,
<a name="556"></a>	SLOT_Pain,
<a name="557"></a>	SLOT_Interact,
<a name="558"></a>	SLOT_Ambient,
<a name="559"></a>	SLOT_Talk,
<a name="560"></a>	SLOT_Interface,
<a name="561"></a>};
<a name="562"></a><span class="source_macro">#endif // IG_EFFECTS
</span><a name="563"></a>
<a name="564"></a><span class="source_comment">// Music transitions.
</span><a name="565"></a>enum <span class="source_type"><a href="../engine/actor.html#EMusicTransition" class="source">EMusicTransition</a></span>
<a name="566"></a>{
<a name="567"></a>	MTRAN_None,
<a name="568"></a>	MTRAN_Instant,
<a name="569"></a>	MTRAN_Segue,
<a name="570"></a>	MTRAN_Fade,
<a name="571"></a>	MTRAN_FastFade,
<a name="572"></a>	MTRAN_SlowFade,
<a name="573"></a>};
<a name="574"></a>
<a name="575"></a>
<a name="576"></a><span class="source_macro">#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications
</span><a name="577"></a><span class="source_comment">// Regular sounds.
</span><a name="578"></a>var(<span class="source_type">Sound</span>) <span class="source_type">float</span> TransientSoundVolume;	<span class="source_comment">// default sound volume for regular sounds (can be overridden in playsound)
</span><a name="579"></a>var(<span class="source_type">Sound</span>) <span class="source_type">float</span> TransientSoundRadius;	<span class="source_comment">// default sound radius for regular sounds (can be overridden in playsound)
</span><a name="580"></a><span class="source_macro">#endif
</span><a name="581"></a>
<a name="582"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="583"></a><span class="source_comment">// Collision.
</span><a name="584"></a>
<a name="585"></a><span class="source_comment">// Collision size.
</span><a name="586"></a>var(Collision) const <span class="source_type">float</span> CollisionRadius;		<span class="source_comment">// Radius of collision cyllinder.
</span><a name="587"></a>var(Collision) const <span class="source_type">float</span> CollisionHeight;		<span class="source_comment">// Half-height cyllinder.
</span><a name="588"></a>
<a name="589"></a><span class="source_comment">// Collision flags.
</span><a name="590"></a>var(Collision) const <span class="source_type">bool</span> bCollideActors;		<span class="source_comment">// Collides with other actors.
</span><a name="591"></a>var(Collision) <span class="source_type">bool</span>       bCollideWorld;		<span class="source_comment">// Collides with the world.
</span><a name="592"></a>var(Collision) <span class="source_type">bool</span>       bBlockActors;			<span class="source_comment">// Blocks other nonplayer actors.
</span><a name="593"></a>var(Collision) <span class="source_type">bool</span>       bBlockPlayers;		<span class="source_comment">// Blocks other player actors.
</span><a name="594"></a>var(Collision) <span class="source_type">bool</span>       bProjTarget;			<span class="source_comment">// Projectiles should potentially target this actor.
</span><a name="595"></a><span class="source_macro">#if IG_TRIBES3 // Ryan: PHYS_Projectile was not enough to identify all our projectiles
</span><a name="596"></a>var(Collision) <span class="source_type">bool</span>       bProjectile;			<span class="source_comment">// This actor is a projectile
</span><a name="597"></a>var(Collision) <span class="source_type">bool</span>		  bSkipEncroachment;	<span class="source_comment">// This actor does not encroach
</span><a name="598"></a><span class="source_macro">#endif // IG
</span><a name="599"></a>var(Collision) <span class="source_type">bool</span>		  bBlockZeroExtentTraces; <span class="source_comment">// block zero extent actors/traces
</span><a name="600"></a>var(Collision) <span class="source_type">bool</span>		  bBlockNonZeroExtentTraces;	<span class="source_comment">// block non-zero extent actors/traces
</span><a name="601"></a>var(Collision) <span class="source_type">bool</span>       bAutoAlignToTerrain;  <span class="source_comment">// Auto-align to terrain in the editor
</span><a name="602"></a>var(Collision) <span class="source_type">bool</span>		  bUseCylinderCollision;<span class="source_comment">// Force axis aligned cylinder collision (useful for static mesh pickups, etc.)
</span><a name="603"></a>var(Collision) const <span class="source_type">bool</span> bBlockKarma;			<span class="source_comment">// Block actors being simulated with Karma.
</span><a name="604"></a>var(Collision) const <span class="source_type">bool</span> bBlockHavok;			<span class="source_comment">// Block actors being simulated with Havok.
</span><a name="605"></a>
<a name="606"></a><span class="source_macro">#if IG_TRIBES3 // Alex: use Havok tunneling prevention code
</span><a name="607"></a>var(Havok) <span class="source_type">bool</span> bEnableHavokBackstep;
<a name="608"></a><span class="source_macro">#endif
</span><a name="609"></a>
<a name="610"></a><span class="source_macro">#if IG_TRIBES3 // Alex: performing client side Havok physics - server side physics shall effectively ignore this actor
</span><a name="611"></a>var(Havok) <span class="source_type">bool</span> bClientHavokPhysics;
<a name="612"></a><span class="source_macro">#endif
</span><a name="613"></a>
<a name="614"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="615"></a>var(Collision) const <span class="source_type">bool</span> bDisableHavokCollisionWhenAttached; <span class="source_comment">// disable Havok collision when hard attached to an object
</span><a name="616"></a><span class="source_macro">#endif
</span><a name="617"></a>
<a name="618"></a>var       			<span class="source_type">bool</span>    bNetNotify;         <span class="source_comment">// actor wishes to be notified of replication events
</span><a name="619"></a>
<a name="620"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="621"></a><span class="source_comment">// Physics.
</span><a name="622"></a>
<a name="623"></a><span class="source_comment">// Options.
</span><a name="624"></a>var			  <span class="source_type">bool</span>		  bIgnoreOutOfWorld; <span class="source_comment">// Don't destroy if enters zone zero
</span><a name="625"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>) <span class="source_type">bool</span>        bBounce;           <span class="source_comment">// Bounces when hits ground fast.
</span><a name="626"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>) <span class="source_type">bool</span>		  bFixedRotationDir; <span class="source_comment">// Fixed direction of rotation.
</span><a name="627"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>) <span class="source_type">bool</span>		  bRotateToDesired;  <span class="source_comment">// Rotate to DesiredRotation.
</span><a name="628"></a>var           <span class="source_type">bool</span>        bInterpolating;    <span class="source_comment">// Performing interpolating.
</span><a name="629"></a>var			  const <span class="source_type">bool</span>  bJustTeleported;   <span class="source_comment">// Used by engine physics - not valid for scripts.
</span><a name="630"></a>
<a name="631"></a><span class="source_comment">// Physics properties.
</span><a name="632"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>) <span class="source_type">float</span>       Mass;				<span class="source_comment">// Mass of this actor.
</span><a name="633"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>) <span class="source_type">float</span>       Buoyancy;			<span class="source_comment">// Water buoyancy.
</span><a name="634"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>) <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span>	  RotationRate;		<span class="source_comment">// Change in rotation per second.
</span><a name="635"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>) <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span>     DesiredRotation;	<span class="source_comment">// Physics will smoothly rotate actor to this rotation if bRotateToDesired.
</span><a name="636"></a>var			  <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>		  PendingTouch;		<span class="source_comment">// Actor touched during move which wants to add an effect after the movement completes 
</span><a name="637"></a>var       const <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>    ColLocation;		<span class="source_comment">// Actor's old location one move ago. Only for debugging
</span><a name="638"></a>var(<span class="source_type"><a href="../tribestvclient/tribestvreplication.html#Movement" class="source">Movement</a></span>) <span class="source_type">float</span>		  GravityScale;		<span class="source_comment">// Multiplier for the effect of gravity on this actor
</span><a name="639"></a>
<a name="640"></a>const MAXSTEPHEIGHT = <span class="source_int">35.0</span>; <span class="source_comment">// Maximum step height walkable by pawns
</span><a name="641"></a>const MINFLOORZ = <span class="source_int">0.7</span>; <span class="source_comment">// minimum z value for floor normal (if less, not a walkable floor)
</span><a name="642"></a>					   <span class="source_comment">// 0.7 ~= 45 degree angle for floor
</span><a name="643"></a>					   
<a name="644"></a><span class="source_comment">// ifdef WITH_KARMA
</span><a name="645"></a>
<a name="646"></a><span class="source_comment">// Used to avoid compression
</span><a name="647"></a>struct <span class="source_type"><a href="../engine/actor.html#KRBVec" class="source">KRBVec</a></span>
<a name="648"></a>{
<a name="649"></a>	var <span class="source_type">float</span>	X, <span class="source_type">Y</span>, Z;
<a name="650"></a>};
<a name="651"></a>
<a name="652"></a>struct <span class="source_type"><a href="../engine/actor.html#KRigidBodyState" class="source">KRigidBodyState</a></span>
<a name="653"></a>{
<a name="654"></a>	var <span class="source_type"><a href="../engine/actor.html#KRBVec" class="source">KRBVec</a></span>	<span class="source_type">Position</span>;
<a name="655"></a>	var <span class="source_type"><a href="../core/object.html#Quat" class="source">Quat</a></span>	Quaternion;
<a name="656"></a>	var <span class="source_type"><a href="../engine/actor.html#KRBVec" class="source">KRBVec</a></span>	LinVel;
<a name="657"></a>	var <span class="source_type"><a href="../engine/actor.html#KRBVec" class="source">KRBVec</a></span>	AngVel;
<a name="658"></a>};
<a name="659"></a>					   
<a name="660"></a><span class="source_comment">//var(Karma) deepcopy editinline KarmaParamsCollision KParams; // Parameters for Karma Collision/Dynamics.
</span><a name="661"></a><span class="source_comment">//var const native int KStepTag;
</span><a name="662"></a>
<a name="663"></a><span class="source_macro">#if IG_TRIBES3 // Alex: do not expose to UnrealEd
</span><a name="664"></a>var export editinline <span class="source_type"><a href="../engine/havokobject.html" class="source">HavokObject</a></span> HavokData; <span class="source_comment">// Havok Dynamics info
</span><a name="665"></a><span class="source_macro">#else
</span><a name="666"></a>var(Havok) export editinline <span class="source_type"><a href="../engine/havokobject.html" class="source">HavokObject</a></span> HavokData; <span class="source_comment">// Havok Dynamics info
</span><a name="667"></a><span class="source_macro">#endif
</span><a name="668"></a>
<a name="669"></a><span class="source_macro">#if IG_TRIBES3 // Alex: If not None an instance constructed and assigned to HavokData in HavokInitActor.
</span><a name="670"></a>var(Havok) <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/havokobject.html" class="source">HavokObject</a></span>&gt; havokDataClass;
<a name="671"></a><span class="source_macro">#endif
</span><a name="672"></a>
<a name="673"></a><span class="source_macro">#if IG_TRIBES3 // Alex: in Havok units
</span><a name="674"></a>var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> havokAngularVelocity;
<a name="675"></a><span class="source_macro">#endif
</span><a name="676"></a>
<a name="677"></a><span class="source_macro">#if IG_SHARED // Alex:
</span><a name="678"></a>var private <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> havokGameTickForce;
<a name="679"></a>var private <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> havokGameTickForcePosition;
<a name="680"></a><span class="source_macro">#endif
</span><a name="681"></a>
<a name="682"></a><span class="source_macro">#if IG_TRIBES3  // glenn: fastest rotating body speed in skeletal body (used for working out how fast a ragdoll is spinning)
</span><a name="683"></a>var const <span class="source_type">float</span> havokSkeletalRotationSpeed;
<a name="684"></a><span class="source_macro">#endif
</span><a name="685"></a>
<a name="686"></a><span class="source_comment">// endif
</span><a name="687"></a>
<a name="688"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="689"></a><span class="source_comment">// Animation replication (can be used to replicate channel 0 anims for dumb proxies)
</span><a name="690"></a>struct <span class="source_type"><a href="../engine/actor.html#AnimRep" class="source">AnimRep</a></span>
<a name="691"></a>{
<a name="692"></a>	var <span class="source_type">name</span> AnimSequence; 
<a name="693"></a>	var <span class="source_type">bool</span> bAnimLoop;	
<a name="694"></a>	var <span class="source_type">byte</span> AnimRate;		<span class="source_comment">// note that with compression, max replicated animrate is 4.0
</span><a name="695"></a>	var <span class="source_type">byte</span> AnimFrame;
<a name="696"></a>	var <span class="source_type">byte</span> TweenRate;		<span class="source_comment">// note that with compression, max replicated tweentime is 4 seconds
</span><a name="697"></a>};
<a name="698"></a>var transient <span class="source_type"><a href="../engine/actor.html#AnimRep" class="source">AnimRep</a></span>		  SimAnim;		   <span class="source_comment">// only replicated if bReplicateAnimations is true
</span><a name="699"></a>
<a name="700"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="701"></a><span class="source_comment">// Forces.
</span><a name="702"></a>
<a name="703"></a>enum <span class="source_type"><a href="../engine/actor.html#EForceType" class="source">EForceType</a></span>
<a name="704"></a>{
<a name="705"></a>	FT_None,
<a name="706"></a>	FT_DragAlong,
<a name="707"></a>};
<a name="708"></a>
<a name="709"></a>var (Force) <span class="source_type"><a href="../engine/actor.html#EForceType" class="source">EForceType</a></span>	ForceType;
<a name="710"></a>var (Force)	<span class="source_type">float</span>		ForceRadius;
<a name="711"></a>var (Force) <span class="source_type">float</span>		ForceScale;
<a name="712"></a>
<a name="713"></a>
<a name="714"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="715"></a><span class="source_comment">// Networking.
</span><a name="716"></a>
<a name="717"></a><span class="source_comment">// Symmetric network flags, valid during replication only.
</span><a name="718"></a>var const <span class="source_type">bool</span> bNetInitial;       <span class="source_comment">// Initial network update.
</span><a name="719"></a>var const <span class="source_type">bool</span> bNetOwner;         <span class="source_comment">// Player owns this actor.
</span><a name="720"></a>var const <span class="source_type">bool</span> bNetRelevant;      <span class="source_comment">// Actor is currently relevant. Only valid server side, only when replicating variables.
</span><a name="721"></a>var const <span class="source_type">bool</span> bDemoRecording;	  <span class="source_comment">// True we are currently demo recording
</span><a name="722"></a>var const <span class="source_type">bool</span> bClientDemoRecording;<span class="source_comment">// True we are currently recording a client-side demo
</span><a name="723"></a>var const <span class="source_type">bool</span> bRepClientDemo;		<span class="source_comment">// True if remote client is recording demo
</span><a name="724"></a>var const <span class="source_type">bool</span> bClientDemoNetFunc;<span class="source_comment">// True if we're client-side demo recording and this call originated from the remote.
</span><a name="725"></a>var const <span class="source_type">bool</span> bDemoOwner;			<span class="source_comment">// Demo recording driver owns this actor.
</span><a name="726"></a>var <span class="source_type">bool</span>	   bNoRepMesh;			<span class="source_comment">// don't replicate mesh
</span><a name="727"></a>
<a name="728"></a><span class="source_comment">//Editing flags
</span><a name="729"></a><span class="source_macro">#if IG_ACTOR_GROUPING // Ryan: Don't allow hiding and unhidding from the properties window
</span><a name="730"></a>var const <span class="source_type">bool</span>        bHiddenEd;     <span class="source_comment">// Is hidden during editing.
</span><a name="731"></a>    <span class="source_macro">#if IG_NOCOPY // ckline: Never export a non-default value of bHiddenEdGroup, else a pasted actora that was copied from an actor in a hidden group will be hidden and difficult to unhide.
</span><a name="732"></a>        <span class="source_comment">// use nocopy keyword to prevent copying of bHiddenEdGroup
</span><a name="733"></a>        var const nocopy <span class="source_type">bool</span> bHiddenEdGroup;<span class="source_comment">// Is hidden by the group brower.
</span><a name="734"></a>    <span class="source_macro">#else
</span><a name="735"></a>        <span class="source_comment">// UObject::ExportProperties will prevent copying of bHiddenEdGroup via a slower property name check
</span><a name="736"></a>var const <span class="source_type">bool</span>        bHiddenEdGroup;<span class="source_comment">// Is hidden by the group brower.
</span><a name="737"></a>    <span class="source_macro">#endif
</span><a name="738"></a><span class="source_macro">#else
</span><a name="739"></a>var(Advanced) <span class="source_type">bool</span>        bHiddenEd;     <span class="source_comment">// Is hidden during editing.
</span><a name="740"></a>var(Advanced) <span class="source_type">bool</span>        bHiddenEdGroup;<span class="source_comment">// Is hidden by the group brower.
</span><a name="741"></a><span class="source_macro">#endif // IG
</span><a name="742"></a>var(Advanced) <span class="source_type">bool</span>        bDirectional;  <span class="source_comment">// Actor shows direction arrow during editing.
</span><a name="743"></a>var const <span class="source_type">bool</span>            bSelected;     <span class="source_comment">// Selected in UnrealEd.
</span><a name="744"></a>var(Advanced) <span class="source_type">bool</span>        bEdShouldSnap; <span class="source_comment">// Snap to grid in editor.
</span><a name="745"></a>var transient <span class="source_type">bool</span>        bEdSnap;       <span class="source_comment">// Should snap to grid in UnrealEd.
</span><a name="746"></a>var transient const <span class="source_type">bool</span>  bTempEditor;   <span class="source_comment">// Internal UnrealEd.
</span><a name="747"></a>var	<span class="source_type">bool</span>				  bObsolete;	 <span class="source_comment">// actor is obsolete - warn level designers to remove it
</span><a name="748"></a>var(Collision) <span class="source_type">bool</span>		  bPathColliding;<span class="source_comment">// this actor should collide (if bWorldGeometry && bBlockActors is true) during path building (ignored if bStatic is true, as actor will always collide during path building)
</span><a name="749"></a>var transient <span class="source_type">bool</span>		  bPathTemp;	 <span class="source_comment">// Internal/path building
</span><a name="750"></a>var	<span class="source_type">bool</span>				  bScriptInitialized; <span class="source_comment">// set to prevent re-initializing of actors spawned during level startup
</span><a name="751"></a>var(Advanced) <span class="source_type">bool</span>        bLockLocation; <span class="source_comment">// Prevent the actor from being moved in the editor.
</span><a name="752"></a>
<a name="753"></a>var <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../engine/localmessage.html" class="source">LocalMessage</a></span>&gt; MessageClass;
<a name="754"></a>
<a name="755"></a><span class="source_macro">#if IG_EFFECTS // tcohen: startup time optimization: most actors don't care about Alive or Spawned events. Saves TONS of time in debug builds by avoiding no-op triggers of Spawned and Alive events.
</span><a name="756"></a><span class="source_comment">// If false (the default), then TriggerEffectEvent() calls on this Actor that occur 
</span><a name="757"></a><span class="source_comment">// before the game starts (i.e., before first Tick()) will be ignored.
</span><a name="758"></a><span class="source_comment">// If true, then effect events that happen before the game starts (such as
</span><a name="759"></a><span class="source_comment">// 'Alive' and 'Spawned' events) will be queued and triggered once the game starts
</span><a name="760"></a>var(Advanced) <span class="source_type">bool</span> bTriggerEffectEventsBeforeGameStarts;    
<a name="761"></a>var(Advanced) <span class="source_type">bool</span> bNeedLifetimeEffectEvents;
<a name="762"></a><span class="source_macro">#endif
</span><a name="763"></a>
<a name="764"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="765"></a><span class="source_comment">// Enums.
</span><a name="766"></a>
<a name="767"></a><span class="source_comment">// Travelling from server to server.
</span><a name="768"></a>enum <span class="source_type"><a href="../engine/actor.html#ETravelType" class="source">ETravelType</a></span>
<a name="769"></a>{
<a name="770"></a>	TRAVEL_Absolute,	<span class="source_comment">// Absolute URL.
</span><a name="771"></a>	TRAVEL_Partial,		<span class="source_comment">// Partial (carry name, reset server).
</span><a name="772"></a>	TRAVEL_Relative,	<span class="source_comment">// Relative URL.
</span><a name="773"></a>};
<a name="774"></a>
<a name="775"></a>
<a name="776"></a><span class="source_comment">// double click move direction.
</span><a name="777"></a>enum <span class="source_type"><a href="../engine/actor.html#EDoubleClickDir" class="source">EDoubleClickDir</a></span>
<a name="778"></a>{
<a name="779"></a>	DCLICK_None,
<a name="780"></a>	DCLICK_Left,
<a name="781"></a>	DCLICK_Right,
<a name="782"></a>	DCLICK_Forward,
<a name="783"></a>	DCLICK_Back,
<a name="784"></a>	DCLICK_Active,
<a name="785"></a>	DCLICK_Done
<a name="786"></a>};
<a name="787"></a>
<a name="788"></a><span class="source_macro">#if IG_ACTOR_LABEL // david: Labels
</span><a name="789"></a><span class="source_comment">// Script variables
</span><a name="790"></a>var() <span class="source_type">Name</span> Label				<span class="source_string">"This object's label for use within the GUI editing system, and scripting (not mandatory)"</span>;
<a name="791"></a>var <span class="source_type">bool</span> bReplicateLabel; <span class="source_comment">// label is not replicated unless this is true
</span><a name="792"></a><span class="source_macro">#endif
</span><a name="793"></a>
<a name="794"></a><span class="source_macro">#if IG_SCRIPTING // david: Script
</span><a name="795"></a><span class="source_comment">// Script variables
</span><a name="796"></a>var() const <span class="source_type">String</span> TriggeredBy		<span class="source_string">"This actor only receives messages from actors that have a matching label"</span>;
<a name="797"></a><span class="source_macro">#endif
</span><a name="798"></a>
<a name="799"></a><span class="source_macro">#if IG_SHARED // ckline: notifications upon Pawn death and Actor destruction
</span><a name="800"></a>var(Advanced) <span class="source_type">bool</span> bSendDestructionNotification <span class="source_string">"If true, all registered IInterestedActorDestroyed objects will be notified when this actor is destroyed. NOTE: this setting is ignored if bStatic=true."</span>; 
<a name="801"></a><span class="source_macro">#endif
</span><a name="802"></a>
<a name="803"></a><span class="source_macro">#if IG_UC_LATENT_STACK_CLEANUP // Ryan: Latent stack cleanup
</span><a name="804"></a>var transient noexport private const Array&lt;<span class="source_type">INT</span>&gt; LatentStackLocations;
<a name="805"></a><span class="source_macro">#endif
</span><a name="806"></a>
<a name="807"></a><span class="source_macro">#if IG_SHARED // johna: support for AddDebugMessage()
</span><a name="808"></a><span class="source_comment">// Adds a line of text to be displayed in front of the actor (if the actor is visible)
</span><a name="809"></a><span class="source_comment">// Only valid for the current update, so it must be called each update
</span><a name="810"></a>native <span class="source_type">function</span> AddDebugMessage(<span class="source_type">string</span> NewMessage, optional <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> NewMessageColor);
<a name="811"></a><span class="source_macro">#endif // IG_SHARED 
</span><a name="812"></a>
<a name="813"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="814"></a><span class="source_comment">// natives.
</span><a name="815"></a>
<a name="816"></a><span class="source_comment">// Execute a console command in the context of the current level and game engine.
</span><a name="817"></a>native <span class="source_type">function</span> <span class="source_type">string</span> ConsoleCommand( <span class="source_type">string</span> <span class="source_type">Command</span> );
<a name="818"></a>
<a name="819"></a><span class="source_comment">//-----------------------------------------------------------------------------
</span><a name="820"></a><span class="source_comment">// Network replication.
</span><a name="821"></a>
<a name="822"></a>replication
<a name="823"></a>{
<a name="824"></a>	<span class="source_comment">// Location
</span><a name="825"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && bReplicateMovement
<a name="826"></a>					&& (((RemoteRole == ROLE_AutonomousProxy) && bNetInitial)
<a name="827"></a>						|| ((RemoteRole == ROLE_SimulatedProxy) && (bNetInitial || bUpdateSimulatedPosition) && ((Base == None) || Base.bWorldGeometry))
<a name="828"></a>						|| ((RemoteRole == ROLE_DumbProxy) && ((Base == None) || Base.bWorldGeometry))) )
<a name="829"></a>		Location;
<a name="830"></a>
<a name="831"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && bReplicateMovement 
<a name="832"></a>					&& ((DrawType == DT_Mesh) || (DrawType == DT_StaticMesh))
<a name="833"></a>					&& (((RemoteRole == ROLE_AutonomousProxy) && bNetInitial)
<a name="834"></a>						|| ((RemoteRole == ROLE_SimulatedProxy) && (bNetInitial || bUpdateSimulatedPosition) && ((Base == None) || Base.bWorldGeometry))
<a name="835"></a>						|| ((RemoteRole == ROLE_DumbProxy) && ((Base == None) || Base.bWorldGeometry))) )
<a name="836"></a>		Rotation;
<a name="837"></a>
<a name="838"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && bReplicateMovement 
<a name="839"></a>					&& RemoteRole&lt;=ROLE_SimulatedProxy )
<a name="840"></a>		Base,bOnlyDrawIfAttached;
<a name="841"></a>
<a name="842"></a>	unreliable if( (!bSkipActorPropertyReplication || bNetInitial) && bReplicateMovement 
<a name="843"></a>					&& RemoteRole&lt;=ROLE_SimulatedProxy && (Base != None) && !Base.bWorldGeometry)
<a name="844"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="845"></a>		RelativeRotation, RelativeLocation;
<a name="846"></a><span class="source_macro">#else
</span><a name="847"></a>		RelativeRotation, RelativeLocation, AttachmentBone;
<a name="848"></a><span class="source_macro">#endif
</span><a name="849"></a>
<a name="850"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="851"></a>	unreliable if( (!bSkipActorPropertyReplication || bNetInitial) && bReplicateMovement 
<a name="852"></a>					&& RemoteRole&lt;=ROLE_SimulatedProxy && (Base != None) && (!Base.bWorldGeometry || Base.DrawType == DT_Mesh))
<a name="853"></a>		AttachmentBone;
<a name="854"></a><span class="source_macro">#endif
</span><a name="855"></a>
<a name="856"></a>	<span class="source_comment">// Physics
</span><a name="857"></a>	unreliable if( (!bSkipActorPropertyReplication || bNetInitial) && bReplicateMovement 
<a name="858"></a>					&& (((RemoteRole == ROLE_SimulatedProxy) && (bNetInitial || bUpdateSimulatedPosition))
<a name="859"></a>						|| ((RemoteRole == ROLE_DumbProxy) && (Physics == PHYS_Falling || Physics==PHYS_Movement)))  )
<a name="860"></a>		Velocity;
<a name="861"></a>
<a name="862"></a>	unreliable if( (!bSkipActorPropertyReplication || bNetInitial) && bReplicateMovement 
<a name="863"></a>					&& (((RemoteRole == ROLE_SimulatedProxy) && bNetInitial)
<a name="864"></a>						|| (RemoteRole == ROLE_DumbProxy)) )
<a name="865"></a>		Physics;
<a name="866"></a>
<a name="867"></a>	unreliable if( (!bSkipActorPropertyReplication || bNetInitial) && bReplicateMovement 
<a name="868"></a>					&& (RemoteRole &lt;= ROLE_SimulatedProxy) && (Physics == PHYS_Rotating) )
<a name="869"></a>		bFixedRotationDir, bRotateToDesired, RotationRate, DesiredRotation;
<a name="870"></a>
<a name="871"></a><span class="source_macro">#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications
</span><a name="872"></a>	<span class="source_comment">// Ambient sound.
</span><a name="873"></a>	unreliable if( (!bSkipActorPropertyReplication || bNetInitial) && (Role==ROLE_Authority) && (!bNetOwner || !bClientAnim) )
<a name="874"></a>		<span class="source_type"><a href="../engine/ambientsound.html" class="source">AmbientSound</a></span>;
<a name="875"></a><span class="source_macro">#endif
</span><a name="876"></a>
<a name="877"></a><span class="source_macro">#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications
</span><a name="878"></a>	unreliable if( (!bSkipActorPropertyReplication || bNetInitial) && (Role==ROLE_Authority) && (!bNetOwner || !bClientAnim) && (<span class="source_type"><a href="../engine/ambientsound.html" class="source">AmbientSound</a></span>!=None))
<a name="879"></a>		SoundRadius, SoundVolume, SoundPitch;
<a name="880"></a><span class="source_macro">#endif
</span><a name="881"></a>
<a name="882"></a>	<span class="source_comment">// Animation. 
</span><a name="883"></a>	unreliable if( (!bSkipActorPropertyReplication || bNetInitial) 
<a name="884"></a>				&& (Role==ROLE_Authority) && (DrawType==DT_Mesh) && bReplicateAnimations )
<a name="885"></a>		SimAnim;
<a name="886"></a>
<a name="887"></a><span class="source_macro">#if IG_SHARED // Alex: required to fix SimAnim not playing animation in some instances
</span><a name="888"></a>	unreliable if( (!bSkipActorPropertyReplication || bNetInitial) 
<a name="889"></a>				&& (Role==ROLE_Authority) && (DrawType==DT_Mesh) )
<a name="890"></a>		bReplicateAnimations;
<a name="891"></a><span class="source_macro">#endif
</span><a name="892"></a>
<a name="893"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && (Role==ROLE_Authority) )
<a name="894"></a>		bHidden, bHardAttach;
<a name="895"></a>
<a name="896"></a>	<span class="source_comment">// Properties changed using accessor functions (Owner, rendering, and collision)
</span><a name="897"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && (Role==ROLE_Authority) && bNetDirty )
<a name="898"></a>		<span class="source_type">Owner</span>, DrawScale, DrawType, bCollideActors,bCollideWorld,bOnlyOwnerSee,<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span>,Style, RepSkin;
<a name="899"></a>
<a name="900"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && (Role==ROLE_Authority) && bNetDirty 
<a name="901"></a>					&& (bCollideActors || bCollideWorld) )
<a name="902"></a>		bProjTarget, bBlockActors, bBlockPlayers, CollisionRadius, CollisionHeight;
<a name="903"></a>
<a name="904"></a>	<span class="source_comment">// Properties changed only when spawning or in script (relationships, rendering, lighting)
</span><a name="905"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && (Role==ROLE_Authority) )
<a name="906"></a>		Role,RemoteRole,bNetOwner,LightType,bTearOff;
<a name="907"></a>
<a name="908"></a><span class="source_comment">/*
<a name="909"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && (Role==ROLE_Authority) 
<a name="910"></a>					&& bNetDirty && bNetOwner )
<a name="911"></a>		Inventory;
<a name="912"></a>*/</span>
<a name="913"></a>
<a name="914"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && (Role==ROLE_Authority) 
<a name="915"></a>					&& bNetDirty && bReplicateInstigator )
<a name="916"></a>		Instigator;
<a name="917"></a>
<a name="918"></a>	<span class="source_comment">// Infrequently changed mesh properties
</span><a name="919"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && (Role==ROLE_Authority) 
<a name="920"></a>					&& bNetDirty && (DrawType == DT_Mesh) )
<a name="921"></a>		AmbientGlow,bUnlit,PrePivot;
<a name="922"></a>
<a name="923"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && (Role==ROLE_Authority) 
<a name="924"></a>					&& bNetDirty && !bNoRepMesh && (DrawType == DT_Mesh) )
<a name="925"></a>		<span class="source_type">Mesh</span>;
<a name="926"></a>
<a name="927"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && (Role==ROLE_Authority) 
<a name="928"></a>				&& bNetDirty && (DrawType == DT_StaticMesh) )
<a name="929"></a>		<span class="source_type">StaticMesh</span>;
<a name="930"></a>
<a name="931"></a>	<span class="source_comment">// Infrequently changed lighting properties.
</span><a name="932"></a>	unreliable if ( (!bSkipActorPropertyReplication || bNetInitial) && (Role==ROLE_Authority) 
<a name="933"></a>					&& bNetDirty && (LightType != LT_None) )
<a name="934"></a>		LightEffect, LightBrightness, LightHue, LightSaturation,
<a name="935"></a>		LightRadius, LightPeriod, LightPhase, bSpecialLit;
<a name="936"></a>
<a name="937"></a>	<span class="source_comment">// replicated functions
</span><a name="938"></a>	unreliable if( bDemoRecording )
<a name="939"></a>		DemoPlaySound;
<a name="940"></a>
<a name="941"></a><span class="source_macro">#if IG_ACTOR_LABEL // david: added ability to replicate label (not normally needed)
</span><a name="942"></a>	reliable if ( Role == ROLE_Authority && bReplicateLabel && bNetDirty )
<a name="943"></a>		Label;
<a name="944"></a><span class="source_macro">#endif
</span><a name="945"></a>}
<a name="946"></a>
<a name="947"></a><span class="source_comment">//=============================================================================
</span><a name="948"></a><span class="source_comment">// Actor error handling.
</span><a name="949"></a>
<a name="950"></a><span class="source_comment">// Handle an error and kill this one actor.
</span><a name="951"></a>native(<span class="source_int">233</span>) final <span class="source_type">function</span> <span class="source_type">Error</span>( coerce <span class="source_type">string</span> <span class="source_type">S</span> );
<a name="952"></a>
<a name="953"></a><span class="source_comment">//=============================================================================
</span><a name="954"></a><span class="source_comment">// General functions.
</span><a name="955"></a>
<a name="956"></a><span class="source_macro">#if IG_SHARED	// rowan: rendering stuff
</span><a name="957"></a>simulated event <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span> GetOverlayMaterial(<span class="source_type">int</span> <span class="source_type">Index</span>)
<a name="958"></a>{
<a name="959"></a>	if (Base != None && bGetOverlayMaterialFromBase)
<a name="960"></a>		return Base.GetOverlayMaterial(<span class="source_type">Index</span>);
<a name="961"></a>
<a name="962"></a>	return None;
<a name="963"></a>}
<a name="964"></a><span class="source_macro">#endif
</span><a name="965"></a>
<a name="966"></a><span class="source_macro">#if IG_TRIBES3 // Ryan: allow IsOverlapping to be called from script
</span><a name="967"></a>native <span class="source_type">function</span> <span class="source_type">bool</span> IsOverlapping(<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span>);
<a name="968"></a><span class="source_macro">#endif // IG
</span><a name="969"></a>
<a name="970"></a><span class="source_macro">#if IG_TRIBES3	// Marc: loop through all nearby pawns that have a controller
</span><a name="971"></a>native final iterator <span class="source_type">function</span> nearbyControlledPawns( <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> CenterLocation, <span class="source_type">float</span> <span class="source_type">Radius</span>, out <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>, optional <span class="source_type">name</span> matchTag );
<a name="972"></a><span class="source_macro">#endif
</span><a name="973"></a>
<a name="974"></a><span class="source_macro">#if IG_SCRIPTING // david: functions to find objects by their script label
</span><a name="975"></a><span class="source_comment">// findByLabel
</span><a name="976"></a><span class="source_comment">// Finds the first actor with label
</span><a name="977"></a><span class="source_type">function</span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> findByLabel(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>&gt; actorClass, <span class="source_type">Name</span> label, optional <span class="source_type">bool</span> checkDead)
<a name="978"></a>{
<a name="979"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">a</span>;
<a name="980"></a>	local <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">p</span>;
<a name="981"></a>	local <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>&gt; findClass;
<a name="982"></a>
<a name="983"></a>	if (actorClass != None)
<a name="984"></a>	{
<a name="985"></a>		findClass = actorClass;
<a name="986"></a>	}
<a name="987"></a>	else
<a name="988"></a>	{
<a name="989"></a>		findClass = <span class="source_type">class</span><span class="source_name">'Actor'</span>;
<a name="990"></a>	}
<a name="991"></a>
<a name="992"></a>	ForEach DynamicActors(findClass, <span class="source_type">a</span>)
<a name="993"></a>	{
<a name="994"></a>		if (<span class="source_type">a</span>.label == label)
<a name="995"></a>		{
<a name="996"></a>			if (!checkDead)
<a name="997"></a>			{
<a name="998"></a>						return <span class="source_type">a</span>;
<a name="999"></a>				}
<a name="1000"></a>			else
<a name="1001"></a>			{
<a name="1002"></a>				<span class="source_type">p</span> = <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(<span class="source_type">a</span>);
<a name="1003"></a>
<a name="1004"></a>				if (<span class="source_type">p</span> != None)
<a name="1005"></a>				{
<a name="1006"></a>					if (<span class="source_type">p</span>.isAlive())
<a name="1007"></a>						return <span class="source_type">a</span>;
<a name="1008"></a>				}
<a name="1009"></a>				else return <span class="source_type">a</span>;
<a name="1010"></a>			}
<a name="1011"></a>		}
<a name="1012"></a>	}
<a name="1013"></a>
<a name="1014"></a>	return None;
<a name="1015"></a>}
<a name="1016"></a>
<a name="1017"></a><span class="source_comment">// Iterator for all actors with label (same as findByLabel but for all matches, not just the first)
</span><a name="1018"></a>native final iterator <span class="source_type">function</span> actorLabel(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>&gt; actorClass, out <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> foundActor, <span class="source_type">Name</span> label);
<a name="1019"></a>
<a name="1020"></a><span class="source_comment">// findStaticByLabel
</span><a name="1021"></a><span class="source_comment">// Finds the first actor with label including static actors
</span><a name="1022"></a><span class="source_type">function</span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> findStaticByLabel(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>&gt; actorClass, <span class="source_type">Name</span> label, optional <span class="source_type">bool</span> checkDead)
<a name="1023"></a>{
<a name="1024"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">a</span>;
<a name="1025"></a>	local <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">p</span>;
<a name="1026"></a>	local <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>&gt; findClass;
<a name="1027"></a>
<a name="1028"></a>	if (actorClass != None)
<a name="1029"></a>	{
<a name="1030"></a>		findClass = actorClass;
<a name="1031"></a>	}
<a name="1032"></a>	else
<a name="1033"></a>	{
<a name="1034"></a>		findClass = <span class="source_type">class</span><span class="source_name">'Actor'</span>;
<a name="1035"></a>	}
<a name="1036"></a>
<a name="1037"></a>	ForEach AllActors(findClass, <span class="source_type">a</span>)
<a name="1038"></a>	{
<a name="1039"></a>		if (<span class="source_type">a</span>.label == label)
<a name="1040"></a>		{
<a name="1041"></a>			if (!checkDead)
<a name="1042"></a>			{
<a name="1043"></a>						return <span class="source_type">a</span>;
<a name="1044"></a>				}
<a name="1045"></a>			else
<a name="1046"></a>			{
<a name="1047"></a>				<span class="source_type">p</span> = <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(<span class="source_type">a</span>);
<a name="1048"></a>
<a name="1049"></a>				if (<span class="source_type">p</span> != None)
<a name="1050"></a>				{
<a name="1051"></a>					if (<span class="source_type">p</span>.isAlive())
<a name="1052"></a>						return <span class="source_type">a</span>;
<a name="1053"></a>				}
<a name="1054"></a>				else return <span class="source_type">a</span>;
<a name="1055"></a>			}
<a name="1056"></a>		}
<a name="1057"></a>	}
<a name="1058"></a>
<a name="1059"></a>	return None;
<a name="1060"></a>}
<a name="1061"></a>
<a name="1062"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="1063"></a><span class="source_type">function</span> classConstruct()
<a name="1064"></a>{
<a name="1065"></a>	bNavigationRelevant = true;
<a name="1066"></a>}
<a name="1067"></a><span class="source_macro">#endif
</span><a name="1068"></a>
<a name="1069"></a><span class="source_comment">// Iterator for all actors with label including static actors (same as findStaticByLabel but for all matches, not just the first)
</span><a name="1070"></a>native final iterator <span class="source_type">function</span> staticActorLabel(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>&gt; actorClass, out <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> foundActor, <span class="source_type">Name</span> label);
<a name="1071"></a><span class="source_macro">#endif
</span><a name="1072"></a>
<a name="1073"></a><span class="source_macro">#if IG_UC_ACTOR_ALLOCATOR // karl: Added Actor Allocator
</span><a name="1074"></a><span class="source_comment">// Called by new operator (on the default object of a particular class).  
</span><a name="1075"></a><span class="source_comment">// Allocates and returns an object of that class.
</span><a name="1076"></a>native static <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html" class="source">Object</a></span> Allocate( <span class="source_type"><a href="../core/object.html" class="source">Object</a></span> Context, <span class="source_type"><a href="../core/object.html" class="source">Object</a></span> Outer, optional <span class="source_type">string</span> n, optional <span class="source_type">INT</span> flags, optional <span class="source_type"><a href="../core/object.html" class="source">Object</a></span> Template );
<a name="1077"></a>
<a name="1078"></a><span class="source_comment">// Constructor
</span><a name="1079"></a>overloaded native <span class="source_type">function</span> Construct();
<a name="1080"></a>overloaded native <span class="source_type">function</span> Construct( <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type">Owner</span>, optional <span class="source_type">name</span> Tag, 
<a name="1081"></a>				  optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Location, optional <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> Rotation);
<a name="1082"></a><span class="source_macro">#endif
</span><a name="1083"></a>
<a name="1084"></a><span class="source_comment">// Latent functions.
</span><a name="1085"></a><span class="source_macro">#if IG_UC_THREADED // karl: Moved sleep to Object
</span><a name="1086"></a><span class="source_macro">#else
</span><a name="1087"></a>native(<span class="source_int">256</span>) final latent <span class="source_type">function</span> Sleep( <span class="source_type">float</span> <span class="source_type">Seconds</span> );
<a name="1088"></a><span class="source_macro">#endif
</span><a name="1089"></a>
<a name="1090"></a><span class="source_comment">// Collision.
</span><a name="1091"></a>native(<span class="source_int">262</span>) final <span class="source_type">function</span> SetCollision( optional <span class="source_type">bool</span> NewColActors, optional <span class="source_type">bool</span> NewBlockActors, optional <span class="source_type">bool</span> NewBlockPlayers );
<a name="1092"></a>native(<span class="source_int">283</span>) final <span class="source_type">function</span> <span class="source_type">bool</span> SetCollisionSize( <span class="source_type">float</span> NewRadius, <span class="source_type">float</span> NewHeight );
<a name="1093"></a>native final <span class="source_type">function</span> SetDrawScale(<span class="source_type">float</span> NewScale);
<a name="1094"></a>native final <span class="source_type">function</span> SetDrawScale3D(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> NewScale3D);
<a name="1095"></a>native final <span class="source_type">function</span> SetStaticMesh(<span class="source_type">StaticMesh</span> NewStaticMesh);
<a name="1096"></a>native final <span class="source_type">function</span> SetDrawType(<span class="source_type"><a href="../engine/actor.html#EDrawType" class="source">EDrawType</a></span> NewDrawType);
<a name="1097"></a>
<a name="1098"></a><span class="source_macro">#if IG_TRIBES3 // Ryan: Need to be able to access materials for controllable material types
</span><a name="1099"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span> GetMaterial(<span class="source_type">int</span> <span class="source_type">Index</span>);
<a name="1100"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span> ShallowCopyMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span> src, <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">owner</span>);
<a name="1101"></a><span class="source_macro">#endif // IG
</span><a name="1102"></a>
<a name="1103"></a><span class="source_comment">// Movement.
</span><a name="1104"></a>native(<span class="source_int">266</span>) final <span class="source_type">function</span> <span class="source_type">bool</span> Move( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Delta</span> );
<a name="1105"></a>native(<span class="source_int">267</span>) final <span class="source_type">function</span> <span class="source_type">bool</span> SetLocation( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> NewLocation );
<a name="1106"></a>native(<span class="source_int">299</span>) final <span class="source_type">function</span> <span class="source_type">bool</span> SetRotation( <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> <span class="source_type">NewRotation</span> );
<a name="1107"></a><span class="source_macro">#if IG_TRIBES3 // david: TestMove returns true if a given move is valid for the actor (i.e. unobstructed) but doesn't move the actor
</span><a name="1108"></a>native final <span class="source_type">function</span> <span class="source_type">bool</span> TestMove( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Location, <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> Rotation );
<a name="1109"></a><span class="source_macro">#endif
</span><a name="1110"></a>
<a name="1111"></a><span class="source_comment">// SetRelativeRotation() sets the rotation relative to the actor's base
</span><a name="1112"></a>native final <span class="source_type">function</span> <span class="source_type">bool</span> SetRelativeRotation( <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> <span class="source_type">NewRotation</span> );
<a name="1113"></a>native final <span class="source_type">function</span> <span class="source_type">bool</span> SetRelativeLocation( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> NewLocation );
<a name="1114"></a>
<a name="1115"></a>native(<span class="source_int">3969</span>) final <span class="source_type">function</span> <span class="source_type">bool</span> MoveSmooth( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Delta</span> );
<a name="1116"></a>native(<span class="source_int">3971</span>) final <span class="source_type">function</span> AutonomousPhysics(<span class="source_type">float</span> DeltaSeconds);
<a name="1117"></a>
<a name="1118"></a><span class="source_comment">// Relations.
</span><a name="1119"></a>native(<span class="source_int">298</span>) final <span class="source_type">function</span> SetBase( <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> NewBase, optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> NewFloor );
<a name="1120"></a>native(<span class="source_int">272</span>) final <span class="source_type">function</span> SetOwner( <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> NewOwner );
<a name="1121"></a>
<a name="1122"></a><span class="source_macro">#if IG_TRIBES3	// marc: make an actor dormant for level designers
</span><a name="1123"></a><span class="source_comment">// "onOff": true: make dormant; false: wake up
</span><a name="1124"></a><span class="source_type">function</span> makeDormant( <span class="source_type">bool</span> <span class="source_type">onOff</span> )
<a name="1125"></a>{
<a name="1126"></a>	local <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>;
<a name="1127"></a>
<a name="1128"></a>	<span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> = <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>(self);
<a name="1129"></a>
<a name="1130"></a>	if ( <span class="source_type">onOff</span> )
<a name="1131"></a>	{
<a name="1132"></a>		<span class="source_comment">//log( "Making" @ name @ "dormant" );
</span><a name="1133"></a>		if ( <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> != None )
<a name="1134"></a>		{
<a name="1135"></a>			<span class="source_type">level</span>.AI_Setup.stopActions( <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> );
<a name="1136"></a>			<span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>.AI_LOD_LevelOrig = <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>.AI_LOD_Level;
<a name="1137"></a>			<span class="source_type">level</span>.AI_Setup.setAILOD( <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>, AILOD_NONE );
<a name="1138"></a>		}
<a name="1139"></a>		SetPhysics(PHYS_None);					<span class="source_comment">// stop physics
</span><a name="1140"></a>		bHidden = true;							<span class="source_comment">// make invisible
</span><a name="1141"></a>		setCollision( false, false, false );	<span class="source_comment">// disable collisions
</span><a name="1142"></a>	}
<a name="1143"></a>	else
<a name="1144"></a>	{
<a name="1145"></a>		<span class="source_comment">//log( "Waking" @ name @ "up" );
</span><a name="1146"></a>		SetPhysics(default.Physics);			<span class="source_comment">// restore physics
</span><a name="1147"></a>		bHidden = default.bHidden;				<span class="source_comment">// make visible
</span><a name="1148"></a>		setCollision( default.bCollideActors, default.bBlockActors, default.bBlockPlayers );	<span class="source_comment">// enable collisions
</span><a name="1149"></a>		if ( <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> != None )
<a name="1150"></a>		{
<a name="1151"></a>			<span class="source_type">level</span>.AI_Setup.setAILOD( <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>, <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>.AI_LOD_LevelOrig );
<a name="1152"></a>			<span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span>.rematchGoals();
<a name="1153"></a>		}
<a name="1154"></a>	}
<a name="1155"></a>}
<a name="1156"></a><span class="source_macro">#endif
</span><a name="1157"></a>
<a name="1158"></a><span class="source_comment">//=============================================================================
</span><a name="1159"></a><span class="source_comment">// Animation.
</span><a name="1160"></a>
<a name="1161"></a>native final <span class="source_type">function</span> <span class="source_type">string</span> GetMeshName();
<a name="1162"></a>
<a name="1163"></a><span class="source_comment">// Animation functions.
</span><a name="1164"></a>native(<span class="source_int">259</span>) final <span class="source_type">function</span> PlayAnim( <span class="source_type">name</span> <span class="source_type">Sequence</span>, optional <span class="source_type">float</span> Rate, optional <span class="source_type">float</span> TweenTime, optional <span class="source_type">int</span> <span class="source_type">Channel</span> );
<a name="1165"></a>
<a name="1166"></a><span class="source_macro">#if IG_ANIM_ADDITIVE_BLENDING // darren: additive anim blending
</span><a name="1167"></a><span class="source_comment">// Additively blends the animation specified by Sequence in the given
</span><a name="1168"></a><span class="source_comment">// channel. PlayAnimAdditive uses the first frame of animation specified
</span><a name="1169"></a><span class="source_comment">// by RefSequence as a reference, and blends the differences between
</span><a name="1170"></a><span class="source_comment">// this reference and each frame of the Sequence animation. If
</span><a name="1171"></a><span class="source_comment">// RefSequence is NULL, the first frame of the Sequence is used
</span><a name="1172"></a><span class="source_comment">// as the reference. [darren]
</span><a name="1173"></a>native final <span class="source_type">function</span> PlayAnimAdditive( <span class="source_type">name</span> <span class="source_type">Sequence</span>, optional <span class="source_type">float</span> Rate, optional <span class="source_type">float</span> TweenTime, optional <span class="source_type">int</span> <span class="source_type">Channel</span>, optional <span class="source_type">name</span> RefSequence );
<a name="1174"></a><span class="source_macro">#endif
</span><a name="1175"></a>
<a name="1176"></a>native(<span class="source_int">260</span>) final <span class="source_type">function</span> LoopAnim( <span class="source_type">name</span> <span class="source_type">Sequence</span>, optional <span class="source_type">float</span> Rate, optional <span class="source_type">float</span> TweenTime, optional <span class="source_type">int</span> <span class="source_type">Channel</span> );
<a name="1177"></a>native(<span class="source_int">294</span>) final <span class="source_type">function</span> TweenAnim( <span class="source_type">name</span> <span class="source_type">Sequence</span>, <span class="source_type">float</span> <span class="source_type"><a href="../core/time.html" class="source">Time</a></span>, optional <span class="source_type">int</span> <span class="source_type">Channel</span> );
<a name="1178"></a>native(<span class="source_int">282</span>) final <span class="source_type">function</span> <span class="source_type">bool</span> IsAnimating(optional <span class="source_type">int</span> <span class="source_type">Channel</span>);
<a name="1179"></a>native(<span class="source_int">261</span>) final latent <span class="source_type">function</span> FinishAnim(optional <span class="source_type">int</span> <span class="source_type">Channel</span>);
<a name="1180"></a>native(<span class="source_int">263</span>) final <span class="source_type">function</span> <span class="source_type">bool</span> HasAnim( <span class="source_type">name</span> <span class="source_type">Sequence</span> );
<a name="1181"></a>native final <span class="source_type">function</span> StopAnimating( optional <span class="source_type">bool</span> ClearAllButBase );
<a name="1182"></a>native final <span class="source_type">function</span> FreezeAnimAt( <span class="source_type">float</span> <span class="source_type"><a href="../core/time.html" class="source">Time</a></span>, optional <span class="source_type">int</span> <span class="source_type">Channel</span>);
<a name="1183"></a>native final <span class="source_type">function</span> SetAnimFrame( <span class="source_type">float</span> <span class="source_type"><a href="../core/time.html" class="source">Time</a></span>, optional <span class="source_type">int</span> <span class="source_type">Channel</span>, optional <span class="source_type">int</span> UnitFlag );
<a name="1184"></a>native final <span class="source_type">function</span> <span class="source_type">bool</span> IsTweening(<span class="source_type">int</span> <span class="source_type">Channel</span>);
<a name="1185"></a>
<a name="1186"></a><span class="source_macro">#if IG_TRIBES3 // Ryan:
</span><a name="1187"></a>simulated <span class="source_type">function</span> PlayScriptedAnim(<span class="source_type">name</span> AnimToPlay)
<a name="1188"></a>{
<a name="1189"></a>	PlayAnim(AnimToPlay);
<a name="1190"></a>}
<a name="1191"></a><span class="source_macro">#endif
</span><a name="1192"></a>
<a name="1193"></a><span class="source_macro">#if IG_SHARED
</span><a name="1194"></a><span class="source_comment">// Get the length (in seconds) of an animation
</span><a name="1195"></a>native final <span class="source_type">function</span> <span class="source_type">float</span> GetAnimLength( <span class="source_type">name</span> <span class="source_type">Sequence</span>, optional <span class="source_type">float</span> Rate, optional <span class="source_type">float</span> TweenTime, optional <span class="source_type">int</span> <span class="source_type">Channel</span>);
<a name="1196"></a><span class="source_macro">#endif
</span><a name="1197"></a>
<a name="1198"></a><span class="source_comment">// ifdef WITH_LIPSINC
</span><a name="1199"></a>native final <span class="source_type">function</span> PlayLIPSincAnim(
<a name="1200"></a>	<span class="source_type">name</span>                LIPSincAnimName,
<a name="1201"></a>	optional <span class="source_type">float</span>		<span class="source_type"><a href="../engine/volume.html" class="source">Volume</a></span>,
<a name="1202"></a>	optional <span class="source_type">float</span>		<span class="source_type">Radius</span>,
<a name="1203"></a>	optional <span class="source_type">float</span>		Pitch,
<a name="1204"></a>	optional <span class="source_type">bool</span>		bPositional
<a name="1205"></a>    );
<a name="1206"></a>
<a name="1207"></a>native final <span class="source_type">function</span> StopLIPSincAnim();
<a name="1208"></a>
<a name="1209"></a>native final <span class="source_type">function</span> <span class="source_type">bool</span> HasLIPSincAnim( <span class="source_type">name</span> LIPSincAnimName );
<a name="1210"></a>native final <span class="source_type">function</span> <span class="source_type">bool</span> IsPlayingLIPSincAnim();
<a name="1211"></a>native final <span class="source_type">function</span> <span class="source_type">string</span> CurrentLIPSincAnim();
<a name="1212"></a>
<a name="1213"></a><span class="source_macro">#if IG_TRIBES3 // dbeswick:
</span><a name="1214"></a>native final <span class="source_type">function</span> <span class="source_type">float</span> GetLIPSincAnimDuration( <span class="source_type">name</span> LIPSincAnimName );
<a name="1215"></a><span class="source_macro">#endif
</span><a name="1216"></a>
<a name="1217"></a><span class="source_comment">// LIPSinc Animation notifications.
</span><a name="1218"></a>event LIPSincAnimEnd();
<a name="1219"></a><span class="source_comment">// endif
</span><a name="1220"></a>
<a name="1221"></a><span class="source_comment">// Animation notifications.
</span><a name="1222"></a>event AnimEnd( <span class="source_type">int</span> <span class="source_type">Channel</span> );
<a name="1223"></a>native final <span class="source_type">function</span> EnableChannelNotify ( <span class="source_type">int</span> <span class="source_type">Channel</span>, <span class="source_type">int</span> Switch );
<a name="1224"></a>native final <span class="source_type">function</span> <span class="source_type">int</span> GetNotifyChannel();
<a name="1225"></a>
<a name="1226"></a><span class="source_comment">// Skeletal animation.
</span><a name="1227"></a>simulated native final <span class="source_type">function</span> LinkSkelAnim( <span class="source_type">MeshAnimation</span> Anim, optional <span class="source_type">mesh</span> NewMesh );
<a name="1228"></a>simulated native final <span class="source_type">function</span> LinkMesh( <span class="source_type">mesh</span> NewMesh, optional <span class="source_type">bool</span> bKeepAnim );
<a name="1229"></a>native final <span class="source_type">function</span> BoneRefresh();
<a name="1230"></a>
<a name="1231"></a>native final <span class="source_type">function</span> AnimBlendParams( <span class="source_type">int</span> Stage, optional <span class="source_type">float</span> BlendAlpha, optional <span class="source_type">float</span> InTime, optional <span class="source_type">float</span> OutTime, optional <span class="source_type">name</span> BoneName, optional <span class="source_type">bool</span> bGlobalPose);
<a name="1232"></a>native final <span class="source_type">function</span> AnimBlendToAlpha( <span class="source_type">int</span> Stage, <span class="source_type">float</span> TargetAlpha, <span class="source_type">float</span> TimeInterval );
<a name="1233"></a>
<a name="1234"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Coords" class="source">coords</a></span>  GetBoneCoords(   <span class="source_type">name</span> BoneName
<a name="1235"></a><span class="source_macro">#if IG_SHARED // johna: optionally include offset to socket if BoneName is the name of a socket
</span><a name="1236"></a>			  <span class="source_comment">// -if BoneName is the name of a bone, bGetSocketCoords has no effect
</span><a name="1237"></a>			  <span class="source_comment">// -if BoneName is the name of a socket and bGetSocketCoords is false, the function returns the coords of the bone the socket is attached to
</span><a name="1238"></a>			  <span class="source_comment">// -if BoneName is the name of a socket and bGetSocketCoords is true, the function returns the coords of the socket (i.e., get the current world space location of the socket)
</span><a name="1239"></a>											, optional <span class="source_type">bool</span> bGetSocketCoords 
<a name="1240"></a><span class="source_macro">#endif
</span><a name="1241"></a>											);
<a name="1242"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> GetBoneRotation( <span class="source_type">name</span> BoneName, optional <span class="source_type">int</span> Space );
<a name="1243"></a>
<a name="1244"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>  GetRootLocation();
<a name="1245"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> GetRootRotation();
<a name="1246"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>  GetRootLocationDelta();
<a name="1247"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> GetRootRotationDelta();
<a name="1248"></a>
<a name="1249"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="1250"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> GetMeshOrigin();
<a name="1251"></a><span class="source_macro">#endif
</span><a name="1252"></a>
<a name="1253"></a>native final <span class="source_type">function</span> <span class="source_type">bool</span>  AttachToBone( <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> Attachment, <span class="source_type">name</span> BoneName );
<a name="1254"></a>native final <span class="source_type">function</span> <span class="source_type">bool</span>  DetachFromBone( <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> Attachment );
<a name="1255"></a><span class="source_macro">#if IG_SHARED // ckline: forcibly update the position of an Actor's attachments, even if the Actor is not visible
</span><a name="1256"></a><span class="source_comment">// Causes all attachments to have their positions/rotations updated, regardless of 
</span><a name="1257"></a><span class="source_comment">// whether or not this actor is visible. 
</span><a name="1258"></a>native final <span class="source_type">function</span> UpdateAttachmentLocations();
<a name="1259"></a><span class="source_macro">#endif
</span><a name="1260"></a>
<a name="1261"></a>native final <span class="source_type">function</span> LockRootMotion( <span class="source_type">int</span> Lock );
<a name="1262"></a>native final <span class="source_type">function</span> SetBoneScale( <span class="source_type">int</span> Slot, optional <span class="source_type">float</span> BoneScale, optional <span class="source_type">name</span> BoneName );
<a name="1263"></a>
<a name="1264"></a>native final <span class="source_type">function</span> SetBoneDirection( <span class="source_type">name</span> BoneName, <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> BoneTurn, optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> BoneTrans, optional <span class="source_type">float</span> Alpha, optional <span class="source_type">int</span> Space );
<a name="1265"></a>native final <span class="source_type">function</span> SetBoneLocation( <span class="source_type">name</span> BoneName, optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> BoneTrans, optional <span class="source_type">float</span> Alpha );
<a name="1266"></a>native final <span class="source_type">function</span> SetBoneRotation( <span class="source_type">name</span> BoneName, optional <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> BoneTurn, optional <span class="source_type">int</span> Space, optional <span class="source_type">float</span> Alpha );
<a name="1267"></a>native final <span class="source_type">function</span> GetAnimParams( <span class="source_type">int</span> <span class="source_type">Channel</span>, out <span class="source_type">name</span> OutSeqName, out <span class="source_type">float</span> OutAnimFrame, out <span class="source_type">float</span> OutAnimRate );
<a name="1268"></a>native final <span class="source_type">function</span> <span class="source_type">bool</span> AnimIsInGroup( <span class="source_type">int</span> <span class="source_type">Channel</span>, <span class="source_type">name</span> GroupName );  
<a name="1269"></a>
<a name="1270"></a><span class="source_comment">//=========================================================================
</span><a name="1271"></a><span class="source_comment">// Rendering.
</span><a name="1272"></a>
<a name="1273"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Plane" class="source">plane</a></span> GetRenderBoundingSphere();
<a name="1274"></a>native final <span class="source_type">function</span> DrawDebugLine( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> LineStart, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> LineEnd, <span class="source_type">byte</span> <span class="source_type">R</span>, <span class="source_type">byte</span> G, <span class="source_type">byte</span> <span class="source_type">B</span>); <span class="source_comment">// SLOW! Use for debugging only!
</span><a name="1275"></a>
<a name="1276"></a><span class="source_comment">//=========================================================================
</span><a name="1277"></a><span class="source_comment">// Physics.
</span><a name="1278"></a>
<a name="1279"></a>native final <span class="source_type">function</span> DebugClock();
<a name="1280"></a>native final <span class="source_type">function</span> DebugUnclock();
<a name="1281"></a>
<a name="1282"></a><span class="source_comment">// Physics control.
</span><a name="1283"></a>native(<span class="source_int">301</span>) final latent <span class="source_type">function</span> FinishInterpolation();
<a name="1284"></a>native(<span class="source_int">3970</span>) final <span class="source_type">function</span> SetPhysics( <span class="source_type"><a href="../engine/actor.html#EPhysics" class="source">EPhysics</a></span> newPhysics );
<a name="1285"></a>
<a name="1286"></a>native final <span class="source_type">function</span> OnlyAffectPawns(<span class="source_type">bool</span> <span class="source_type">B</span>);
<a name="1287"></a>
<a name="1288"></a><span class="source_comment">// ifdef WITH_KARMA
</span><a name="1289"></a><span class="source_comment">//native final function Quat KGetRBQuaternion();
</span><a name="1290"></a><span class="source_comment">//
</span><a name="1291"></a><span class="source_comment">//native final function KGetRigidBodyState(out KRigidBodyState RBstate);
</span><a name="1292"></a><span class="source_comment">//native final function KDrawRigidBodyState(KRigidBodyState RBState, bool AltColour); // SLOW! Use for debugging only!
</span><a name="1293"></a><span class="source_comment">//native final function vector KRBVecToVector(KRBVec RBvec);
</span><a name="1294"></a><span class="source_comment">//native final function KRBVec KRBVecFromVector(vector v);
</span><a name="1295"></a><span class="source_comment">//
</span><a name="1296"></a><span class="source_comment">//native final function KSetMass( float mass );
</span><a name="1297"></a><span class="source_comment">//native final function float KGetMass();
</span><a name="1298"></a><span class="source_comment">//
</span><a name="1299"></a><span class="source_comment">//// Set inertia tensor assuming a mass of 1. Scaled by mass internally to calculate actual inertia tensor.
</span><a name="1300"></a><span class="source_comment">//native final function KSetInertiaTensor( vector it1, vector it2 );
</span><a name="1301"></a><span class="source_comment">//native final function KGetInertiaTensor( out vector it1, out vector it2 );
</span><a name="1302"></a><span class="source_comment">//
</span><a name="1303"></a><span class="source_comment">//native final function KSetDampingProps( float lindamp, float angdamp );
</span><a name="1304"></a><span class="source_comment">//native final function KGetDampingProps( out float lindamp, out float angdamp );
</span><a name="1305"></a><span class="source_comment">//
</span><a name="1306"></a><span class="source_comment">//native final function KSetFriction( float friction );
</span><a name="1307"></a><span class="source_comment">//native final function float KGetFriction();
</span><a name="1308"></a><span class="source_comment">//
</span><a name="1309"></a><span class="source_comment">//native final function KSetRestitution( float rest );
</span><a name="1310"></a><span class="source_comment">//native final function float KGetRestitution();
</span><a name="1311"></a><span class="source_comment">//
</span><a name="1312"></a><span class="source_comment">//native final function KSetCOMOffset( vector offset );
</span><a name="1313"></a><span class="source_comment">//native final function KGetCOMOffset( out vector offset );
</span><a name="1314"></a><span class="source_comment">//native final function KGetCOMPosition( out vector pos ); // get actual position of actors COM in world space
</span><a name="1315"></a><span class="source_comment">//
</span><a name="1316"></a><span class="source_comment">//native final function KSetImpactThreshold( float thresh );
</span><a name="1317"></a><span class="source_comment">//native final function float KGetImpactThreshold();
</span><a name="1318"></a><span class="source_comment">//
</span><a name="1319"></a><span class="source_comment">//native final function KWake();
</span><a name="1320"></a><span class="source_comment">//native final function bool KIsAwake();
</span><a name="1321"></a><span class="source_comment">//native final function KAddImpulse( vector Impulse, vector Position, optional name BoneName );
</span><a name="1322"></a><span class="source_comment">//
</span><a name="1323"></a><span class="source_comment">//native final function KSetStayUpright( bool stayUpright, bool allowRotate );
</span><a name="1324"></a><span class="source_comment">//native final function KSetStayUprightParams( float stiffness, float damping );
</span><a name="1325"></a><span class="source_comment">//
</span><a name="1326"></a><span class="source_comment">//native final function KSetBlockKarma( bool newBlock );
</span><a name="1327"></a><span class="source_comment">//
</span><a name="1328"></a><span class="source_comment">//native final function KSetActorGravScale( float ActorGravScale );
</span><a name="1329"></a><span class="source_comment">//native final function float KGetActorGravScale();
</span><a name="1330"></a><span class="source_comment">//
</span><a name="1331"></a><span class="source_comment">//// Disable/Enable Karma contact generation between this actor, and another actor.
</span><a name="1332"></a><span class="source_comment">//// Collision is on by default.
</span><a name="1333"></a><span class="source_comment">//native final function KDisableCollision( actor Other );
</span><a name="1334"></a><span class="source_comment">//native final function KEnableCollision( actor Other );
</span><a name="1335"></a><span class="source_comment">//
</span><a name="1336"></a><span class="source_comment">//// Ragdoll-specific functions
</span><a name="1337"></a><span class="source_comment">//native final function KSetSkelVel( vector Velocity, optional vector AngVelocity, optional bool AddToCurrent );
</span><a name="1338"></a><span class="source_comment">//native final function float KGetSkelMass();
</span><a name="1339"></a><span class="source_comment">//native final function KFreezeRagdoll();
</span><a name="1340"></a><span class="source_comment">//
</span><a name="1341"></a><span class="source_comment">//// You MUST turn collision off (KSetBlockKarma) before using bone lifters!
</span><a name="1342"></a><span class="source_comment">//native final function KAddBoneLifter( name BoneName, InterpCurve LiftVel, float LateralFriction, InterpCurve Softness ); 
</span><a name="1343"></a><span class="source_comment">//native final function KRemoveLifterFromBone( name BoneName ); 
</span><a name="1344"></a><span class="source_comment">//native final function KRemoveAllBoneLifters(); 
</span><a name="1345"></a><span class="source_comment">//
</span><a name="1346"></a><span class="source_comment">//// Used for only allowing a fixed maximum number of ragdolls in action.
</span><a name="1347"></a><span class="source_comment">//native final function KMakeRagdollAvailable();
</span><a name="1348"></a><span class="source_comment">//native final function bool KIsRagdollAvailable();
</span><a name="1349"></a><span class="source_comment">//
</span><a name="1350"></a><span class="source_comment">//// event called when Karmic actor hits with impact velocity over KImpactThreshold
</span><a name="1351"></a><span class="source_comment">//event KImpact(actor other, vector pos, vector impactVel, vector impactNorm); 
</span><a name="1352"></a><span class="source_comment">//
</span><a name="1353"></a><span class="source_comment">//// event called when karma actor's velocity drops below KVelDropBelowThreshold;
</span><a name="1354"></a><span class="source_comment">//event KVelDropBelow();
</span><a name="1355"></a><span class="source_comment">//
</span><a name="1356"></a><span class="source_comment">//// event called when a ragdoll convulses (see KarmaParamsSkel)
</span><a name="1357"></a><span class="source_comment">//event KSkelConvulse();
</span><a name="1358"></a>
<a name="1359"></a><span class="source_comment">// ---------------------
</span><a name="1360"></a><span class="source_comment">// Paul: These event functions are now implemented with the unified physics
</span><a name="1361"></a><span class="source_comment">// inteface near the bottom of the file.
</span><a name="1362"></a><span class="source_comment">// ---------------------
</span><a name="1363"></a>
<a name="1364"></a><span class="source_comment">// event called just before sim to allow user to 
</span><a name="1365"></a><span class="source_comment">// NOTE: you should ONLY put numbers into Force and Torque during this event!!!!
</span><a name="1366"></a><span class="source_comment">//event KApplyForce(out vector Force, out vector Torque);
</span><a name="1367"></a>
<a name="1368"></a><span class="source_comment">// This is called from inside C++ physKarma at the appropriate time to update state of Karma rigid body.
</span><a name="1369"></a><span class="source_comment">// If you return true, newState will be set into the rigid body. Return false and it will do nothing.
</span><a name="1370"></a><span class="source_comment">//event bool KUpdateState(out KRigidBodyState newState);*/
</span><a name="1371"></a>
<a name="1372"></a><span class="source_comment">// endif
</span><a name="1373"></a>
<a name="1374"></a><span class="source_comment">// Unreal Havok
</span><a name="1375"></a><span class="source_macro">#if !IG_SHARED	// rowan: added new version of this that supports activation and deactivation
</span><a name="1376"></a>native final <span class="source_type">function</span> HavokActivate();
<a name="1377"></a><span class="source_macro">#endif
</span><a name="1378"></a>native final <span class="source_type">function</span> <span class="source_type">bool</span> HavokIsActive();
<a name="1379"></a>
<a name="1380"></a>native final <span class="source_type">function</span> HavokImpartImpulse( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Impulse, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Position</span>, optional <span class="source_type">name</span> BoneName );
<a name="1381"></a>native final <span class="source_type">function</span> HavokImpartForce( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Force, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Position</span>, optional <span class="source_type">name</span> BoneName );
<a name="1382"></a>
<a name="1383"></a><span class="source_comment">// You can do this though HGetState / HavokUpdateState, but here is a quicker, specific to 
</span><a name="1384"></a><span class="source_comment">// just the velocities. If BoneName is None for a skeletal system, the last traced bone is used.
</span><a name="1385"></a><span class="source_comment">// If you just set one bone in a skeletal system you will be introducing error into the system.
</span><a name="1386"></a><span class="source_macro">#if IG_SHARED // ckline: if socket name specified, return velocity of bone socket is associated with
</span><a name="1387"></a><span class="source_comment">//   Note: if HavokGet{Linear/Angular}Velocity is passed the name of a socket, the function will 
</span><a name="1388"></a><span class="source_comment">//   return the velocity of the bone to which the socket is attached.
</span><a name="1389"></a><span class="source_macro">#endif
</span><a name="1390"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HavokGetLinearVelocity( optional <span class="source_type">name</span> BoneName ); <span class="source_comment">// in Unreal units
</span><a name="1391"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HavokGetAngularVelocity( optional <span class="source_type">name</span> BoneName ); <span class="source_comment">// in Unreal units
</span><a name="1392"></a>native final <span class="source_type">function</span> HavokSetLinearVelocity( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Linear, optional <span class="source_type">name</span> BoneName ); <span class="source_comment">// in Unreal units
</span><a name="1393"></a>native final <span class="source_type">function</span> HavokSetAngularVelocity( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Angular, optional <span class="source_type">name</span> BoneName ); <span class="source_comment">// in Unreal units
</span><a name="1394"></a>native final <span class="source_type">function</span> HavokSetLinearVelocityAll( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Linear ); <span class="source_comment">// Only really for Skeletal systems.
</span><a name="1395"></a><span class="source_macro">#if IG_SHARED // ckline: can set havok damping from script
</span><a name="1396"></a><span class="source_comment">// Set linear/angular damping on an actor. If this actor is a ragdoll, damping
</span><a name="1397"></a><span class="source_comment">// will be applied to all bones unless a specific BoneName is specified.
</span><a name="1398"></a><span class="source_comment">// Damping must be non-negative. As a reference, the default linear damping 
</span><a name="1399"></a><span class="source_comment">// on a rigid body is 0, and the default angular damping is 0.5.
</span><a name="1400"></a>native final <span class="source_type">function</span> HavokSetLinearDamping(<span class="source_type">float</span> Damping, optional <span class="source_type">name</span> BoneName); 
<a name="1401"></a>native final <span class="source_type">function</span> HavokSetAngularDamping(<span class="source_type">float</span> Damping, optional <span class="source_type">name</span> BoneName); 
<a name="1402"></a><span class="source_macro">#endif
</span><a name="1403"></a>native final <span class="source_type">function</span> <span class="source_type">name</span> HavokGetLastTracedBone();
<a name="1404"></a><span class="source_macro">#if IG_SHARED	// rowan: IG extensions to havok integration
</span><a name="1405"></a>native final <span class="source_type">function</span> HavokImpartCOMImpulse( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Impulse, optional <span class="source_type">name</span> BoneName );	<span class="source_comment">// apply impulse at exact havok COM
</span><a name="1406"></a>native final <span class="source_type">function</span> HavokActivate(optional <span class="source_type">bool</span> Activate);
<a name="1407"></a><span class="source_macro">#endif
</span><a name="1408"></a><span class="source_macro">#if IG_SHARED // ckline: change bBlockHavok at runtime
</span><a name="1409"></a>native final <span class="source_type">function</span> HavokSetBlocking(<span class="source_type">bool</span> blockHavok); <span class="source_comment">// default param value is false
</span><a name="1410"></a><span class="source_macro">#endif
</span><a name="1411"></a>
<a name="1412"></a><span class="source_macro">#if IG_TRIBES3	// michaelj:  Added positional and COM Havok functions
</span><a name="1413"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HavokGetPosition( optional <span class="source_type">name</span> BoneName ); <span class="source_comment">// in Unreal units
</span><a name="1414"></a>native final <span class="source_type">function</span> HavokSetPosition( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Linear, optional <span class="source_type">name</span> BoneName ); <span class="source_comment">// in Unreal units
</span><a name="1415"></a>native final <span class="source_type">function</span> HavokSetCOM( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Offset</span>, optional <span class="source_type">name</span> BoneName ); <span class="source_comment">// in Unreal units
</span><a name="1416"></a>native final <span class="source_type">function</span> HavokImpartLinearForceAll( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Force );	<span class="source_comment">// apply linear force to each component of a ragdoll
</span><a name="1417"></a><span class="source_macro">#endif
</span><a name="1418"></a>
<a name="1419"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="1420"></a>native final <span class="source_type">function</span> HavokSetRotation(<span class="source_type"><a href="../core/object.html#Quat" class="source">quat</a></span> <span class="source_type">newRotation</span>);
<a name="1421"></a><span class="source_macro">#endif
</span><a name="1422"></a>
<a name="1423"></a><span class="source_macro">#if IG_TRIBES3  // glenn: added havok get center of mass
</span><a name="1424"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HavokGetCenterOfMass();
<a name="1425"></a><span class="source_macro">#endif
</span><a name="1426"></a>
<a name="1427"></a><span class="source_macro">#if IG_SHARED // Alex: Imparts a force for the duration of a game tick. HavokImpartForce only applies force for the
</span><a name="1428"></a>		<span class="source_comment">// duration of a Havok tick. This function can only be called once per tick per actor, previous calls are
</span><a name="1429"></a>		<span class="source_comment">// ignored otherwise. Force is actually applied in the next game tick.
</span><a name="1430"></a>native final <span class="source_type">function</span> HavokSetGameTickForce(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Force, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Position</span>);
<a name="1431"></a><span class="source_macro">#endif
</span><a name="1432"></a>
<a name="1433"></a><span class="source_comment">// If you change the state and return true for this event, you will directly
</span><a name="1434"></a><span class="source_comment">// effect the pos and rot of the given body. Note that this will cause the body to 
</span><a name="1435"></a><span class="source_comment">// effectlively teleport to that state, so make sure that that state is valid!
</span><a name="1436"></a>native final <span class="source_type">function</span> HavokGetState(out <span class="source_type"><a href="../engine/actor.html#HavokRigidBodyState" class="source">HavokRigidBodyState</a></span> state, optional <span class="source_type">name</span> BoneName);
<a name="1437"></a>event <span class="source_type">bool</span> HavokUpdateState(out <span class="source_type"><a href="../engine/actor.html#HavokRigidBodyState" class="source">HavokRigidBodyState</a></span> newState);
<a name="1438"></a>
<a name="1439"></a><span class="source_comment">// Pairwise Collision Detection filter. THIS CAUSES SLOW DOWN AT RUNTIME (LIST CHECKS IN COLLISION CALLBACKS) 
</span><a name="1440"></a><span class="source_comment">// Try to use Collision Groups in the HavokRigidBidy instead (see after these funcs):
</span><a name="1441"></a>native final <span class="source_type">function</span> HavokSlowSetCollisionEnabled( <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type">Other</span>, <span class="source_type">bool</span> Enabled, optional <span class="source_type">name</span> BoneNameA, optional <span class="source_type">name</span> BoneNameB );
<a name="1442"></a>
<a name="1443"></a><span class="source_comment">// Change the Collision Groups info for this body.
</span><a name="1444"></a><span class="source_comment">// 32768 system groups, 32 layers, 64 subpart ids. See the HavokRigidBody.uc  for more info.
</span><a name="1445"></a>native final <span class="source_type">function</span> HavokCollisionGroupChange( <span class="source_type">int</span> layer, <span class="source_type">int</span> systemGroup, <span class="source_type">int</span> subpartID, <span class="source_type">int</span>	subpartIgnoreID, optional <span class="source_type">name</span> BoneName );
<a name="1446"></a>
<a name="1447"></a><span class="source_comment">// Call this after causing HavokQuit to be called (through SetPhysics( PHYS_None ) for instance if  
</span><a name="1448"></a><span class="source_comment">// you want to reset the animation flags so that the Havok pose is no longer the one used 
</span><a name="1449"></a><span class="source_comment">// and the animation is in full control. The first PHYSICAL bone in the hierarchy will be kept 
</span><a name="1450"></a><span class="source_comment">// the same orientation (by changing the Actor pos after refreshing the pose) and the actor pos 
</span><a name="1451"></a><span class="source_comment">// will remain unchanged. Thus you should be able to predict, given an animation set,
</span><a name="1452"></a><span class="source_comment">// where the pose will be at the end of this call.
</span><a name="1453"></a>native final <span class="source_type">function</span> HavokReturnSkeletalActorToAnimationSystem(); 
<a name="1454"></a>
<a name="1455"></a><span class="source_comment">// end Unreal Havok
</span><a name="1456"></a>
<a name="1457"></a><span class="source_comment">// Timing
</span><a name="1458"></a>native final <span class="source_type">function</span> Clock(out <span class="source_type">float</span> <span class="source_type"><a href="../core/time.html" class="source">time</a></span>);
<a name="1459"></a>native final <span class="source_type">function</span> UnClock(out <span class="source_type">float</span> <span class="source_type"><a href="../core/time.html" class="source">time</a></span>);
<a name="1460"></a>
<a name="1461"></a><span class="source_comment">//=========================================================================
</span><a name="1462"></a><span class="source_comment">// Music
</span><a name="1463"></a>
<a name="1464"></a>native final <span class="source_type">function</span> <span class="source_type">int</span> PlayMusic( <span class="source_type">string</span> Song, <span class="source_type">float</span> FadeInTime );
<a name="1465"></a>native final <span class="source_type">function</span> StopMusic( <span class="source_type">int</span> SongHandle, <span class="source_type">float</span> FadeOutTime );
<a name="1466"></a>native final <span class="source_type">function</span> StopAllMusic( <span class="source_type">float</span> FadeOutTime );
<a name="1467"></a>
<a name="1468"></a>
<a name="1469"></a><span class="source_comment">//=========================================================================
</span><a name="1470"></a><span class="source_comment">// Engine notification functions.
</span><a name="1471"></a>
<a name="1472"></a><span class="source_comment">//
</span><a name="1473"></a><span class="source_comment">// Major notifications.
</span><a name="1474"></a><span class="source_comment">//
</span><a name="1475"></a><span class="source_macro">#if IG_SWAT // SWAT untriggers 'alive' and triggers 'destroyed' in specific Handlers for ReactiveWorldObjects
</span><a name="1476"></a>simulated event Destroyed();
<a name="1477"></a><span class="source_macro">#else
</span><a name="1478"></a>simulated event Destroyed()
<a name="1479"></a>{
<a name="1480"></a><span class="source_macro">#if IG_EFFECTS
</span><a name="1481"></a>	if (bNeedLifetimeEffectEvents)
<a name="1482"></a>	{
<a name="1483"></a>		UntriggerEffectEvent(<span class="source_name">'Alive'</span>);
<a name="1484"></a>	}
<a name="1485"></a><span class="source_macro">#endif
</span><a name="1486"></a>}
<a name="1487"></a><span class="source_macro">#endif
</span><a name="1488"></a>event GainedChild( <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span> );
<a name="1489"></a>event LostChild( <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span> );
<a name="1490"></a>event <span class="source_type">Tick</span>( <span class="source_type">float</span> <span class="source_type">DeltaTime</span> );
<a name="1491"></a>event PostNetReceive(); 
<a name="1492"></a>
<a name="1493"></a><span class="source_comment">//
</span><a name="1494"></a><span class="source_comment">// Triggers.
</span><a name="1495"></a><span class="source_comment">//
</span><a name="1496"></a>event <span class="source_type"><a href="../engine/trigger.html" class="source">Trigger</a></span>( <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span>, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">EventInstigator</span> );
<a name="1497"></a>event UnTrigger( <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span>, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">EventInstigator</span> );
<a name="1498"></a>event BeginEvent();
<a name="1499"></a>event EndEvent();
<a name="1500"></a>
<a name="1501"></a><span class="source_comment">//
</span><a name="1502"></a><span class="source_comment">// Physics & world interaction.
</span><a name="1503"></a><span class="source_comment">//
</span><a name="1504"></a>event <span class="source_type"><a href="../engine/timer.html" class="source">Timer</a></span>();
<a name="1505"></a>event HitWall( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HitNormal, <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> HitWall );
<a name="1506"></a>event Falling();
<a name="1507"></a>event Landed( <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HitNormal );
<a name="1508"></a>event ZoneChange( <span class="source_type"><a href="../engine/zoneinfo.html" class="source">ZoneInfo</a></span> NewZone );
<a name="1509"></a>event PhysicsVolumeChange( <span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span> <span class="source_type">NewVolume</span> );
<a name="1510"></a>event Touch( <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span> );
<a name="1511"></a>event PostTouch( <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span> ); <span class="source_comment">// called for PendingTouch actor after physics completes
</span><a name="1512"></a>event UnTouch( <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span> );
<a name="1513"></a>event Bump( <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span> );
<a name="1514"></a>event BaseChange();
<a name="1515"></a>event Attach( <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span> );
<a name="1516"></a>event Detach( <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span> );
<a name="1517"></a>event <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> SpecialHandling(<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">Other</span>);
<a name="1518"></a>event <span class="source_type">bool</span> EncroachingOn( <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type">Other</span> );
<a name="1519"></a>event EncroachedBy( <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type">Other</span> );
<a name="1520"></a>event FinishedInterpolation()
<a name="1521"></a>{
<a name="1522"></a>	bInterpolating = false;
<a name="1523"></a>}
<a name="1524"></a>
<a name="1525"></a>event EndedRotation();			<span class="source_comment">// called when rotation completes
</span><a name="1526"></a>event UsedBy( <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">user</span> ); <span class="source_comment">// called if this Actor was touching a Pawn who pressed Use
</span><a name="1527"></a>
<a name="1528"></a><span class="source_macro">#if IG_TRIBES3	// rowan: extended touch for projectiles
</span><a name="1529"></a>event ProjectileTouch( <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> TouchLocation, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> TouchNormal );
<a name="1530"></a><span class="source_macro">#endif
</span><a name="1531"></a>
<a name="1532"></a><span class="source_comment">//
</span><a name="1533"></a><span class="source_comment">// Damage and kills.
</span><a name="1534"></a><span class="source_comment">//
</span><a name="1535"></a>event KilledBy( <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> <span class="source_type">EventInstigator</span> );
<a name="1536"></a>
<a name="1537"></a><span class="source_macro">#if IG_EFFECTS  //tcohen: hooked for use by effects system
</span><a name="1538"></a>final
<a name="1539"></a><span class="source_macro">#endif
</span><a name="1540"></a><span class="source_macro">#if IG_TRIBES3 // Ryan: damage is a float       
</span><a name="1541"></a><span class="source_comment">// glenn: projectileFactor to allow different knockback for projectiles against live characters vs. ragdolls and havok objects
</span><a name="1542"></a>event TakeDamage( <span class="source_type">float</span> Damage, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">EventInstigator</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Momentum, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, optional <span class="source_type">float</span> projectileFactor)
<a name="1543"></a><span class="source_macro">#else
</span><a name="1544"></a>event TakeDamage( <span class="source_type">int</span> Damage, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">EventInstigator</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Momentum, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>)
<a name="1545"></a><span class="source_macro">#endif // IG
</span><a name="1546"></a>{
<a name="1547"></a><span class="source_comment">//#if IG_EFFECTS
</span><a name="1548"></a><span class="source_comment">//    TakeDamageEffectsHook();
</span><a name="1549"></a><span class="source_comment">//#endif
</span><a name="1550"></a>
<a name="1551"></a>    PostTakeDamage(Damage, <span class="source_type">EventInstigator</span>, <span class="source_type">HitLocation</span>, Momentum, <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, projectileFactor);
<a name="1552"></a>}
<a name="1553"></a>
<a name="1554"></a><span class="source_comment">//final function TakeDamageEffectsHook()
</span><a name="1555"></a><span class="source_comment">//{
</span><a name="1556"></a><span class="source_comment">//#if IG_EFFECTS
</span><a name="1557"></a><span class="source_comment">//    if (IsA('Pawn') && Pawn(self).Health &lt;= 0)
</span><a name="1558"></a><span class="source_comment">//        TriggerEffectEvent('DamagedDead');
</span><a name="1559"></a><span class="source_comment">//    else
</span><a name="1560"></a><span class="source_comment">//        TriggerEffectEvent('Damaged');
</span><a name="1561"></a><span class="source_comment">//#endif
</span><a name="1562"></a><span class="source_comment">//}
</span><a name="1563"></a>
<a name="1564"></a><span class="source_macro">#if IG_TRIBES3 // Ryan: damage is a float       glenn: add optional projectile factor [0,1]
</span><a name="1565"></a>event PostTakeDamage( <span class="source_type">float</span> Damage, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">EventInstigator</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Momentum, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, optional <span class="source_type">float</span> projectileFactor);
<a name="1566"></a><span class="source_macro">#else
</span><a name="1567"></a>event PostTakeDamage( <span class="source_type">int</span> Damage, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">EventInstigator</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Momentum, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>);
<a name="1568"></a><span class="source_macro">#endif // IG
</span><a name="1569"></a>
<a name="1570"></a><span class="source_comment">//
</span><a name="1571"></a><span class="source_comment">// Trace a line and see what it collides with first.
</span><a name="1572"></a><span class="source_comment">// Takes this actor's collision properties into account.
</span><a name="1573"></a><span class="source_comment">// Returns first hit actor, Level if hit level, or None if hit nothing.
</span><a name="1574"></a><span class="source_comment">//
</span><a name="1575"></a>native(<span class="source_int">277</span>) final <span class="source_type">function</span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> Trace
<a name="1576"></a>(
<a name="1577"></a>	out <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>      <span class="source_type">HitLocation</span>,
<a name="1578"></a>	out <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>      HitNormal,
<a name="1579"></a>	<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>          TraceEnd,
<a name="1580"></a>	optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> TraceStart,
<a name="1581"></a>	optional <span class="source_type">bool</span>   bTraceActors,
<a name="1582"></a>	optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Extent,
<a name="1583"></a>	optional out <span class="source_type"><a href="../engine/material.html" class="source">material</a></span> <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>
<a name="1584"></a>);
<a name="1585"></a>
<a name="1586"></a><span class="source_macro">#if IG_TRIBES3		// marc: optimized version of trace for AI
</span><a name="1587"></a>native(<span class="source_int">553</span>) final <span class="source_type">function</span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> AITrace
<a name="1588"></a>(
<a name="1589"></a>	<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>          TraceEnd,
<a name="1590"></a>	optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> TraceStart,
<a name="1591"></a>	optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Extent
<a name="1592"></a>);
<a name="1593"></a><span class="source_macro">#endif
</span><a name="1594"></a>
<a name="1595"></a><span class="source_comment">// returns true if did not hit world geometry
</span><a name="1596"></a>native(<span class="source_int">548</span>) final <span class="source_type">function</span> <span class="source_type">bool</span> FastTrace
<a name="1597"></a>(
<a name="1598"></a>	<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>          TraceEnd,
<a name="1599"></a>	optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> TraceStart
<a name="1600"></a>);
<a name="1601"></a>
<a name="1602"></a><span class="source_comment">//
</span><a name="1603"></a><span class="source_comment">// Spawn an actor. Returns an actor of the specified class, not
</span><a name="1604"></a><span class="source_comment">// of class Actor (this is hardcoded in the compiler). Returns None
</span><a name="1605"></a><span class="source_comment">// if the actor could not be spawned (either the actor wouldn't fit in
</span><a name="1606"></a><span class="source_comment">// the specified location, or the actor list is full).
</span><a name="1607"></a><span class="source_comment">// Defaults to spawning at the spawner's location.
</span><a name="1608"></a><span class="source_comment">//
</span><a name="1609"></a>native(<span class="source_int">278</span>) final <span class="source_type">function</span> <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> Spawn
<a name="1610"></a>(
<a name="1611"></a>	<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>&gt;      SpawnClass,
<a name="1612"></a>	optional <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>	  SpawnOwner,
<a name="1613"></a>	optional <span class="source_type">name</span>     SpawnTag,
<a name="1614"></a>	optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>   SpawnLocation,
<a name="1615"></a>	optional <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span>  SpawnRotation
<a name="1616"></a>);
<a name="1617"></a>
<a name="1618"></a><span class="source_comment">//
</span><a name="1619"></a><span class="source_comment">// Destroy this actor. Returns true if destroyed, false if indestructable.
</span><a name="1620"></a><span class="source_comment">// Destruction is latent. It occurs at the end of the tick.
</span><a name="1621"></a><span class="source_comment">//
</span><a name="1622"></a>native(<span class="source_int">279</span>) final <span class="source_type">function</span> <span class="source_type">bool</span> Destroy();
<a name="1623"></a>
<a name="1624"></a><span class="source_comment">// Networking - called on client when actor is torn off (bTearOff==true)
</span><a name="1625"></a>event TornOff();
<a name="1626"></a>
<a name="1627"></a><span class="source_comment">//=============================================================================
</span><a name="1628"></a><span class="source_comment">// Timing.
</span><a name="1629"></a>
<a name="1630"></a><span class="source_comment">// Causes Timer() events every NewTimerRate seconds.
</span><a name="1631"></a>native(<span class="source_int">280</span>) final <span class="source_type">function</span> SetTimer( <span class="source_type">float</span> NewTimerRate, <span class="source_type">bool</span> bLoop );
<a name="1632"></a>
<a name="1633"></a><span class="source_comment">//=============================================================================
</span><a name="1634"></a><span class="source_comment">// Sound functions.
</span><a name="1635"></a>
<a name="1636"></a><span class="source_comment">/* Play a sound effect.
<a name="1637"></a>*/</span>
<a name="1638"></a>native(<span class="source_int">264</span>) final <span class="source_type">function</span> <span class="source_type">int</span> PlaySound
<a name="1639"></a>(
<a name="1640"></a>	<span class="source_type">sound</span>				<span class="source_type">Sound</span>,
<a name="1641"></a><span class="source_macro">#if !IG_EFFECTS
</span><a name="1642"></a>	optional ESoundSlot Slot,
<a name="1643"></a><span class="source_macro">#endif
</span><a name="1644"></a>	optional <span class="source_type">float</span>		<span class="source_type"><a href="../engine/volume.html" class="source">Volume</a></span>,
<a name="1645"></a>	optional <span class="source_type">bool</span>		bNoOverride,
<a name="1646"></a><span class="source_macro">#if IG_EFFECTS
</span><a name="1647"></a>	optional <span class="source_type">float</span>		InnerRadius,
<a name="1648"></a>	optional <span class="source_type">float</span>		OuterRadius,
<a name="1649"></a><span class="source_macro">#else
</span><a name="1650"></a>	optional <span class="source_type">float</span>		<span class="source_type">Radius</span>,
<a name="1651"></a><span class="source_macro">#endif
</span><a name="1652"></a>	optional <span class="source_type">float</span>		Pitch,
<a name="1653"></a><span class="source_macro">#if IG_EFFECTS
</span><a name="1654"></a>	optional <span class="source_type">int</span>       	Flags,
<a name="1655"></a>    optional <span class="source_type">float</span>      FadeInTime,
<a name="1656"></a><span class="source_macro">#endif
</span><a name="1657"></a>	optional <span class="source_type">bool</span>		        Attenuate,
<a name="1658"></a>    optional <span class="source_type">float</span>              AISoundRadius,
<a name="1659"></a>    optional <span class="source_type">Name</span>               <span class="source_type">SoundCategory</span>
<a name="1660"></a>);
<a name="1661"></a>
<a name="1662"></a><span class="source_comment">/* play a sound effect, but don't propagate to a remote owner
<a name="1663"></a> (he is playing the sound clientside)
<a name="1664"></a> */</span>
<a name="1665"></a>native simulated final <span class="source_type">function</span> PlayOwnedSound
<a name="1666"></a>(
<a name="1667"></a>	<span class="source_type">sound</span>				<span class="source_type">Sound</span>,
<a name="1668"></a><span class="source_macro">#if !IG_EFFECTS
</span><a name="1669"></a>	optional ESoundSlot Slot,
<a name="1670"></a><span class="source_macro">#endif
</span><a name="1671"></a>	optional <span class="source_type">float</span>		<span class="source_type"><a href="../engine/volume.html" class="source">Volume</a></span>,
<a name="1672"></a>	optional <span class="source_type">bool</span>		bNoOverride,
<a name="1673"></a><span class="source_macro">#if IG_EFFECTS
</span><a name="1674"></a>	optional <span class="source_type">float</span>		InnerRadius,
<a name="1675"></a>	optional <span class="source_type">float</span>		OuterRadius,
<a name="1676"></a><span class="source_macro">#else
</span><a name="1677"></a>	optional <span class="source_type">float</span>		<span class="source_type">Radius</span>,
<a name="1678"></a><span class="source_macro">#endif
</span><a name="1679"></a>	optional <span class="source_type">float</span>		Pitch,
<a name="1680"></a><span class="source_macro">#if IG_EFFECTS
</span><a name="1681"></a>    optional <span class="source_type">int</span>        Flags,
<a name="1682"></a>    optional <span class="source_type">float</span>      FadeInTime,
<a name="1683"></a><span class="source_macro">#endif
</span><a name="1684"></a>	optional <span class="source_type">bool</span>		Attenuate
<a name="1685"></a>);
<a name="1686"></a>
<a name="1687"></a>native simulated event DemoPlaySound
<a name="1688"></a>(
<a name="1689"></a>	<span class="source_type">sound</span>				<span class="source_type">Sound</span>,
<a name="1690"></a><span class="source_macro">#if !IG_EFFECTS
</span><a name="1691"></a>	optional ESoundSlot Slot,
<a name="1692"></a><span class="source_macro">#endif
</span><a name="1693"></a>	optional <span class="source_type">float</span>		<span class="source_type"><a href="../engine/volume.html" class="source">Volume</a></span>,
<a name="1694"></a>	optional <span class="source_type">bool</span>		bNoOverride,
<a name="1695"></a><span class="source_macro">#if IG_EFFECTS
</span><a name="1696"></a>	optional <span class="source_type">float</span>		InnerRadius,
<a name="1697"></a>	optional <span class="source_type">float</span>		OuterRadius,
<a name="1698"></a><span class="source_macro">#else
</span><a name="1699"></a>	optional <span class="source_type">float</span>		<span class="source_type">Radius</span>,
<a name="1700"></a><span class="source_macro">#endif
</span><a name="1701"></a>	optional <span class="source_type">float</span>		Pitch,
<a name="1702"></a><span class="source_macro">#if IG_EFFECTS
</span><a name="1703"></a>        optional <span class="source_type">int</span>		Flags,
<a name="1704"></a>        optional <span class="source_type">float</span>      FadeInTime,
<a name="1705"></a><span class="source_macro">#endif
</span><a name="1706"></a>	optional <span class="source_type">bool</span>		Attenuate
<a name="1707"></a>);
<a name="1708"></a>
<a name="1709"></a><span class="source_comment">/* Get a sound duration.
<a name="1710"></a>*/</span>
<a name="1711"></a>native final <span class="source_type">function</span> <span class="source_type">float</span> GetSoundDuration( <span class="source_type">sound</span> <span class="source_type">Sound</span> );
<a name="1712"></a>
<a name="1713"></a><span class="source_macro">#if IG_TRIBES3	// rowan: need this extra control over sounds for mojo
</span><a name="1714"></a>native final <span class="source_type">function</span> InterruptSound(<span class="source_type">sound</span> <span class="source_type">Sound</span>);
<a name="1715"></a>native final <span class="source_type">function</span> PauseSound(<span class="source_type">sound</span> <span class="source_type">Sound</span>);
<a name="1716"></a>native final <span class="source_type">function</span> ResumeSound(<span class="source_type">sound</span> <span class="source_type">Sound</span>);
<a name="1717"></a>final <span class="source_type">function</span> PlayLoopedSound
<a name="1718"></a>(
<a name="1719"></a>	<span class="source_type">sound</span>				<span class="source_type">Sound</span>,
<a name="1720"></a>	optional <span class="source_type">float</span>		<span class="source_type"><a href="../engine/volume.html" class="source">Volume</a></span>,
<a name="1721"></a>	optional <span class="source_type">bool</span>		bNoOverride,
<a name="1722"></a>	optional <span class="source_type">float</span>		InnerRadius,
<a name="1723"></a>	optional <span class="source_type">float</span>		OuterRadius,
<a name="1724"></a>	optional <span class="source_type">float</span>		Pitch,
<a name="1725"></a>	optional <span class="source_type">int</span>       	Flags,
<a name="1726"></a>	optional <span class="source_type">bool</span>		        Attenuate,
<a name="1727"></a>    optional <span class="source_type">float</span>              AISoundRadius,
<a name="1728"></a>    optional <span class="source_type">Name</span>               <span class="source_type">SoundCategory</span>
<a name="1729"></a>)
<a name="1730"></a>{
<a name="1731"></a>	PlaySound(<span class="source_type">Sound</span>, <span class="source_type"><a href="../engine/volume.html" class="source">Volume</a></span>, bNoOverride, InnerRadius, OuterRadius, Pitch, <span class="source_int">2</span> | Flags, <span class="source_int">0</span>, Attenuate, AISoundRadius, <span class="source_type">SoundCategory</span>);
<a name="1732"></a>}
<a name="1733"></a>
<a name="1734"></a><span class="source_comment">// Paul: added PlayStream forthe purposes of playing 
</span><a name="1735"></a><span class="source_comment">// streamed sounds from the GUI
</span><a name="1736"></a>native simulated final <span class="source_type">function</span> PlayStream
<a name="1737"></a>(
<a name="1738"></a>	<span class="source_type">String</span>				StreamPath,
<a name="1739"></a>	optional <span class="source_type">float</span>		<span class="source_type"><a href="../engine/volume.html" class="source">Volume</a></span>,
<a name="1740"></a>	optional <span class="source_type">float</span>		InnerRadius,
<a name="1741"></a>	optional <span class="source_type">float</span>		OuterRadius,
<a name="1742"></a>	optional <span class="source_type">float</span>		Pitch,
<a name="1743"></a>	optional <span class="source_type">int</span>        Flags,
<a name="1744"></a>	optional <span class="source_type">float</span>      FadeInTime
<a name="1745"></a> );
<a name="1746"></a>
<a name="1747"></a><span class="source_macro">#endif
</span><a name="1748"></a>
<a name="1749"></a><span class="source_comment">//=============================================================================
</span><a name="1750"></a><span class="source_comment">// Force Feedback.
</span><a name="1751"></a><span class="source_comment">// jdf ---
</span><a name="1752"></a>native(<span class="source_int">566</span>) final <span class="source_type">function</span> PlayFeedbackEffect( <span class="source_type">String</span> <span class="source_type">EffectName</span> );
<a name="1753"></a>native(<span class="source_int">567</span>) final <span class="source_type">function</span> StopFeedbackEffect( optional <span class="source_type">String</span> <span class="source_type">EffectName</span> ); <span class="source_comment">// Pass no parameter or "" to stop all
</span><a name="1754"></a>native(<span class="source_int">568</span>) final <span class="source_type">function</span> <span class="source_type">bool</span> ForceFeedbackSupported( optional <span class="source_type">bool</span> Enable );
<a name="1755"></a><span class="source_comment">// --- jdf
</span><a name="1756"></a>
<a name="1757"></a><span class="source_comment">//=============================================================================
</span><a name="1758"></a><span class="source_comment">// AI functions.
</span><a name="1759"></a>
<a name="1760"></a><span class="source_comment">/* Inform other creatures that you've made a noise
<a name="1761"></a> they might hear (they are sent a HearNoise message)
<a name="1762"></a> Senders of MakeNoise should have an instigator if they are not pawns.
<a name="1763"></a>*/</span>
<a name="1764"></a>native(<span class="source_int">512</span>) final <span class="source_type">function</span> MakeNoise( <span class="source_type">float</span> Loudness );
<a name="1765"></a>
<a name="1766"></a><span class="source_comment">/* PlayerCanSeeMe returns true if any player (server) or the local player (standalone
<a name="1767"></a>or client) has a line of sight to actor's location.
<a name="1768"></a>*/</span>
<a name="1769"></a>native(<span class="source_int">532</span>) final <span class="source_type">function</span> <span class="source_type">bool</span> PlayerCanSeeMe();
<a name="1770"></a>
<a name="1771"></a>native final <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> SuggestFallVelocity(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Destination</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Start, <span class="source_type">float</span> MaxZ, <span class="source_type">float</span> MaxXYSpeed);
<a name="1772"></a> 
<a name="1773"></a><span class="source_comment">//=============================================================================
</span><a name="1774"></a><span class="source_comment">// Regular engine functions.
</span><a name="1775"></a>
<a name="1776"></a><span class="source_comment">// Teleportation.
</span><a name="1777"></a>event <span class="source_type">bool</span> PreTeleport( <span class="source_type"><a href="../engine/teleporter.html" class="source">Teleporter</a></span> InTeleporter );
<a name="1778"></a>event PostTeleport( <span class="source_type"><a href="../engine/teleporter.html" class="source">Teleporter</a></span> OutTeleporter );
<a name="1779"></a>
<a name="1780"></a><span class="source_comment">// Level state.
</span><a name="1781"></a>event BeginPlay();
<a name="1782"></a>
<a name="1783"></a><span class="source_comment">//========================================================================
</span><a name="1784"></a><span class="source_comment">// Disk access.
</span><a name="1785"></a>
<a name="1786"></a><span class="source_comment">// Find files.
</span><a name="1787"></a>static native(<span class="source_int">539</span>) final <span class="source_type">function</span> <span class="source_type">string</span> GetMapName( <span class="source_type">string</span> NameEnding, <span class="source_type">string</span> MapName, <span class="source_type">int</span> Dir );
<a name="1788"></a>native(<span class="source_int">545</span>) final <span class="source_type">function</span> GetNextSkin( <span class="source_type">string</span> Prefix, <span class="source_type">string</span> CurrentSkin, <span class="source_type">int</span> Dir, out <span class="source_type">string</span> SkinName, out <span class="source_type">string</span> SkinDesc );
<a name="1789"></a>native(<span class="source_int">547</span>) final <span class="source_type">function</span> <span class="source_type">string</span> GetURLMap();
<a name="1790"></a>native final <span class="source_type">function</span> <span class="source_type">string</span> GetNextInt( <span class="source_type">string</span> <span class="source_type">ClassName</span>, <span class="source_type">int</span> Num );
<a name="1791"></a>native final <span class="source_type">function</span> GetNextIntDesc( <span class="source_type">string</span> <span class="source_type">ClassName</span>, <span class="source_type">int</span> Num, out <span class="source_type">string</span> Entry, out <span class="source_type">string</span> Description );
<a name="1792"></a>native final <span class="source_type">function</span> <span class="source_type">bool</span> GetCacheEntry( <span class="source_type">int</span> Num, out <span class="source_type">string</span> <span class="source_type"><a href="../core/object.html#Guid" class="source">GUID</a></span>, out <span class="source_type">string</span> Filename );
<a name="1793"></a>native final <span class="source_type">function</span> <span class="source_type">bool</span> MoveCacheEntry( <span class="source_type">string</span> <span class="source_type"><a href="../core/object.html#Guid" class="source">GUID</a></span>, optional <span class="source_type">string</span> NewFilename );  
<a name="1794"></a>
<a name="1795"></a><span class="source_comment">//=============================================================================
</span><a name="1796"></a><span class="source_comment">// Iterator functions.
</span><a name="1797"></a>
<a name="1798"></a><span class="source_comment">// Iterator functions for dealing with sets of actors.
</span><a name="1799"></a>
<a name="1800"></a><span class="source_comment">/* AllActors() - avoid using AllActors() too often as it iterates through the whole actor list and is therefore slow
<a name="1801"></a>*/</span>
<a name="1802"></a>native(<span class="source_int">304</span>) final iterator <span class="source_type">function</span> AllActors     ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>&gt; BaseClass, out <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>, optional <span class="source_type">name</span> MatchTag );
<a name="1803"></a>
<a name="1804"></a><span class="source_comment">/* DynamicActors() only iterates through the non-static actors on the list (still relatively slow, bu
<a name="1805"></a> much better than AllActors).  This should be used in most cases and replaces AllActors in most of 
<a name="1806"></a> Epic's game code. 
<a name="1807"></a>*/</span>
<a name="1808"></a>native(<span class="source_int">313</span>) final iterator <span class="source_type">function</span> DynamicActors     ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>&gt; BaseClass, out <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>, optional <span class="source_type">name</span> MatchTag );
<a name="1809"></a>
<a name="1810"></a><span class="source_comment">/* ChildActors() returns all actors owned by this actor.  Slow like AllActors()
<a name="1811"></a>*/</span>
<a name="1812"></a>native(<span class="source_int">305</span>) final iterator <span class="source_type">function</span> ChildActors   ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>&gt; BaseClass, out <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> );
<a name="1813"></a>
<a name="1814"></a><span class="source_comment">/* BasedActors() returns all actors based on the current actor (slow, like AllActors)
<a name="1815"></a>*/</span>
<a name="1816"></a>native(<span class="source_int">306</span>) final iterator <span class="source_type">function</span> BasedActors   ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>&gt; BaseClass, out <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> );
<a name="1817"></a>
<a name="1818"></a><span class="source_comment">/* TouchingActors() returns all actors touching the current actor (fast)
<a name="1819"></a>*/</span>
<a name="1820"></a>native(<span class="source_int">307</span>) final iterator <span class="source_type">function</span> TouchingActors( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>&gt; BaseClass, out <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> );
<a name="1821"></a>
<a name="1822"></a><span class="source_comment">/* TraceActors() return all actors along a traced line.  Reasonably fast (like any trace)
<a name="1823"></a>*/</span>
<a name="1824"></a>native(<span class="source_int">309</span>) final iterator <span class="source_type">function</span> TraceActors   ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>&gt; BaseClass, out <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>, out <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HitLoc, out <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> HitNorm, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> End, optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Start, optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Extent );
<a name="1825"></a>
<a name="1826"></a><span class="source_comment">/* RadiusActors() returns all actors within a give radius.  Slow like AllActors().  Use CollidingActors() or VisibleCollidingActors() instead if desired actor types are visible
<a name="1827"></a>(not bHidden) and in the collision hash (bCollideActors is true)
<a name="1828"></a>*/</span>
<a name="1829"></a>native(<span class="source_int">310</span>) final iterator <span class="source_type">function</span> RadiusActors  ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>&gt; BaseClass, out <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>, <span class="source_type">float</span> <span class="source_type">Radius</span>, optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Loc</span> );
<a name="1830"></a>
<a name="1831"></a><span class="source_comment">/* VisibleActors() returns all visible actors within a radius.  Slow like AllActors().  Use VisibleCollidingActors() instead if desired actor types are 
<a name="1832"></a>in the collision hash (bCollideActors is true)
<a name="1833"></a>*/</span>
<a name="1834"></a>native(<span class="source_int">311</span>) final iterator <span class="source_type">function</span> VisibleActors ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>&gt; BaseClass, out <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>, optional <span class="source_type">float</span> <span class="source_type">Radius</span>, optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Loc</span> );
<a name="1835"></a>
<a name="1836"></a><span class="source_comment">/* VisibleCollidingActors() returns visible (not bHidden) colliding (bCollideActors==true) actors within a certain radius.
<a name="1837"></a>Much faster than AllActors() since it uses the collision hash
<a name="1838"></a>*/</span>
<a name="1839"></a><span class="source_macro">#if IG_SHARED // tcohen: Can iterate over VisibleCollidingActors that implement an Interface.
</span><a name="1840"></a>native(<span class="source_int">312</span>) final iterator <span class="source_type">function</span> VisibleCollidingActors ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../core/object.html" class="source">object</a></span>&gt; BaseClass, out <span class="source_type"><a href="../core/object.html" class="source">object</a></span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>, <span class="source_type">float</span> <span class="source_type">Radius</span>, optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Loc</span>, optional <span class="source_type">bool</span> bIgnoreHidden
<a name="1841"></a><span class="source_macro">#if IG_TRIBES3 // Ryan: added optional box text
</span><a name="1842"></a>															, optional <span class="source_type">bool</span> bUseBoxCheck, optional <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> checkActor, optional <span class="source_type">bool</span> bIgnoreStatic
<a name="1843"></a><span class="source_macro">#endif // IG
</span><a name="1844"></a>															);
<a name="1845"></a><span class="source_macro">#else
</span><a name="1846"></a>native(<span class="source_int">312</span>) final iterator <span class="source_type">function</span> VisibleCollidingActors ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>&gt; BaseClass, out <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>, <span class="source_type">float</span> <span class="source_type">Radius</span>, optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Loc</span>, optional <span class="source_type">bool</span> bIgnoreHidden );
<a name="1847"></a><span class="source_macro">#endif
</span><a name="1848"></a>
<a name="1849"></a><span class="source_comment">/* CollidingActors() returns colliding (bCollideActors==true) actors within a certain radius.
<a name="1850"></a>Much faster than AllActors() for reasonably small radii since it uses the collision hash
<a name="1851"></a>*/</span>
<a name="1852"></a>native(<span class="source_int">321</span>) final iterator <span class="source_type">function</span> CollidingActors ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span>&gt; BaseClass, out <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>, <span class="source_type">float</span> <span class="source_type">Radius</span>, optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Loc</span> );
<a name="1853"></a>
<a name="1854"></a><span class="source_comment">//=============================================================================
</span><a name="1855"></a><span class="source_comment">// Color functions
</span><a name="1856"></a>native(<span class="source_int">549</span>) static final operator(<span class="source_int">20</span>) <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> -     ( <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> <span class="source_type">A</span>, <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> <span class="source_type">B</span> );
<a name="1857"></a>native(<span class="source_int">550</span>) static final operator(<span class="source_int">16</span>) <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> *     ( <span class="source_type">float</span> <span class="source_type">A</span>, <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> <span class="source_type">B</span> );
<a name="1858"></a>native(<span class="source_int">551</span>) static final operator(<span class="source_int">20</span>) <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> +     ( <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> <span class="source_type">A</span>, <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> <span class="source_type">B</span> );
<a name="1859"></a>native(<span class="source_int">552</span>) static final operator(<span class="source_int">16</span>) <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> *     ( <span class="source_type"><a href="../core/object.html#Color" class="source">color</a></span> <span class="source_type">A</span>, <span class="source_type">float</span> <span class="source_type">B</span> );
<a name="1860"></a>
<a name="1861"></a><span class="source_comment">//=============================================================================
</span><a name="1862"></a><span class="source_comment">// Scripted Actor functions.
</span><a name="1863"></a>
<a name="1864"></a><span class="source_comment">/* RenderOverlays()
<a name="1865"></a>called by player's hud to request drawing of actor specific overlays onto canvas
<a name="1866"></a>*/</span>
<a name="1867"></a><span class="source_type">function</span> RenderOverlays(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>);
<a name="1868"></a>
<a name="1869"></a>
<a name="1870"></a><span class="source_comment">//=============================================================================
</span><a name="1871"></a><span class="source_comment">// Scripted Texture Support
</span><a name="1872"></a>
<a name="1873"></a><span class="source_comment">// RenderTexture
</span><a name="1874"></a><span class="source_comment">// Called when this actor is expected to render into the texture
</span><a name="1875"></a>event RenderTexture(<span class="source_type"><a href="../engine/scriptedtexture.html" class="source">ScriptedTexture</a></span> <span class="source_type">Tex</span>);
<a name="1876"></a><span class="source_macro">#if IG_EXTERNAL_CAMERAS
</span><a name="1877"></a><span class="source_comment">// Called to notify this class that the scripted texture is being rendered, client has a chance to modify revision in this call to
</span><a name="1878"></a><span class="source_comment">// receive a RenderTexture call when it's time.
</span><a name="1879"></a>event PreScriptedTextureRendered(<span class="source_type"><a href="../engine/scriptedtexture.html" class="source">ScriptedTexture</a></span> <span class="source_type">Tex</span>);
<a name="1880"></a><span class="source_macro">#endif
</span><a name="1881"></a>
<a name="1882"></a><span class="source_comment">//
</span><a name="1883"></a><span class="source_comment">// Called immediately before gameplay begins.
</span><a name="1884"></a><span class="source_comment">//
</span><a name="1885"></a>event PreBeginPlay()
<a name="1886"></a>{
<a name="1887"></a><span class="source_macro">#if !IG_TRIBES3 // dbeswick: This method is too unreliable for our game. We need to move this to SpawnActor native code.
</span><a name="1888"></a>	<span class="source_comment">// Handle autodestruction if desired.
</span><a name="1889"></a>	if( !bGameRelevant && (<span class="source_type">Level</span>.NetMode != NM_Client) && !<span class="source_type">Level</span>.Game.BaseMutator.CheckRelevance(Self) )
<a name="1890"></a>		Destroy();
<a name="1891"></a><span class="source_macro">#endif
</span><a name="1892"></a>}
<a name="1893"></a>
<a name="1894"></a><span class="source_comment">//
</span><a name="1895"></a><span class="source_comment">// Broadcast a localized message to all players.
</span><a name="1896"></a><span class="source_comment">// Most message deal with 0 to 2 related PRIs.
</span><a name="1897"></a><span class="source_comment">// The LocalMessage class defines how the PRI's and optional actor are used.
</span><a name="1898"></a><span class="source_comment">//
</span><a name="1899"></a>event BroadcastLocalizedMessage( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/localmessage.html" class="source">LocalMessage</a></span>&gt; MessageClass, optional <span class="source_type">int</span> Switch, optional <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> RelatedPRI_1, optional <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> RelatedPRI_2, optional Core.<span class="source_type"><a href="../core/object.html" class="source">Object</a></span> <span class="source_type">OptionalObject</span> )
<a name="1900"></a>{
<a name="1901"></a>	<span class="source_type">Level</span>.Game.BroadcastLocalized( self, MessageClass, Switch, RelatedPRI_1, RelatedPRI_2, <span class="source_type">OptionalObject</span> );
<a name="1902"></a>}
<a name="1903"></a>
<a name="1904"></a><span class="source_comment">// Called immediately after gameplay begins.
</span><a name="1905"></a><span class="source_comment">//
</span><a name="1906"></a>simulated event PostBeginPlay()
<a name="1907"></a>{
<a name="1908"></a><span class="source_macro">#if IG_EFFECTS
</span><a name="1909"></a>    <span class="source_comment">//Please Note:
</span><a name="1910"></a>    <span class="source_comment">//Actors that are spawned at zero, and whose real location are calculated later
</span><a name="1911"></a>    <span class="source_comment">//  (eg. immediately attached to something else, like attached visual effects,)
</span><a name="1912"></a>    <span class="source_comment">//  should TriggerEffectEvent('Spawned') after their location is set, or they
</span><a name="1913"></a>    <span class="source_comment">//  are attached to their host.
</span><a name="1914"></a>    if (bNeedLifetimeEffectEvents && Location != vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">0</span>))
<a name="1915"></a>    {
<a name="1916"></a>        TriggerEffectEvent(<span class="source_name">'Spawned'</span>);
<a name="1917"></a>        TriggerEffectEvent(<span class="source_name">'Alive'</span>);
<a name="1918"></a>    }
<a name="1919"></a><span class="source_macro">#endif
</span><a name="1920"></a>}
<a name="1921"></a>
<a name="1922"></a><span class="source_comment">// Called after PostBeginPlay.
</span><a name="1923"></a><span class="source_comment">//
</span><a name="1924"></a>simulated event SetInitialState()
<a name="1925"></a>{
<a name="1926"></a>	bScriptInitialized = true;
<a name="1927"></a>	if( InitialState!=<span class="source_name">''</span> )
<a name="1928"></a>		GotoState( InitialState );
<a name="1929"></a>	else
<a name="1930"></a>		GotoState( <span class="source_name">'Auto'</span> );
<a name="1931"></a>}
<a name="1932"></a>
<a name="1933"></a><span class="source_comment">// called after PostBeginPlay.  On a net client, PostNetBeginPlay() is spawned after replicated variables have been initialized to
</span><a name="1934"></a><span class="source_comment">// their replicated values
</span><a name="1935"></a>event PostNetBeginPlay();
<a name="1936"></a>
<a name="1937"></a><span class="source_macro">#if IG_SHARED // karl: called after savegame is loaded
</span><a name="1938"></a>event PostLoadGame();
<a name="1939"></a><span class="source_macro">#endif
</span><a name="1940"></a>
<a name="1941"></a>simulated event UpdatePrecacheRenderData()
<a name="1942"></a>{
<a name="1943"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="1944"></a>	for ( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;Skins.Length; <span class="source_type">i</span>++ )
<a name="1945"></a>		<span class="source_type">Level</span>.AddPrecacheMaterial(Skins[<span class="source_type">i</span>]);
<a name="1946"></a>
<a name="1947"></a>	if ( (DrawType == DT_StaticMesh) && !bStatic && !bNoDelete )
<a name="1948"></a>		<span class="source_type">Level</span>.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span>);
<a name="1949"></a>
<a name="1950"></a>	if ( DrawType == DT_Mesh && <span class="source_type">Mesh</span> != None)
<a name="1951"></a>		<span class="source_type">Level</span>.AddPrecacheMesh(<span class="source_type">Mesh</span>);
<a name="1952"></a>}
<a name="1953"></a>
<a name="1954"></a><span class="source_comment">/* HurtRadius()
<a name="1955"></a> Hurt locally authoritative actors within the radius.
<a name="1956"></a>*/</span>
<a name="1957"></a>simulated <span class="source_type">function</span> HurtRadius( <span class="source_type">float</span> DamageAmount, <span class="source_type">float</span> DamageRadius, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, <span class="source_type">float</span> Momentum, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>, optional <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> directHitActor, optional <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> <span class="source_type">directHitDirection</span> )
<a name="1958"></a>{
<a name="1959"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> victim;
<a name="1960"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="1961"></a>	local array&lt;<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span>&gt; hurtRadiusFamilyMembers;
<a name="1962"></a>	local <span class="source_type">int</span> <span class="source_type">index</span>;
<a name="1963"></a>	local <span class="source_type">bool</span> found;
<a name="1964"></a><span class="source_macro">#else
</span><a name="1965"></a>	local <span class="source_type">float</span> falloff;
<a name="1966"></a>	local <span class="source_type">float</span> Distance;
<a name="1967"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">position</span>;
<a name="1968"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> direction;
<a name="1969"></a><span class="source_macro">#endif
</span><a name="1970"></a>	
<a name="1971"></a>	if( bHurtEntry )
<a name="1972"></a>		return;
<a name="1973"></a>
<a name="1974"></a>	bHurtEntry = true;
<a name="1975"></a>	
<a name="1976"></a>	foreach VisibleCollidingActors(<span class="source_type">class</span> <span class="source_name">'Actor'</span>, victim, DamageRadius, <span class="source_type">HitLocation</span>, true, true, self, true)
<a name="1977"></a>	{
<a name="1978"></a>		if ((victim != self) && (Victim.Role==ROLE_Authority))
<a name="1979"></a>		{
<a name="1980"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="1981"></a>
<a name="1982"></a>			<span class="source_comment">// Do not apply damage to hurt radius family members. Instead cache the closest member of each family and apply damage after.
</span><a name="1983"></a>			if (victim.getHurtRadiusParent() != None)
<a name="1984"></a>			{
<a name="1985"></a>				found = false;
<a name="1986"></a>				for (<span class="source_type">index</span> = <span class="source_int">0</span>; <span class="source_type">index</span> &lt; hurtRadiusFamilyMembers.length; ++<span class="source_type">index</span>)
<a name="1987"></a>				{
<a name="1988"></a>					if (hurtRadiusFamilyMembers[<span class="source_type">index</span>].getHurtRadiusParent() == victim.getHurtRadiusParent())
<a name="1989"></a>					{
<a name="1990"></a>						<span class="source_comment">// replace existing one with this one if closer
</span><a name="1991"></a>						if (VSizeSquared(<span class="source_type">HitLocation</span> - victim.unifiedGetPosition()) &lt;
<a name="1992"></a>								VSizeSquared(<span class="source_type">HitLocation</span> - hurtRadiusFamilyMembers[<span class="source_type">index</span>].unifiedGetPosition()))
<a name="1993"></a>						{
<a name="1994"></a>							hurtRadiusFamilyMembers[<span class="source_type">index</span>] = victim;
<a name="1995"></a>						}
<a name="1996"></a>						found = true;
<a name="1997"></a>						break;
<a name="1998"></a>					}
<a name="1999"></a>				}
<a name="2000"></a>
<a name="2001"></a>				if (!found)
<a name="2002"></a>				{
<a name="2003"></a>					<span class="source_comment">// new family so add it
</span><a name="2004"></a>					hurtRadiusFamilyMembers.length = <span class="source_int">1</span> + hurtRadiusFamilyMembers.length;
<a name="2005"></a>					hurtRadiusFamilyMembers[hurtRadiusFamilyMembers.length - <span class="source_int">1</span>] = victim;
<a name="2006"></a>				}
<a name="2007"></a>				continue;
<a name="2008"></a>			}
<a name="2009"></a>
<a name="2010"></a>			processHurtRadiusVictim(victim, DamageAmount, DamageRadius, <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, Momentum, <span class="source_type">HitLocation</span>, directHitActor, <span class="source_type">directHitDirection</span>);
<a name="2011"></a><span class="source_macro">#else
</span><a name="2012"></a>		    if (victim!=directHitActor)
<a name="2013"></a>			{
<a name="2014"></a>		        <span class="source_comment">// indirect hit: radial splash damage and knockback
</span><a name="2015"></a>		        
<a name="2016"></a>		        <span class="source_comment">//log("indirect hit");
</span><a name="2017"></a>    		
<a name="2018"></a>                <span class="source_type">position</span> = victim.unifiedGetPosition();         <span class="source_comment">// glenn: works for havok objects (somewhat)
</span><a name="2019"></a>    		
<a name="2020"></a>			    direction = <span class="source_type">position</span> - <span class="source_type">HitLocation</span>;
<a name="2021"></a>			    Distance = FMax(<span class="source_int">1</span>,VSize(direction));
<a name="2022"></a>			    direction = direction / Distance; 
<a name="2023"></a>
<a name="2024"></a>                <span class="source_comment">// note: simple radial falloff to object center
</span><a name="2025"></a>                <span class="source_comment">// long thin objects may need some special attention here!
</span><a name="2026"></a>
<a name="2027"></a>                <span class="source_comment">// what you really want is to find the nearest feature on the object
</span><a name="2028"></a>                <span class="source_comment">// and use that distance for the falloff - not the distance to the object center!
</span><a name="2029"></a>
<a name="2030"></a>			    falloff = <span class="source_int">1.0</span> - FClamp((Distance - victim.CollisionRadius) / DamageRadius, <span class="source_int">0.0</span>, <span class="source_int">1.0</span>);
<a name="2031"></a>
<a name="2032"></a>			    Victim.TakeDamage
<a name="2033"></a>				(
<a name="2034"></a>				    falloff * DamageAmount,
<a name="2035"></a>					Instigator, 
<a name="2036"></a>				    <span class="source_type">HitLocation</span>,                            <span class="source_comment">// glenn: note changed here because upright cylinder approximation makes *very* little sense for non-characters
</span><a name="2037"></a>				    (falloff * Momentum * direction),
<a name="2038"></a>					<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>
<a name="2039"></a>				);
<a name="2040"></a>			} 
<a name="2041"></a>		    else
<a name="2042"></a>		{
<a name="2043"></a>		        <span class="source_comment">// direct hit: full damage and knockback in specified direction
</span><a name="2044"></a>		        
<a name="2045"></a>		        <span class="source_comment">//log("direct hit: "$directHitActor.name$" -&gt; "$directHitDirection);
</span><a name="2046"></a>		        
<a name="2047"></a>			    Victim.TakeDamage
<a name="2048"></a>			(
<a name="2049"></a>				    DamageAmount,
<a name="2050"></a>				Instigator, 
<a name="2051"></a>				    <span class="source_type">HitLocation</span>,
<a name="2052"></a>				    <span class="source_type">directHitDirection</span> * Momentum,
<a name="2053"></a>				<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>
<a name="2054"></a>			);
<a name="2055"></a>		} 
<a name="2056"></a><span class="source_macro">#endif
</span><a name="2057"></a>		}
<a name="2058"></a>	}
<a name="2059"></a>
<a name="2060"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="2061"></a>	<span class="source_comment">// apply damage to hurt radius families
</span><a name="2062"></a>	for (<span class="source_type">index</span> = <span class="source_int">0</span>; <span class="source_type">index</span> &lt; hurtRadiusFamilyMembers.length; ++<span class="source_type">index</span>)
<a name="2063"></a>	{
<a name="2064"></a>		processHurtRadiusVictim(hurtRadiusFamilyMembers[<span class="source_type">index</span>], DamageAmount, DamageRadius, <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, Momentum, <span class="source_type">HitLocation</span>, directHitActor, <span class="source_type">directHitDirection</span>);
<a name="2065"></a>	}
<a name="2066"></a><span class="source_macro">#endif
</span><a name="2067"></a>
<a name="2068"></a>	bHurtEntry = false;
<a name="2069"></a>}
<a name="2070"></a>
<a name="2071"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="2072"></a>simulated final <span class="source_type">function</span> processHurtRadiusVictim(<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> victim, <span class="source_type">float</span> DamageAmount, <span class="source_type">float</span> DamageRadius, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>, <span class="source_type">float</span> Momentum, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>, optional <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> directHitActor, optional <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> <span class="source_type">directHitDirection</span>)
<a name="2073"></a>{
<a name="2074"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">position</span>;
<a name="2075"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> direction;
<a name="2076"></a>	local <span class="source_type">float</span> Distance;
<a name="2077"></a>	local <span class="source_type">float</span> falloff;
<a name="2078"></a>
<a name="2079"></a>	if (victim!=directHitActor)
<a name="2080"></a>	{
<a name="2081"></a>		<span class="source_comment">// indirect hit: radial splash damage and knockback
</span><a name="2082"></a>
<a name="2083"></a>		<span class="source_comment">//log("indirect hit");
</span><a name="2084"></a>
<a name="2085"></a>		<span class="source_comment">// if in a hurt radius family use position of parent for damage calculations
</span><a name="2086"></a>		if (victim.getHurtRadiusParent() == None)
<a name="2087"></a>			<span class="source_type">position</span> = victim.unifiedGetPosition();         <span class="source_comment">// glenn: works for havok objects (somewhat)
</span><a name="2088"></a>		else
<a name="2089"></a>			<span class="source_type">position</span> = victim.getHurtRadiusParent().unifiedGetPosition();  
<a name="2090"></a>
<a name="2091"></a>		direction = <span class="source_type">position</span> - <span class="source_type">HitLocation</span>;
<a name="2092"></a>		Distance = FMax(<span class="source_int">1</span>,VSize(direction));
<a name="2093"></a>		direction = direction / Distance; 
<a name="2094"></a>
<a name="2095"></a>		<span class="source_comment">// note: simple radial falloff to object center
</span><a name="2096"></a>		<span class="source_comment">// long thin objects may need some special attention here!
</span><a name="2097"></a>
<a name="2098"></a>		<span class="source_comment">// what you really want is to find the nearest feature on the object
</span><a name="2099"></a>		<span class="source_comment">// and use that distance for the falloff - not the distance to the object center!
</span><a name="2100"></a>
<a name="2101"></a>		falloff = <span class="source_int">1.0</span> - FClamp((Distance - victim.getReceiveDamageRadius()) / DamageRadius, <span class="source_int">0.0</span>, <span class="source_int">1.0</span>);
<a name="2102"></a>
<a name="2103"></a>		Victim.TakeDamage
<a name="2104"></a>			(
<a name="2105"></a>			falloff * DamageAmount,
<a name="2106"></a>			Instigator, 
<a name="2107"></a>			<span class="source_type">HitLocation</span>,                            <span class="source_comment">// glenn: note changed here because upright cylinder approximation makes *very* little sense for non-characters
</span><a name="2108"></a>			(falloff * Momentum * direction),
<a name="2109"></a>			<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>
<a name="2110"></a>			);
<a name="2111"></a>	} 
<a name="2112"></a>	else
<a name="2113"></a>	{
<a name="2114"></a>		<span class="source_comment">// direct hit: full damage and knockback in specified direction
</span><a name="2115"></a>
<a name="2116"></a>		<span class="source_comment">//log("direct hit: "$directHitActor.name$" -&gt; "$directHitDirection);
</span><a name="2117"></a>
<a name="2118"></a>		Victim.TakeDamage
<a name="2119"></a>			(
<a name="2120"></a>			DamageAmount,
<a name="2121"></a>			Instigator, 
<a name="2122"></a>			<span class="source_type">HitLocation</span>,
<a name="2123"></a>			<span class="source_type">directHitDirection</span> * Momentum,
<a name="2124"></a>			<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>
<a name="2125"></a>			);
<a name="2126"></a>	} 
<a name="2127"></a>}
<a name="2128"></a>
<a name="2129"></a><span class="source_comment">// Return parent of hurt radius family. None implies this Actor is not a part of a hurt radius family.
</span><a name="2130"></a>simulated <span class="source_type">function</span> <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> getHurtRadiusParent()
<a name="2131"></a>{
<a name="2132"></a>	return None;
<a name="2133"></a>}
<a name="2134"></a>
<a name="2135"></a>simulated <span class="source_type">function</span> <span class="source_type">float</span> getReceiveDamageRadius()
<a name="2136"></a>{
<a name="2137"></a>	return CollisionRadius;
<a name="2138"></a>}
<a name="2139"></a>
<a name="2140"></a><span class="source_macro">#endif
</span><a name="2141"></a>
<a name="2142"></a><span class="source_comment">// Called when carried onto a new level, before AcceptInventory.
</span><a name="2143"></a><span class="source_comment">//
</span><a name="2144"></a>event TravelPreAccept();
<a name="2145"></a>
<a name="2146"></a><span class="source_comment">// Called when carried into a new level, after AcceptInventory.
</span><a name="2147"></a><span class="source_comment">//
</span><a name="2148"></a>event TravelPostAccept();
<a name="2149"></a>
<a name="2150"></a><span class="source_comment">// Called by PlayerController when this actor becomes its ViewTarget.
</span><a name="2151"></a><span class="source_comment">//
</span><a name="2152"></a><span class="source_type">function</span> BecomeViewTarget();
<a name="2153"></a>
<a name="2154"></a><span class="source_comment">// Returns the string representation of the name of an object without the package
</span><a name="2155"></a><span class="source_comment">// prefixes.
</span><a name="2156"></a><span class="source_comment">//
</span><a name="2157"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="2158"></a>simulated <span class="source_type">function</span> <span class="source_type">String</span> GetItemName( <span class="source_type">string</span> <span class="source_type">FullName</span> )
<a name="2159"></a><span class="source_macro">#else
</span><a name="2160"></a><span class="source_type">function</span> <span class="source_type">String</span> GetItemName( <span class="source_type">string</span> <span class="source_type">FullName</span> )
<a name="2161"></a><span class="source_macro">#endif
</span><a name="2162"></a>{
<a name="2163"></a>	local <span class="source_type">int</span> pos;
<a name="2164"></a>
<a name="2165"></a>	pos = InStr(<span class="source_type">FullName</span>, <span class="source_string">"."</span>);
<a name="2166"></a>	While ( pos != -<span class="source_int">1</span> )
<a name="2167"></a>	{
<a name="2168"></a>		<span class="source_type">FullName</span> = Right(<span class="source_type">FullName</span>, <span class="source_type">Len</span>(<span class="source_type">FullName</span>) - pos - <span class="source_int">1</span>);
<a name="2169"></a>		pos = InStr(<span class="source_type">FullName</span>, <span class="source_string">"."</span>);
<a name="2170"></a>	}
<a name="2171"></a>
<a name="2172"></a>	return <span class="source_type">FullName</span>;
<a name="2173"></a>}
<a name="2174"></a>
<a name="2175"></a><span class="source_comment">// Returns the human readable string representation of an object.
</span><a name="2176"></a><span class="source_comment">//
</span><a name="2177"></a>simulated <span class="source_type">function</span> <span class="source_type">String</span> GetHumanReadableName()
<a name="2178"></a>{
<a name="2179"></a>	return GetItemName(<span class="source_type">string</span>(<span class="source_type">class</span>));
<a name="2180"></a>}
<a name="2181"></a>
<a name="2182"></a>final <span class="source_type">function</span> ReplaceText(out <span class="source_type">string</span> <span class="source_type">Text</span>, <span class="source_type">string</span> Replace, <span class="source_type">string</span> With)
<a name="2183"></a>{
<a name="2184"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="2185"></a>	local <span class="source_type">string</span> Input;
<a name="2186"></a>		
<a name="2187"></a>	Input = <span class="source_type">Text</span>;
<a name="2188"></a>	<span class="source_type">Text</span> = <span class="source_string">""</span>;
<a name="2189"></a>	<span class="source_type">i</span> = InStr(Input, Replace);
<a name="2190"></a>	while(<span class="source_type">i</span> != -<span class="source_int">1</span>)
<a name="2191"></a>	{	
<a name="2192"></a>		<span class="source_type">Text</span> = <span class="source_type">Text</span> $ Left(Input, <span class="source_type">i</span>) $ With;
<a name="2193"></a>		Input = Mid(Input, <span class="source_type">i</span> + <span class="source_type">Len</span>(Replace));	
<a name="2194"></a>		<span class="source_type">i</span> = InStr(Input, Replace);
<a name="2195"></a>	}
<a name="2196"></a>	<span class="source_type">Text</span> = <span class="source_type">Text</span> $ Input;
<a name="2197"></a>}
<a name="2198"></a>
<a name="2199"></a><span class="source_macro">#if IG_TRIBES3 // Paul: added accessor to get RadarInfo from a sensed actor
</span><a name="2200"></a>simulated <span class="source_type">function</span> <span class="source_type">class</span> GetRadarInfoClass()
<a name="2201"></a>{
<a name="2202"></a>	return <span class="source_type">class</span>(DynamicLoadObject(<span class="source_string">"Gameplay.RadarInfo"</span>, <span class="source_type">class</span><span class="source_name">'Class'</span>));
<a name="2203"></a>}
<a name="2204"></a><span class="source_macro">#endif
</span><a name="2205"></a>
<a name="2206"></a><span class="source_comment">// Set the display properties of an actor.  By setting them through this function, it allows
</span><a name="2207"></a><span class="source_comment">// the actor to modify other components (such as a Pawn's weapon) or to adjust the result
</span><a name="2208"></a><span class="source_comment">// based on other factors (such as a Pawn's other inventory wanting to affect the result)
</span><a name="2209"></a><span class="source_type">function</span> SetDisplayProperties(<span class="source_type"><a href="../engine/actor.html#ERenderStyle" class="source">ERenderStyle</a></span> NewStyle, <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span> NewTexture, <span class="source_type">bool</span> <span class="source_type">bLighting</span> )
<a name="2210"></a>{
<a name="2211"></a>	Style = NewStyle;
<a name="2212"></a>	<span class="source_type"><a href="../engine/texture.html" class="source">texture</a></span> = NewTexture;
<a name="2213"></a>	bUnlit = <span class="source_type">bLighting</span>;
<a name="2214"></a>}
<a name="2215"></a>
<a name="2216"></a><span class="source_type">function</span> SetDefaultDisplayProperties()
<a name="2217"></a>{
<a name="2218"></a>	Style = Default.Style;
<a name="2219"></a>	<span class="source_type"><a href="../engine/texture.html" class="source">texture</a></span> = Default.<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span>;
<a name="2220"></a>	bUnlit = Default.bUnlit;
<a name="2221"></a>}
<a name="2222"></a>
<a name="2223"></a><span class="source_comment">// Get localized message string associated with this actor
</span><a name="2224"></a><span class="source_macro">#if IG_TRIBES3 // david: more flexibility in LocalMessage system, uses Objects instead of PlayerReplicationInfos
</span><a name="2225"></a>static <span class="source_type">function</span> <span class="source_type">string</span> GetLocalString(
<a name="2226"></a>	optional <span class="source_type">int</span> Switch,
<a name="2227"></a>	optional Core.<span class="source_type"><a href="../core/object.html" class="source">Object</a></span> <span class="source_type">Related1</span>, 
<a name="2228"></a>	optional Core.<span class="source_type"><a href="../core/object.html" class="source">Object</a></span> <span class="source_type">Related2</span>
<a name="2229"></a>	)
<a name="2230"></a><span class="source_macro">#else
</span><a name="2231"></a>static <span class="source_type">function</span> <span class="source_type">string</span> GetLocalString(
<a name="2232"></a>	optional <span class="source_type">int</span> Switch,
<a name="2233"></a>	optional <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> RelatedPRI_1, 
<a name="2234"></a>	optional <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> RelatedPRI_2
<a name="2235"></a>	)
<a name="2236"></a><span class="source_macro">#endif
</span><a name="2237"></a>{
<a name="2238"></a>	return <span class="source_string">""</span>;
<a name="2239"></a>}
<a name="2240"></a>
<a name="2241"></a><span class="source_type">function</span> MatchStarting(); <span class="source_comment">// called when gameplay actually starts
</span><a name="2242"></a><span class="source_type">function</span> SetGRI(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span> GRI);
<a name="2243"></a>
<a name="2244"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="2245"></a>simulated <span class="source_type">function</span> <span class="source_type">String</span> GetDebugName()
<a name="2246"></a><span class="source_macro">#else
</span><a name="2247"></a><span class="source_type">function</span> <span class="source_type">String</span> GetDebugName()
<a name="2248"></a><span class="source_macro">#endif
</span><a name="2249"></a>{
<a name="2250"></a>	return GetItemName(<span class="source_type">string</span>(self));
<a name="2251"></a>}
<a name="2252"></a>
<a name="2253"></a><span class="source_comment">/* DisplayDebug()
<a name="2254"></a>list important actor variable on canvas.  HUD will call DisplayDebug() on the current ViewTarget when
<a name="2255"></a>the ShowDebug exec is used
<a name="2256"></a>*/</span>
<a name="2257"></a>simulated <span class="source_type">function</span> DisplayDebug(<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span> <span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>, out <span class="source_type">float</span> YL, out <span class="source_type">float</span> YPos)
<a name="2258"></a>{
<a name="2259"></a>	local <span class="source_type">string</span> <span class="source_type">T</span>;
<a name="2260"></a>	local <span class="source_type">float</span> XL;
<a name="2261"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="2262"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">A</span>;
<a name="2263"></a>	local <span class="source_type">name</span> anim;
<a name="2264"></a>	local <span class="source_type">float</span> frame,rate;
<a name="2265"></a>
<a name="2266"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.Style = <span class="source_type"><a href="../engine/actor.html#ERenderStyle" class="source">ERenderStyle</a></span>.STY_Normal;
<a name="2267"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.StrLen(<span class="source_string">"TEST"</span>, XL, YL);
<a name="2268"></a>	YPos = YPos + YL;
<a name="2269"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2270"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetDrawColor(<span class="source_int">255</span>,<span class="source_int">0</span>,<span class="source_int">0</span>);
<a name="2271"></a>	<span class="source_type">T</span> = GetDebugName();
<a name="2272"></a>	if ( bDeleteMe )
<a name="2273"></a>		<span class="source_type">T</span> = <span class="source_type">T</span>$<span class="source_string">" DELETED (bDeleteMe == true)"</span>;
<a name="2274"></a>
<a name="2275"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_type">T</span>, false);
<a name="2276"></a>	YPos += YL;
<a name="2277"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2278"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetDrawColor(<span class="source_int">255</span>,<span class="source_int">255</span>,<span class="source_int">255</span>);
<a name="2279"></a>
<a name="2280"></a>	if ( <span class="source_type">Level</span>.NetMode != NM_Standalone )
<a name="2281"></a>	{
<a name="2282"></a>		<span class="source_comment">// networking attributes
</span><a name="2283"></a>		<span class="source_type">T</span> = <span class="source_string">"ROLE "</span>;
<a name="2284"></a>		Switch(Role)
<a name="2285"></a>		{
<a name="2286"></a>			case ROLE_None: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"None"</span>; break;
<a name="2287"></a>			case ROLE_DumbProxy: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"DumbProxy"</span>; break;
<a name="2288"></a>			case ROLE_SimulatedProxy: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"SimulatedProxy"</span>; break;
<a name="2289"></a>			case ROLE_AutonomousProxy: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"AutonomousProxy"</span>; break;
<a name="2290"></a>			case ROLE_Authority: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Authority"</span>; break;
<a name="2291"></a>		}
<a name="2292"></a>		<span class="source_type">T</span> = <span class="source_type">T</span>$<span class="source_string">" REMOTE ROLE "</span>;
<a name="2293"></a>		Switch(RemoteRole)
<a name="2294"></a>		{
<a name="2295"></a>			case ROLE_None: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"None"</span>; break;
<a name="2296"></a>			case ROLE_DumbProxy: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"DumbProxy"</span>; break;
<a name="2297"></a>			case ROLE_SimulatedProxy: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"SimulatedProxy"</span>; break;
<a name="2298"></a>			case ROLE_AutonomousProxy: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"AutonomousProxy"</span>; break;
<a name="2299"></a>			case ROLE_Authority: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Authority"</span>; break;
<a name="2300"></a>		}
<a name="2301"></a>		if ( bTearOff )
<a name="2302"></a>			<span class="source_type">T</span> = <span class="source_type">T</span>$<span class="source_string">" Tear Off"</span>;
<a name="2303"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_type">T</span>, false);
<a name="2304"></a>		YPos += YL;
<a name="2305"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2306"></a>	}
<a name="2307"></a>	<span class="source_type">T</span> = <span class="source_string">"Physics "</span>;
<a name="2308"></a>
<a name="2309"></a>	Switch(Physics)
<a name="2310"></a>	{
<a name="2311"></a>		case PHYS_None: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"None"</span>; break;
<a name="2312"></a>		case PHYS_Walking: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Walking"</span>; break;
<a name="2313"></a>		case PHYS_Falling: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Falling"</span>; break;
<a name="2314"></a>		case PHYS_Swimming: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Swimming"</span>; break;
<a name="2315"></a>		case PHYS_Flying: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Flying"</span>; break;
<a name="2316"></a>		case PHYS_Rotating: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Rotating"</span>; break;
<a name="2317"></a>		case PHYS_Projectile: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Projectile"</span>; break;
<a name="2318"></a>		case PHYS_Interpolating: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Interpolating"</span>; break;
<a name="2319"></a>		case PHYS_MovingBrush: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"MovingBrush"</span>; break;
<a name="2320"></a>		case PHYS_Spider: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Spider"</span>; break;
<a name="2321"></a>		case PHYS_Trailer: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Trailer"</span>; break;
<a name="2322"></a>		case PHYS_Ladder: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Ladder"</span>; break;
<a name="2323"></a><span class="source_macro">#if IG_TRIBES3_MOVEMENT
</span><a name="2324"></a>		case PHYS_Movement: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Movement"</span>; break;
<a name="2325"></a><span class="source_macro">#endif
</span><a name="2326"></a><span class="source_macro">#if IG_SHARED // Alex:
</span><a name="2327"></a>		case PHYS_Havok: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Havok"</span>; break;
<a name="2328"></a><span class="source_macro">#endif
</span><a name="2329"></a>	}
<a name="2330"></a>	<span class="source_type">T</span> = <span class="source_type">T</span>$<span class="source_string">" in physicsvolume "</span>$GetItemName(<span class="source_type">string</span>(<span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span>))$<span class="source_string">" on base "</span>$GetItemName(<span class="source_type">string</span>(Base));
<a name="2331"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="2332"></a>	if (bHardAttach)
<a name="2333"></a>		<span class="source_type">T</span> = <span class="source_type">T</span>$<span class="source_string">" (Hard Attach) "</span>;
<a name="2334"></a><span class="source_macro">#endif
</span><a name="2335"></a>	if ( bBounce )
<a name="2336"></a>		<span class="source_type">T</span> = <span class="source_type">T</span>$<span class="source_string">" - will bounce"</span>;
<a name="2337"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_type">T</span>, false);
<a name="2338"></a>	YPos += YL;
<a name="2339"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2340"></a>
<a name="2341"></a><span class="source_macro">#if IG_TRIBES3 // Alex:
</span><a name="2342"></a>	if (bHardAttach)
<a name="2343"></a>	{
<a name="2344"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Relative Location: "</span>$RelativeLocation$<span class="source_string">" Relative Rotation: "</span>$RelativeRotation, false);
<a name="2345"></a>		YPos += YL;
<a name="2346"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2347"></a>	}
<a name="2348"></a><span class="source_macro">#endif
</span><a name="2349"></a>
<a name="2350"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Location: "</span>$Location$<span class="source_string">" Rotation "</span>$Rotation, false);
<a name="2351"></a>	YPos += YL;
<a name="2352"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2353"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Velocity: "</span>$Velocity$<span class="source_string">" Speed "</span>$VSize(Velocity), false);
<a name="2354"></a>	YPos += YL;
<a name="2355"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2356"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Acceleration: "</span>$Acceleration, false);
<a name="2357"></a>	YPos += YL;
<a name="2358"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2359"></a>	
<a name="2360"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawColor.<span class="source_type">B</span> = <span class="source_int">0</span>;
<a name="2361"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Collision Radius "</span>$CollisionRadius$<span class="source_string">" Height "</span>$CollisionHeight);
<a name="2362"></a>	YPos += YL;
<a name="2363"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2364"></a>
<a name="2365"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Collides with Actors "</span>$bCollideActors$<span class="source_string">", world "</span>$bCollideWorld$<span class="source_string">", proj. target "</span>$bProjTarget);
<a name="2366"></a>	YPos += YL;
<a name="2367"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2368"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Blocks Actors "</span>$bBlockActors$<span class="source_string">", players "</span>$bBlockPlayers);
<a name="2369"></a>	YPos += YL;
<a name="2370"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2371"></a>
<a name="2372"></a>	<span class="source_type">T</span> = <span class="source_string">"Touching "</span>;
<a name="2373"></a>	ForEach TouchingActors(<span class="source_type">class</span><span class="source_name">'Actor'</span>, <span class="source_type">A</span>)
<a name="2374"></a>		<span class="source_type">T</span> = <span class="source_type">T</span>$GetItemName(<span class="source_type">string</span>(<span class="source_type">A</span>))$<span class="source_string">" "</span>;
<a name="2375"></a>	if ( <span class="source_type">T</span> == <span class="source_string">"Touching "</span>)
<a name="2376"></a>		<span class="source_type">T</span> = <span class="source_string">"Touching nothing"</span>;
<a name="2377"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_type">T</span>, false);
<a name="2378"></a>	YPos += YL;
<a name="2379"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2380"></a>
<a name="2381"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawColor.<span class="source_type">R</span> = <span class="source_int">0</span>;
<a name="2382"></a>	<span class="source_type">T</span> = <span class="source_string">"Rendered: "</span>;
<a name="2383"></a>	Switch(Style)
<a name="2384"></a>	{
<a name="2385"></a>		case STY_None: <span class="source_type">T</span>=<span class="source_type">T</span>; break;
<a name="2386"></a>		case STY_Normal: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Normal"</span>; break;
<a name="2387"></a>		case STY_Masked: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Masked"</span>; break;
<a name="2388"></a>		case STY_Translucent: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Translucent"</span>; break;
<a name="2389"></a>		case STY_Modulated: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Modulated"</span>; break;
<a name="2390"></a>		case STY_Alpha: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">"Alpha"</span>; break;
<a name="2391"></a>	}		
<a name="2392"></a>
<a name="2393"></a>	Switch(DrawType)
<a name="2394"></a>	{
<a name="2395"></a>		case DT_None: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">" None"</span>; break;
<a name="2396"></a>		case DT_Sprite: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">" Sprite "</span>; break;
<a name="2397"></a>		case DT_Mesh: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">" Mesh "</span>; break;
<a name="2398"></a>		case DT_Brush: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">" Brush "</span>; break;
<a name="2399"></a>		case DT_RopeSprite: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">" RopeSprite "</span>; break;
<a name="2400"></a>		case DT_VerticalSprite: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">" VerticalSprite "</span>; break;
<a name="2401"></a>		case DT_Terraform: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">" Terraform "</span>; break;
<a name="2402"></a>		case DT_SpriteAnimOnce: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">" SpriteAnimOnce "</span>; break;
<a name="2403"></a>		case DT_StaticMesh: <span class="source_type">T</span>=<span class="source_type">T</span>$<span class="source_string">" StaticMesh "</span>; break;
<a name="2404"></a>	}
<a name="2405"></a>
<a name="2406"></a>	if ( DrawType == DT_Mesh )
<a name="2407"></a>	{
<a name="2408"></a>		<span class="source_type">T</span> = <span class="source_type">T</span>$GetItemName(<span class="source_type">string</span>(<span class="source_type">Mesh</span>));
<a name="2409"></a>		if ( Skins.Length &gt; <span class="source_int">0</span> )
<a name="2410"></a>		{
<a name="2411"></a>			<span class="source_type">T</span> = <span class="source_type">T</span>$<span class="source_string">" skins: "</span>;
<a name="2412"></a>			for ( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;Skins.Length; <span class="source_type">i</span>++ )
<a name="2413"></a>			{
<a name="2414"></a>				if ( Skins[<span class="source_type">i</span>] == None )
<a name="2415"></a>					break;
<a name="2416"></a>				else
<a name="2417"></a>					<span class="source_type">T</span> =<span class="source_type">T</span>$GetItemName(<span class="source_type">string</span>(Skins[<span class="source_type">i</span>]))$<span class="source_string">", "</span>;
<a name="2418"></a>			}
<a name="2419"></a>		}
<a name="2420"></a>
<a name="2421"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_type">T</span>, false);
<a name="2422"></a>		YPos += YL;
<a name="2423"></a>		<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2424"></a>		
<a name="2425"></a>		<span class="source_comment">// mesh animation
</span><a name="2426"></a>		GetAnimParams(<span class="source_int">0</span>,anim,frame,rate);
<a name="2427"></a>		<span class="source_type">T</span> = <span class="source_string">"AnimSequence "</span>$anim$<span class="source_string">" Frame "</span>$frame$<span class="source_string">" Rate "</span>$rate;
<a name="2428"></a>		if ( bAnimByOwner )
<a name="2429"></a>			<span class="source_type">T</span>= <span class="source_type">T</span>$<span class="source_string">" Anim by Owner"</span>;
<a name="2430"></a>	}
<a name="2431"></a>	else if ( (DrawType == DT_Sprite) || (DrawType == DT_SpriteAnimOnce) )
<a name="2432"></a>		<span class="source_type">T</span> = <span class="source_type">T</span>$<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span>;
<a name="2433"></a>	else if ( DrawType == DT_Brush )
<a name="2434"></a>		<span class="source_type">T</span> = <span class="source_type">T</span>$<span class="source_type"><a href="../engine/brush.html" class="source">Brush</a></span>;
<a name="2435"></a>		
<a name="2436"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_type">T</span>, false);
<a name="2437"></a>	YPos += YL;
<a name="2438"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2439"></a>	
<a name="2440"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawColor.<span class="source_type">B</span> = <span class="source_int">255</span>;	
<a name="2441"></a><span class="source_macro">#if IG_TRIBES3 // david: removed old event system
</span><a name="2442"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Label: "</span>$Label$<span class="source_string">" TriggeredBy: "</span>$TriggeredBy$<span class="source_string">" STATE: "</span>$GetStateName(), false);
<a name="2443"></a><span class="source_macro">#else
</span><a name="2444"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Tag: "</span>$Tag$<span class="source_string">" Event: "</span>$Event$<span class="source_string">" STATE: "</span>$GetStateName(), false);
<a name="2445"></a><span class="source_macro">#endif
</span><a name="2446"></a>	YPos += YL;
<a name="2447"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2448"></a>
<a name="2449"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Instigator "</span>$GetItemName(<span class="source_type">string</span>(Instigator))$<span class="source_string">" Owner "</span>$GetItemName(<span class="source_type">string</span>(<span class="source_type">Owner</span>)));
<a name="2450"></a>	YPos += YL;
<a name="2451"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2452"></a>
<a name="2453"></a><span class="source_macro">#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications
</span><a name="2454"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Timer: "</span>$TimerCounter$<span class="source_string">" LifeSpan "</span>$LifeSpan$<span class="source_string">" AmbientSound "</span>$<span class="source_type"><a href="../engine/ambientsound.html" class="source">AmbientSound</a></span>);
<a name="2455"></a><span class="source_macro">#else
</span><a name="2456"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.DrawText(<span class="source_string">"Timer: "</span>$TimerCounter$<span class="source_string">" LifeSpan "</span>$LifeSpan);
<a name="2457"></a><span class="source_macro">#endif
</span><a name="2458"></a>	YPos += YL;
<a name="2459"></a>	<span class="source_type"><a href="../engine/canvas.html" class="source">Canvas</a></span>.SetPos(<span class="source_int">4</span>,YPos);
<a name="2460"></a>}
<a name="2461"></a>
<a name="2462"></a><span class="source_comment">// NearSpot() returns true is spot is within collision cylinder
</span><a name="2463"></a>simulated final <span class="source_type">function</span> <span class="source_type">bool</span> NearSpot(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Spot)
<a name="2464"></a>{
<a name="2465"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Dir;
<a name="2466"></a>
<a name="2467"></a>	Dir = Location - Spot;
<a name="2468"></a>	
<a name="2469"></a>	if ( Abs(Dir.Z) &gt; CollisionHeight )
<a name="2470"></a>		return false;
<a name="2471"></a>
<a name="2472"></a>	Dir.Z = <span class="source_int">0</span>;
<a name="2473"></a>	return ( VSize(Dir) &lt;= CollisionRadius );
<a name="2474"></a>}
<a name="2475"></a>
<a name="2476"></a>simulated final <span class="source_type">function</span> <span class="source_type">bool</span> TouchingActor(<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">A</span>)
<a name="2477"></a>{
<a name="2478"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Dir;
<a name="2479"></a>
<a name="2480"></a>	Dir = Location - <span class="source_type">A</span>.Location;
<a name="2481"></a>	
<a name="2482"></a>	if ( Abs(Dir.Z) &gt; CollisionHeight + <span class="source_type">A</span>.CollisionHeight )
<a name="2483"></a>		return false;
<a name="2484"></a>
<a name="2485"></a>	Dir.Z = <span class="source_int">0</span>;
<a name="2486"></a>	return ( VSize(Dir) &lt;= CollisionRadius + <span class="source_type">A</span>.CollisionRadius );
<a name="2487"></a>}
<a name="2488"></a>
<a name="2489"></a><span class="source_comment">/* StartInterpolation()
<a name="2490"></a>when this function is called, the actor will start moving along an interpolation path
<a name="2491"></a>beginning at Dest
<a name="2492"></a>*/</span>	
<a name="2493"></a>simulated <span class="source_type">function</span> StartInterpolation()
<a name="2494"></a>{
<a name="2495"></a>	GotoState(<span class="source_name">''</span>);
<a name="2496"></a>	SetCollision(True,false,false);
<a name="2497"></a>	bCollideWorld = False;
<a name="2498"></a>	bInterpolating = true;
<a name="2499"></a>	SetPhysics(PHYS_None);
<a name="2500"></a>}
<a name="2501"></a>
<a name="2502"></a><span class="source_comment">/* Reset() 
<a name="2503"></a>reset actor to initial state - used when restarting level without reloading.
<a name="2504"></a>*/</span>
<a name="2505"></a><span class="source_type">function</span> <span class="source_type">Reset</span>();
<a name="2506"></a>
<a name="2507"></a><span class="source_comment">/* 
<a name="2508"></a>Trigger an event
<a name="2509"></a>*/</span>
<a name="2510"></a>event TriggerEvent( <span class="source_type">Name</span> <span class="source_type">EventName</span>, <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span>, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">EventInstigator</span> )
<a name="2511"></a>{
<a name="2512"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">A</span>;
<a name="2513"></a>
<a name="2514"></a>	if ( <span class="source_type">EventName</span> == <span class="source_name">''</span> )
<a name="2515"></a>		return;
<a name="2516"></a>
<a name="2517"></a>	ForEach DynamicActors( <span class="source_type">class</span> <span class="source_name">'Actor'</span>, <span class="source_type">A</span>, <span class="source_type">EventName</span> )
<a name="2518"></a>    {
<a name="2519"></a><span class="source_macro">#if IG_EFFECTS
</span><a name="2520"></a>        <span class="source_type">A</span>.PreTrigger(<span class="source_type">Other</span>, <span class="source_type">EventInstigator</span>);
<a name="2521"></a><span class="source_macro">#endif
</span><a name="2522"></a>		<span class="source_type">A</span>.<span class="source_type"><a href="../engine/trigger.html" class="source">Trigger</a></span>(<span class="source_type">Other</span>, <span class="source_type">EventInstigator</span>);
<a name="2523"></a>	}
<a name="2524"></a>}
<a name="2525"></a>
<a name="2526"></a><span class="source_comment">/*
<a name="2527"></a>UnTrigger an event
<a name="2528"></a>*/</span>
<a name="2529"></a><span class="source_type">function</span> UnTriggerEvent( <span class="source_type">Name</span> <span class="source_type">EventName</span>, <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span>, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">EventInstigator</span> )
<a name="2530"></a>{
<a name="2531"></a>	local <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">A</span>;
<a name="2532"></a>
<a name="2533"></a>	if ( <span class="source_type">EventName</span> == <span class="source_name">''</span> )
<a name="2534"></a>		return;
<a name="2535"></a>
<a name="2536"></a>	ForEach DynamicActors( <span class="source_type">class</span> <span class="source_name">'Actor'</span>, <span class="source_type">A</span>, <span class="source_type">EventName</span> )
<a name="2537"></a>		<span class="source_type">A</span>.UnTrigger(<span class="source_type">Other</span>, <span class="source_type">EventInstigator</span>);
<a name="2538"></a>}
<a name="2539"></a>
<a name="2540"></a><span class="source_type">function</span> <span class="source_type">bool</span> IsInVolume(<span class="source_type"><a href="../engine/volume.html" class="source">Volume</a></span> aVolume)
<a name="2541"></a>{
<a name="2542"></a>	local <span class="source_type"><a href="../engine/volume.html" class="source">Volume</a></span> V;
<a name="2543"></a>	
<a name="2544"></a>	ForEach TouchingActors(<span class="source_type">class</span><span class="source_name">'Volume'</span>,V)
<a name="2545"></a>		if ( V == aVolume )
<a name="2546"></a>			return true;
<a name="2547"></a>	return false;
<a name="2548"></a>}
<a name="2549"></a>	 
<a name="2550"></a><span class="source_type">function</span> <span class="source_type">bool</span> IsInPain()
<a name="2551"></a>{
<a name="2552"></a>	local <span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span> V;
<a name="2553"></a>
<a name="2554"></a>	ForEach TouchingActors(<span class="source_type">class</span><span class="source_name">'PhysicsVolume'</span>,V)
<a name="2555"></a>		if ( V.bPainCausing && (V.DamagePerSec &gt; <span class="source_int">0</span>) )
<a name="2556"></a>			return true;
<a name="2557"></a>	return false;
<a name="2558"></a>}
<a name="2559"></a>
<a name="2560"></a><span class="source_type">function</span> PlayTeleportEffect(<span class="source_type">bool</span> bOut, <span class="source_type">bool</span> bSound);
<a name="2561"></a>
<a name="2562"></a><span class="source_type">function</span> <span class="source_type">bool</span> CanSplash()
<a name="2563"></a>{
<a name="2564"></a>	return false;
<a name="2565"></a>}
<a name="2566"></a>
<a name="2567"></a><span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> GetCollisionExtent()
<a name="2568"></a>{
<a name="2569"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> Extent;
<a name="2570"></a>
<a name="2571"></a>	Extent = CollisionRadius * vect(<span class="source_int">1</span>,<span class="source_int">1</span>,<span class="source_int">0</span>);
<a name="2572"></a>	Extent.Z = CollisionHeight;
<a name="2573"></a>	return Extent;
<a name="2574"></a>}
<a name="2575"></a>
<a name="2576"></a>simulated <span class="source_type">function</span> <span class="source_type">bool</span> EffectIsRelevant(<span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> SpawnLocation, <span class="source_type">bool</span> <span class="source_type">bForceDedicated</span> )
<a name="2577"></a>{
<a name="2578"></a>	local <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> <span class="source_type">P</span>;
<a name="2579"></a>	local <span class="source_type">bool</span> bResult;
<a name="2580"></a>	
<a name="2581"></a>	if ( <span class="source_type">Level</span>.NetMode == NM_DedicatedServer )
<a name="2582"></a>		bResult = <span class="source_type">bForceDedicated</span>;
<a name="2583"></a>	else if ( <span class="source_type">Level</span>.NetMode == NM_Client )
<a name="2584"></a>		bResult = true;
<a name="2585"></a>	else if ( (Instigator != None) && Instigator.IsHumanControlled() )
<a name="2586"></a>		bResult =  true;
<a name="2587"></a>	else if ( SpawnLocation == Location )
<a name="2588"></a>		bResult = ( <span class="source_type">Level</span>.TimeSeconds - LastRenderTime &lt; <span class="source_int">3</span> );
<a name="2589"></a>	else if ( (Instigator != None) && (<span class="source_type">Level</span>.TimeSeconds - Instigator.LastRenderTime &lt; <span class="source_int">3</span>) )
<a name="2590"></a>		bResult = true;
<a name="2591"></a>	else
<a name="2592"></a>	{	
<a name="2593"></a>		<span class="source_type">P</span> = <span class="source_type">Level</span>.GetLocalPlayerController();
<a name="2594"></a>		if ( <span class="source_type">P</span> == None )
<a name="2595"></a>			bResult = false;
<a name="2596"></a>		else 
<a name="2597"></a>			bResult = ( (<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span>(<span class="source_type">P</span>.Rotation) Dot (SpawnLocation - <span class="source_type">P</span>.<span class="source_type">ViewTarget</span>.Location)) &gt; <span class="source_int">0.0</span> );
<a name="2598"></a>	}
<a name="2599"></a>	return bResult;
<a name="2600"></a>}
<a name="2601"></a>
<a name="2602"></a><span class="source_macro">#if IG_EFFECTS
</span><a name="2603"></a><span class="source_comment">// Register for notification that gameplay has started
</span><a name="2604"></a>simulated final <span class="source_type">function</span> RegisterNotifyGameStarted() { <span class="source_type">Level</span>.InternalRegisterNotifyGameStarted(self); }
<a name="2605"></a><span class="source_comment">// Callback when gameplay has started
</span><a name="2606"></a>simulated <span class="source_type">function</span> OnGameStarted();
<a name="2607"></a>
<a name="2608"></a><span class="source_comment">// Add a context to be considered for the _next_ TriggerEffectEvent().
</span><a name="2609"></a><span class="source_comment">//
</span><a name="2610"></a><span class="source_comment">// WARNING: Caller should _always_ TriggerEffectEvent() after adding
</span><a name="2611"></a><span class="source_comment">//          contexts.  Failure to do so may adversely affect the next
</span><a name="2612"></a><span class="source_comment">//          call to TriggerEffectEvent().
</span><a name="2613"></a>simulated <span class="source_type">function</span> AddContextForNextEffectEvent(<span class="source_type">name</span> Context)
<a name="2614"></a>{
<a name="2615"></a>    if( <span class="source_type">Level</span>.NetMode == NM_DedicatedServer )
<a name="2616"></a>        return;
<a name="2617"></a>
<a name="2618"></a>    <span class="source_type">Level</span>.<span class="source_type"><a href="../igeffectssystem/effectssystem.html" class="source">EffectsSystem</a></span>.AddContextForNextEffectEvent(Context);
<a name="2619"></a>}
<a name="2620"></a>
<a name="2621"></a><span class="source_comment">//returns True iff any effect event responses match the effect event that occurred.
</span><a name="2622"></a>simulated event <span class="source_type">bool</span> TriggerEffectEvent(
<a name="2623"></a>    <span class="source_type">name</span> EffectEvent,                   <span class="source_comment">// The name of the effect event to trigger.  Should be a verb in past tense, eg. 'Landed'.
</span><a name="2624"></a>    <span class="source_comment">// -- Optional Parameters --        // -- Optional Parameters --
</span><a name="2625"></a>    optional <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span>,               <span class="source_comment">// The "other" Actor involved in the effect event, if any.
</span><a name="2626"></a>    optional <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span> TargetMaterial,   <span class="source_comment">// The Material involved in the effect event, eg. the matterial that a 'BulletHit'.
</span><a name="2627"></a>    optional <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>,        <span class="source_comment">// The location in world-space (if any) at which the effect event occurred.
</span><a name="2628"></a>    optional <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> HitNormal,         <span class="source_comment">// The normal to the involved surface (if any) at the HitLocation.
</span><a name="2629"></a>    optional <span class="source_type">bool</span> PlayOnOther,          <span class="source_comment">// If true, then any effects played will be associated with Other rather than Self.
</span><a name="2630"></a>    optional <span class="source_type">bool</span> QueryOnly,            <span class="source_comment">// If true, then don't actually play any effects.
</span><a name="2631"></a>                                        <span class="source_comment">//   _True_ is still returned iff any responses matched the effect event.
</span><a name="2632"></a>                                        <span class="source_comment">//   This can be used to determine if there are any effects associated with a particular effect event,
</span><a name="2633"></a>                                        <span class="source_comment">//   without actually responding to the effect event.
</span><a name="2634"></a>    optional <span class="source_type"><a href="../engine/ieffectobserver.html" class="source">IEffectObserver</a></span> Observer,  <span class="source_comment">// Optional Observer that gets callbacks when effects are started and stopped.
</span><a name="2635"></a>                                        <span class="source_comment">// Useful when you want to edit an effect dynamically
</span><a name="2636"></a>    optional <span class="source_type">name</span> ReferenceTag)         <span class="source_comment">// If ReferenceTag is not passed (or is ''), then Other.Tag is used instead 
</span><a name="2637"></a>										<span class="source_comment">//   when matching event triggers to responses.
</span><a name="2638"></a>{
<a name="2639"></a>    if( <span class="source_type">Level</span>.NetMode == NM_DedicatedServer )
<a name="2640"></a>        return false;
<a name="2641"></a>
<a name="2642"></a>    if (<span class="source_type">Level</span>.HasGameStarted() || bTriggerEffectEventsBeforeGameStarts)
<a name="2643"></a>    {
<a name="2644"></a>		return <span class="source_type">Level</span>.<span class="source_type"><a href="../igeffectssystem/effectssystem.html" class="source">EffectsSystem</a></span>.EffectEventTriggered(
<a name="2645"></a>                self, 
<a name="2646"></a>                EffectEvent, 
<a name="2647"></a>                <span class="source_type">Other</span>, 
<a name="2648"></a>                TargetMaterial, 
<a name="2649"></a>                <span class="source_type">HitLocation</span>, 
<a name="2650"></a>                HitNormal, 
<a name="2651"></a>                false, 
<a name="2652"></a>                PlayOnOther, 
<a name="2653"></a>                QueryOnly, 
<a name="2654"></a>                Observer, 
<a name="2655"></a>                ReferenceTag);
<a name="2656"></a>    }
<a name="2657"></a>    else
<a name="2658"></a>    {
<a name="2659"></a>        return false;   <span class="source_comment">//we don't want to trigger effect events before the game starts
</span><a name="2660"></a>    }
<a name="2661"></a>}
<a name="2662"></a>
<a name="2663"></a>
<a name="2664"></a>simulated event UnTriggerEffectEvent(<span class="source_type">name</span> EffectEvent,optional <span class="source_type">name</span> ReferenceTag)
<a name="2665"></a>{
<a name="2666"></a>    if( <span class="source_type">Level</span>.NetMode == NM_DedicatedServer )
<a name="2667"></a>        return;
<a name="2668"></a>
<a name="2669"></a>    <span class="source_type">Level</span>.<span class="source_type"><a href="../igeffectssystem/effectssystem.html" class="source">EffectsSystem</a></span>.EffectEventTriggered(
<a name="2670"></a>            self, EffectEvent,,,,,true,,,,ReferenceTag);  <span class="source_comment">//untriggered
</span><a name="2671"></a>}
<a name="2672"></a>
<a name="2673"></a><span class="source_comment">//gets called before Trigger()
</span><a name="2674"></a>simulated final <span class="source_type">function</span> PreTrigger( <span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> <span class="source_type">Other</span>, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">EventInstigator</span> )
<a name="2675"></a>{
<a name="2676"></a>    TriggerEffectEvent(<span class="source_name">'Triggered'</span>);
<a name="2677"></a>}
<a name="2678"></a><span class="source_macro">#endif // IG_EFFECTS
</span><a name="2679"></a>
<a name="2680"></a><span class="source_macro">#if IG_SHARED  //tcohen (by ckline): get a material on a mesh
</span><a name="2681"></a><span class="source_comment">// Retrieves a reference to the 'active' material at the specified index. First
</span><a name="2682"></a><span class="source_comment">// the actor is checked for an instance-specific material at the given
</span><a name="2683"></a><span class="source_comment">// index in the Skins array; if this is not null then it is returned. Next the
</span><a name="2684"></a><span class="source_comment">// default materials are checked. If there is not valid
</span><a name="2685"></a><span class="source_comment">// instance-specific or default material at the given Index, then
</span><a name="2686"></a><span class="source_comment">// None is returned.
</span><a name="2687"></a><span class="source_comment">// This method handles objects that are DrawType DT_Mesh and DT_StaticMesh, 
</span><a name="2688"></a><span class="source_comment">// but not other drawtypes.
</span><a name="2689"></a>native final event <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span> GetCurrentMaterial(optional <span class="source_type">int</span> <span class="source_type">Index</span>); <span class="source_comment">//defaults to 0
</span><a name="2690"></a><span class="source_macro">#endif
</span><a name="2691"></a>
<a name="2692"></a><span class="source_macro">#if IG_SCRIPTING // david:
</span><a name="2693"></a><span class="source_comment">// onMessage
</span><a name="2694"></a>event <span class="source_type">function</span> onMessage(<span class="source_type"><a href="../engine/message.html" class="source">Message</a></span> <span class="source_type"><a href="../gameplay/mpsecondarymessage.html#msg" class="source">msg</a></span>);
<a name="2695"></a>
<a name="2696"></a><span class="source_comment">// registerMessage
</span><a name="2697"></a><span class="source_comment">// Convenience function
</span><a name="2698"></a><span class="source_comment">// triggeredByFilter is a comma-separated list of actor labels
</span><a name="2699"></a><span class="source_type">function</span> registerMessage(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/message.html" class="source">Message</a></span>&gt; messageClass, coerce <span class="source_type">string</span> triggeredByFilter)
<a name="2700"></a>{
<a name="2701"></a>    <span class="source_comment">// registerReceiver will not register the receiver if triggeredByFilter is equivalent of NAME_None
</span><a name="2702"></a>    AssertWithDescription(triggeredByFilter != <span class="source_string">"None"</span> && triggeredByFilter != <span class="source_string">""</span>, <span class="source_string">"triggeredByFilter with value of '"</span>$triggeredByFilter$<span class="source_string">"' was passed by "</span>$<span class="source_type">Name</span>$<span class="source_string">" to RegisterMessage("</span>$messageClass$<span class="source_string">")"</span>);
<a name="2703"></a>	<span class="source_type">Level</span>.<span class="source_type"><a href="../engine/messagedispatcher.html" class="source">messageDispatcher</a></span>.registerReceiver(self, messageClass, triggeredByFilter);
<a name="2704"></a>}
<a name="2705"></a>
<a name="2706"></a><span class="source_comment">// registerClientMessage
</span><a name="2707"></a><span class="source_comment">// The message could potentially be receieved on both a server and a net client
</span><a name="2708"></a><span class="source_comment">// (Most messages should have no need to be client-side)
</span><a name="2709"></a><span class="source_comment">// triggeredByFilter is a comma-separated list of actor labels
</span><a name="2710"></a>simulated <span class="source_type">function</span> registerClientMessage(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/message.html" class="source">Message</a></span>&gt; messageClass, coerce <span class="source_type">string</span> triggeredByFilter)
<a name="2711"></a>{
<a name="2712"></a>    <span class="source_comment">// registerReceiver will not register the receiver if triggeredByFilter is equivalent of NAME_None
</span><a name="2713"></a>    AssertWithDescription(triggeredByFilter != <span class="source_string">"None"</span> && triggeredByFilter != <span class="source_string">""</span>, <span class="source_string">"triggeredByFilter with value of '"</span>$triggeredByFilter$<span class="source_string">"' was passed by "</span>$<span class="source_type">Name</span>$<span class="source_string">" to RegisterClientMessage("</span>$messageClass$<span class="source_string">")"</span>);
<a name="2714"></a>	<span class="source_type">Level</span>.<span class="source_type"><a href="../engine/messagedispatcher.html" class="source">messageDispatcher</a></span>.registerReceiver(self, messageClass, triggeredByFilter);
<a name="2715"></a>}
<a name="2716"></a>
<a name="2717"></a><span class="source_comment">// dispatchMessage
</span><a name="2718"></a><span class="source_comment">// Convenience function
</span><a name="2719"></a><span class="source_type">function</span> dispatchMessage(<span class="source_type"><a href="../engine/message.html" class="source">Message</a></span> <span class="source_type"><a href="../gameplay/mpsecondarymessage.html#msg" class="source">msg</a></span>)
<a name="2720"></a>{
<a name="2721"></a>	<span class="source_type">Level</span>.<span class="source_type"><a href="../engine/messagedispatcher.html" class="source">messageDispatcher</a></span>.dispatch(self, <span class="source_type"><a href="../gameplay/mpsecondarymessage.html#msg" class="source">msg</a></span>);
<a name="2722"></a>}
<a name="2723"></a>
<a name="2724"></a><span class="source_comment">// clientDispatchMessage
</span><a name="2725"></a><span class="source_comment">// The message could potentially be dispatched on both a server and a net client
</span><a name="2726"></a>simulated <span class="source_type">function</span> clientDispatchMessage(<span class="source_type"><a href="../engine/message.html" class="source">Message</a></span> <span class="source_type"><a href="../gameplay/mpsecondarymessage.html#msg" class="source">msg</a></span>)
<a name="2727"></a>{
<a name="2728"></a>	<span class="source_type">Level</span>.<span class="source_type"><a href="../engine/messagedispatcher.html" class="source">messageDispatcher</a></span>.dispatch(self, <span class="source_type"><a href="../gameplay/mpsecondarymessage.html#msg" class="source">msg</a></span>);
<a name="2729"></a>}
<a name="2730"></a><span class="source_macro">#endif // IG_SCRIPTING
</span><a name="2731"></a>
<a name="2732"></a><span class="source_macro">#if IG_SHARED // ckline: Used by effects system, but could also be of general use
</span><a name="2733"></a>
<a name="2734"></a><span class="source_comment">// OptimizeOut: makes this actor as lightweight and optimal as possible by making sure it's not rendered, or ticked
</span><a name="2735"></a>final <span class="source_type">function</span> OptimizeOut()
<a name="2736"></a>{
<a name="2737"></a>	<span class="source_comment">// Hide the actor
</span><a name="2738"></a>    bHidden = true;
<a name="2739"></a>
<a name="2740"></a>    <span class="source_comment">// Make the actor not get ticked
</span><a name="2741"></a>    SetPhysics(PHYS_None);
<a name="2742"></a>    bStasis = true;
<a name="2743"></a>    
<a name="2744"></a>    OnOptimizedOut();
<a name="2745"></a>}
<a name="2746"></a>
<a name="2747"></a><span class="source_comment">// OptimizedIn: returns from an OptimizedOut state, which resets the values back to defaults (Note: maybe they should be backed up from the last optimized out call)
</span><a name="2748"></a>final <span class="source_type">function</span> OptimizeIn()
<a name="2749"></a>{
<a name="2750"></a>	<span class="source_comment">// Show the actor.
</span><a name="2751"></a>    bHidden = Default.bHidden;
<a name="2752"></a>
<a name="2753"></a>    <span class="source_comment">// Make the actor receive ticks again
</span><a name="2754"></a>    SetPhysics(Default.Physics);
<a name="2755"></a>    bStasis = Default.bStasis;
<a name="2756"></a>
<a name="2757"></a>	<span class="source_comment">// Allow subclasses to hook into this.
</span><a name="2758"></a>    OnOptimizedIn();
<a name="2759"></a>}
<a name="2760"></a><span class="source_type">function</span> OnOptimizedOut();      <span class="source_comment">// Notification we've been optimized out
</span><a name="2761"></a><span class="source_type">function</span> OnOptimizedIn();       <span class="source_comment">// Notification we've been optimized in
</span><a name="2762"></a>
<a name="2763"></a><span class="source_comment">// Make an actor hidden, and stop it from ticking.
</span><a name="2764"></a><span class="source_comment">// Note: it is not an error to hide something that is already hidden
</span><a name="2765"></a>final <span class="source_type">function</span> Hide()
<a name="2766"></a>{
<a name="2767"></a>	<span class="source_comment">// Hide the actor
</span><a name="2768"></a>    bHidden = true;
<a name="2769"></a>}
<a name="2770"></a><span class="source_comment">// Allow subclasses to implement additional functionality when an actor gets a Hide() call
</span><a name="2771"></a><span class="source_type">function</span> OnHidden();
<a name="2772"></a>
<a name="2773"></a><span class="source_comment">// Un-hide an actor that was previously hidden via Hide()
</span><a name="2774"></a><span class="source_comment">// Note: it is not an error to show something that is not hidden.
</span><a name="2775"></a>final <span class="source_type">function</span> Show()
<a name="2776"></a>{
<a name="2777"></a>	<span class="source_comment">// Show the actor.
</span><a name="2778"></a>    bHidden = false;
<a name="2779"></a>    OnShown();
<a name="2780"></a>}
<a name="2781"></a>
<a name="2782"></a><span class="source_comment">// Allow subclasses to implement additional functionality when an actor gets a Show() call
</span><a name="2783"></a><span class="source_type">function</span> OnShown();
<a name="2784"></a>
<a name="2785"></a><span class="source_macro">#endif // IG_SHARED
</span><a name="2786"></a>
<a name="2787"></a><span class="source_macro">#if IG_TRIBES3_PHYSICS  // physics: ragdoll support code
</span><a name="2788"></a>native final <span class="source_type">function</span> AnimStopLooping(optional <span class="source_type">int</span> <span class="source_type">Channel</span>);
<a name="2789"></a>native final <span class="source_type">function</span> <span class="source_type">Name</span> GetClosestBone( <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> <span class="source_type">loc</span>, <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> ray, out <span class="source_type">float</span> boneDist, optional <span class="source_type">Name</span> BiasBone, optional <span class="source_type">float</span> BiasDistance );
<a name="2790"></a><span class="source_macro">#endif
</span><a name="2791"></a>
<a name="2792"></a><span class="source_macro">#if IG_TRIBES3_STATICMESH_SOCKETS	// glenn: support for staticmesh sockets
</span><a name="2793"></a>native final event <span class="source_type">bool</span> getSocket(<span class="source_type">String</span> <span class="source_type">name</span>, out <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> <span class="source_type">position</span>, out <span class="source_type"><a href="../core/object.html#Rotator" class="source">Rotator</a></span> rotation, out <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> <span class="source_type"><a href="../core/object.html#Scale" class="source">scale</a></span>, optional <span class="source_type"><a href="../engine/actor.html#SocketCoordinates" class="source">SocketCoordinates</a></span> coordinates);
<a name="2794"></a>native final event <span class="source_type">bool</span> checkSocket(<span class="source_type">String</span> <span class="source_type">name</span>);
<a name="2795"></a><span class="source_macro">#endif
</span><a name="2796"></a>
<a name="2797"></a><span class="source_macro">#if IG_TRIBES3	// rowan: localisation helpers
</span><a name="2798"></a><span class="source_type">function</span> <span class="source_type">string</span> LocalizeMapText(<span class="source_type">string</span> SectionName, <span class="source_type">string</span> KeyName)
<a name="2799"></a>{
<a name="2800"></a>	return static.Localize(SectionName, KeyName, <span class="source_string">"Localisation\\Maps\\text files\\"</span>$<span class="source_type">Level</span>.LocalisationFile);
<a name="2801"></a>}
<a name="2802"></a><span class="source_macro">#endif
</span><a name="2803"></a>
<a name="2804"></a><span class="source_macro">#if IG_TRIBES3_PHYSICS  // Paul: Unified Physics Interface
</span><a name="2805"></a>
<a name="2806"></a><span class="source_comment">// Some Actors use an unnatural center of mass in order to achieve a particular physical behavior. This function returns the center of
</span><a name="2807"></a><span class="source_comment">// mass that would normally be expected of the object and unifiedGetCOMPosition returns the actual center of mass.
</span><a name="2808"></a>simulated event <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> unifiedGetNaturalCOMPosition()
<a name="2809"></a>{
<a name="2810"></a>	return unifiedGetCOMPosition();
<a name="2811"></a>}
<a name="2812"></a>
<a name="2813"></a><span class="source_comment">// Get Center of Mass
</span><a name="2814"></a>simulated event <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> unifiedGetCOMPosition()
<a name="2815"></a>{
<a name="2816"></a>    return HavokGetCenterOfMass();      <span class="source_comment">// note: this function correctly falls back to Location for non-havok
</span><a name="2817"></a>}
<a name="2818"></a>
<a name="2819"></a><span class="source_comment">// Get/Set Position
</span><a name="2820"></a>simulated <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> unifiedGetPosition()
<a name="2821"></a>{
<a name="2822"></a>	return Location;
<a name="2823"></a>}
<a name="2824"></a>
<a name="2825"></a>simulated <span class="source_type">function</span> unifiedSetPosition(<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> <span class="source_type">newPosition</span>)
<a name="2826"></a>{
<a name="2827"></a>	if(Physics == PHYS_Havok || Physics == PHYS_HavokSkeletal)
<a name="2828"></a>	{
<a name="2829"></a>		HavokSetPosition(<span class="source_type">newPosition</span>);
<a name="2830"></a>	}
<a name="2831"></a>	else if (Physics == PHYS_Falling || Physics == PHYS_None)
<a name="2832"></a>	{
<a name="2833"></a>		setLocation(<span class="source_type">newPosition</span>);
<a name="2834"></a>	}
<a name="2835"></a>}
<a name="2836"></a>
<a name="2837"></a>simulated <span class="source_type">function</span> unifiedSetRotation(<span class="source_type"><a href="../core/object.html#Rotator" class="source">Rotator</a></span> <span class="source_type">newRotation</span>)
<a name="2838"></a>{
<a name="2839"></a>	if(Physics == PHYS_Havok || Physics == PHYS_HavokSkeletal)
<a name="2840"></a>	{
<a name="2841"></a>		HavokSetRotation(quatFromRotator(<span class="source_type">newRotation</span>));
<a name="2842"></a>	}
<a name="2843"></a>	else if (Physics == PHYS_Falling || Physics == PHYS_None)
<a name="2844"></a>	{
<a name="2845"></a>		setRotation(<span class="source_type">newRotation</span>);
<a name="2846"></a>	}
<a name="2847"></a>}
<a name="2848"></a>
<a name="2849"></a><span class="source_comment">// Be careful with this function. Only used for 0, 0, 0 when originally written.
</span><a name="2850"></a>simulated <span class="source_type">function</span> unifiedSetAngularVelocity(<span class="source_type"><a href="../core/object.html#Rotator" class="source">Rotator</a></span> newAngularVelocity)
<a name="2851"></a>{
<a name="2852"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> vectorAngularVelocity;
<a name="2853"></a>
<a name="2854"></a>	if(Physics == PHYS_Havok || Physics == PHYS_HavokSkeletal)
<a name="2855"></a>	{
<a name="2856"></a>		vectorAngularVelocity.X = newAngularVelocity.Roll;
<a name="2857"></a>		vectorAngularVelocity.<span class="source_type">Y</span> = newAngularVelocity.Pitch;
<a name="2858"></a>		vectorAngularVelocity.Z = newAngularVelocity.Yaw;
<a name="2859"></a>		HavokSetAngularVelocity(vectorAngularVelocity);
<a name="2860"></a>	}
<a name="2861"></a>	else
<a name="2862"></a>	{
<a name="2863"></a>		RotationRate = newAngularVelocity;
<a name="2864"></a>	}
<a name="2865"></a>}
<a name="2866"></a>
<a name="2867"></a><span class="source_comment">// Get/Set Velocity
</span><a name="2868"></a>simulated <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> unifiedGetVelocity()
<a name="2869"></a>{
<a name="2870"></a>	return Velocity;
<a name="2871"></a>}
<a name="2872"></a>
<a name="2873"></a>simulated <span class="source_type">function</span> unifiedSetVelocity(<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> newVelocity)
<a name="2874"></a>{
<a name="2875"></a>	if(Physics == PHYS_Havok)
<a name="2876"></a>	{
<a name="2877"></a>		HavokSetLinearVelocity(newVelocity);
<a name="2878"></a>	}
<a name="2879"></a>	else if(Physics == PHYS_HavokSkeletal)
<a name="2880"></a>	{
<a name="2881"></a>		HavokSetLinearVelocityAll(newVelocity);
<a name="2882"></a>	}
<a name="2883"></a>	else if (Physics == PHYS_Falling<span class="source_comment">/* || Physics == PHYS_None*/</span>)
<a name="2884"></a>	{
<a name="2885"></a>		SetPhysics(PHYS_Falling);
<a name="2886"></a>		Velocity = newVelocity;
<a name="2887"></a>	}
<a name="2888"></a>}
<a name="2889"></a>
<a name="2890"></a><span class="source_comment">// Get/Set Acceleration
</span><a name="2891"></a>simulated <span class="source_type">function</span> <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> unifiedGetAcceleration()
<a name="2892"></a>{
<a name="2893"></a>	return Acceleration;
<a name="2894"></a>}
<a name="2895"></a>
<a name="2896"></a>simulated <span class="source_type">function</span> unifiedSetAcceleration(<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> newAcceleration)
<a name="2897"></a>{
<a name="2898"></a>	if (Physics == PHYS_Falling<span class="source_comment">/* || Physics == PHYS_None*/</span>)
<a name="2899"></a>	{
<a name="2900"></a>		SetPhysics(PHYS_Falling);
<a name="2901"></a>		Acceleration = newAcceleration;
<a name="2902"></a>	}
<a name="2903"></a>}
<a name="2904"></a>
<a name="2905"></a><span class="source_comment">// Get/Set Mass
</span><a name="2906"></a>simulated <span class="source_type">function</span> <span class="source_type">float</span> unifiedGetMass()
<a name="2907"></a>{
<a name="2908"></a>	return Mass;
<a name="2909"></a>}
<a name="2910"></a>
<a name="2911"></a>simulated <span class="source_type">function</span> unifiedSetMass(<span class="source_type">float</span> newMass)
<a name="2912"></a>{
<a name="2913"></a>	Mass = newMass;
<a name="2914"></a>}
<a name="2915"></a>
<a name="2916"></a><span class="source_comment">// Add velocity
</span><a name="2917"></a>simulated <span class="source_type">function</span> unifiedAddVelocity(<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> deltaVelocity)
<a name="2918"></a>{
<a name="2919"></a>	if(bMovable && !bStatic && (Physics == PHYS_Falling<span class="source_comment">/* || Physics == PHYS_None*/</span>))
<a name="2920"></a>	{
<a name="2921"></a>		SetPhysics(PHYS_Falling);
<a name="2922"></a>		Velocity += deltaVelocity;
<a name="2923"></a>	}
<a name="2924"></a>}
<a name="2925"></a>
<a name="2926"></a><span class="source_comment">// Add Impulse
</span><a name="2927"></a>simulated <span class="source_type">function</span> unifiedAddImpulse(<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> impulse)
<a name="2928"></a>{
<a name="2929"></a>	<span class="source_comment">// Apply the impulse at the center of mass
</span><a name="2930"></a>	if(Physics == PHYS_Havok || Physics == PHYS_HavokSkeletal)
<a name="2931"></a>	{
<a name="2932"></a>		HavokImpartCOMImpulse(impulse);
<a name="2933"></a>	}
<a name="2934"></a>	else if(bMovable && !bStatic && (Physics == PHYS_Falling<span class="source_comment">/* || Physics == PHYS_None*/</span>))
<a name="2935"></a>	{
<a name="2936"></a>		SetPhysics(PHYS_Falling);
<a name="2937"></a>		velocity += impulse / Mass;
<a name="2938"></a>	}
<a name="2939"></a>}
<a name="2940"></a>
<a name="2941"></a>simulated <span class="source_type">function</span> unifiedAddImpulseAtPosition(<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> impulse, <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> <span class="source_type">position</span>)
<a name="2942"></a>{
<a name="2943"></a>	<span class="source_comment">// apply the impulse at the requested position.
</span><a name="2944"></a>	if(Physics == PHYS_Havok || Physics == PHYS_HavokSkeletal)
<a name="2945"></a>	{
<a name="2946"></a>		HavokImpartImpulse(impulse, <span class="source_type">position</span>);
<a name="2947"></a>	}
<a name="2948"></a>	else if(bMovable && !bStatic && (Physics == PHYS_Falling<span class="source_comment">/* || Physics == PHYS_None*/</span>))
<a name="2949"></a>	{
<a name="2950"></a>		<span class="source_comment">// Position is ignored
</span><a name="2951"></a>		SetPhysics(PHYS_Falling);
<a name="2952"></a>		velocity += impulse / Mass;
<a name="2953"></a>	}
<a name="2954"></a>}
<a name="2955"></a>
<a name="2956"></a><span class="source_comment">// Add Force
</span><a name="2957"></a>simulated <span class="source_type">function</span> unifiedAddForce(<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> force)
<a name="2958"></a>{
<a name="2959"></a>	if(bMovable && !bStatic && (Physics == PHYS_Falling<span class="source_comment">/* || Physics == PHYS_None*/</span>))
<a name="2960"></a>	{
<a name="2961"></a>		SetPhysics(PHYS_Falling);
<a name="2962"></a>		velocity += force / Mass;
<a name="2963"></a>	}
<a name="2964"></a>}
<a name="2965"></a>
<a name="2966"></a>simulated <span class="source_type">function</span> unifiedAddForceAtPosition(<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> force, <span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> <span class="source_type">position</span>)
<a name="2967"></a>{
<a name="2968"></a>	if(bMovable && !bStatic && (Physics == PHYS_Falling<span class="source_comment">/* || Physics == PHYS_None*/</span>))
<a name="2969"></a>	{
<a name="2970"></a>		<span class="source_comment">// Position is ignored
</span><a name="2971"></a>		SetPhysics(PHYS_Falling);
<a name="2972"></a>		velocity += force / Mass;
<a name="2973"></a>	}
<a name="2974"></a>}
<a name="2975"></a>
<a name="2976"></a><span class="source_comment">// Add Torque
</span><a name="2977"></a>simulated <span class="source_type">function</span> unifiedAddTorque(<span class="source_type"><a href="../core/object.html#Vector" class="source">Vector</a></span> torque)
<a name="2978"></a>{
<a name="2979"></a>
<a name="2980"></a>}
<a name="2981"></a>
<a name="2982"></a>simulated <span class="source_type">function</span> <span class="source_type">float</span> unifiedGetGravity()
<a name="2983"></a>{
<a name="2984"></a>    if (<span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span>!=None)
<a name="2985"></a>        return -<span class="source_type"><a href="../engine/physicsvolume.html" class="source">PhysicsVolume</a></span>.<span class="source_type">Gravity</span>.Z * GravityScale;
<a name="2986"></a>    else
<a name="2987"></a>        return <span class="source_int">14.5</span>*<span class="source_int">80</span> * GravityScale;
<a name="2988"></a>}
<a name="2989"></a>
<a name="2990"></a><span class="source_macro">#endif // END Unified Physics Interface
</span><a name="2991"></a>
<a name="2992"></a>
<a name="2993"></a><span class="source_macro">#if IG_TRIBES3_ADMIN   // glenn: admin support
</span><a name="2994"></a>
<a name="2995"></a>native final <span class="source_type">function</span> UpdateURL(<span class="source_type">string</span> NewOption, <span class="source_type">string</span> <span class="source_type">NewValue</span>, <span class="source_type">bool</span> bSaveDefault);
<a name="2996"></a>native final <span class="source_type">function</span> <span class="source_type">string</span> GetUrlOption(<span class="source_type">string</span> Option);
<a name="2997"></a>
<a name="2998"></a><span class="source_macro">#endif
</span><a name="2999"></a>
<a name="3000"></a><span class="source_macro">#if IG_TRIBES3 // dbeswick: this function is called to determine whether a projectile can hit this actor
</span><a name="3001"></a>simulated event <span class="source_type">bool</span> ShouldProjectileHit(<span class="source_type"><a href="../engine/actor.html" class="source">Actor</a></span> projInstigator)
<a name="3002"></a>{
<a name="3003"></a>	return bProjTarget && !bSkipEncroachment;
<a name="3004"></a>}
<a name="3005"></a><span class="source_macro">#endif
</span><a name="3006"></a>
<a name="3007"></a><span class="source_macro">#if IG_TRIBES3 // dbeswick: needed for turret to block splash
</span><a name="3008"></a>simulated event <span class="source_type">bool</span> ShouldActorsBlockSplash()
<a name="3009"></a>{
<a name="3010"></a>	return false;
<a name="3011"></a>}
<a name="3012"></a><span class="source_macro">#endif
</span><a name="3013"></a>
<a name="3014"></a><span class="source_macro">#if IG_TRIBES3 // speech manager precache
</span><a name="3015"></a>simulated event PrecacheSpeech(<span class="source_type"><a href="../engine/speechmanager.html" class="source">SpeechManager</a></span> Manager);
<a name="3016"></a><span class="source_macro">#endif
</span><a name="3017"></a>
<a name="3018"></a>defaultproperties
<a name="3019"></a>{
<a name="3020"></a>     DrawType=DT_Sprite
<a name="3021"></a>     <span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span>=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Engine_res.S_Actor'</span>
<a name="3022"></a>     DrawScale=+<span class="source_int">00001.000000</span>
<a name="3023"></a>	 MaxLights=<span class="source_int">4</span>
<a name="3024"></a>	 DrawScale3D=(X=<span class="source_int">1</span>,<span class="source_type">Y</span>=<span class="source_int">1</span>,Z=<span class="source_int">1</span>)
<a name="3025"></a><span class="source_comment">//#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications 
</span><a name="3026"></a><span class="source_comment">//     SoundRadius=64
</span><a name="3027"></a><span class="source_comment">//     SoundVolume=128
</span><a name="3028"></a><span class="source_comment">//     SoundPitch=64
</span><a name="3029"></a><span class="source_comment">//#endif
</span><a name="3030"></a>     ScaleGlow=<span class="source_int">1.0</span> 
<a name="3031"></a><span class="source_comment">//#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications 
</span><a name="3032"></a><span class="source_comment">//	 TransientSoundVolume=0.3 
</span><a name="3033"></a><span class="source_comment">//   TransientSoundRadius=300.0
</span><a name="3034"></a><span class="source_comment">//#endif
</span><a name="3035"></a>     CollisionRadius=+<span class="source_int">00022.000000</span>
<a name="3036"></a>     CollisionHeight=+<span class="source_int">00022.000000</span>
<a name="3037"></a>     bJustTeleported=True
<a name="3038"></a>     Mass=+<span class="source_int">00100.000000</span>
<a name="3039"></a>     Role=ROLE_Authority
<a name="3040"></a>     RemoteRole=ROLE_DumbProxy
<a name="3041"></a>     NetPriority=+<span class="source_int">00001.000000</span>
<a name="3042"></a>	 Style=STY_Normal
<a name="3043"></a>	 bMovable=True
<a name="3044"></a>	 bHighDetail=False
<a name="3045"></a>	 bSuperHighDetail=False
<a name="3046"></a>	 InitialState=None
<a name="3047"></a>	 NetUpdateFrequency=<span class="source_int">100</span>
<a name="3048"></a>	 LODBias=<span class="source_int">1.0</span>
<a name="3049"></a>	 MessageClass=<span class="source_type">class</span><span class="source_name">'LocalMessage'</span>
<a name="3050"></a>	 bHiddenEdGroup=False
<a name="3051"></a>	 bBlockZeroExtentTraces=true
<a name="3052"></a>	 bBlockNonZeroExtentTraces=true
<a name="3053"></a>	 bReplicateMovement=true
<a name="3054"></a><span class="source_comment">//#if !IG_DISABLE_UNREAL_ACTOR_SOUND_MANAGEMENT // ckline: use IG_EFFECTS system instead of old Unreal per-actor sound specifications 
</span><a name="3055"></a><span class="source_comment">//	 bScaleVolumeByLightBrightness = false
</span><a name="3056"></a><span class="source_comment">//#endif
</span><a name="3057"></a>	 CullDistance=<span class="source_int">0.0</span>
<a name="3058"></a>	 bAcceptsProjectors=false
<a name="3059"></a><span class="source_comment">//#if IG_SHARED // ckline: selectively prevent actors from receiving ShadowProjector shadows
</span><a name="3060"></a>    bAcceptsShadowProjectors=true
<a name="3061"></a><span class="source_comment">//#endif
</span><a name="3062"></a>     bLightingVisibility=True
<a name="3063"></a>     StaticFilterState=FS_Maybe
<a name="3064"></a>     bUseDynamicLights=True
<a name="3065"></a>     GravityScale=<span class="source_int">1.0</span>
<a name="3066"></a>
<a name="3067"></a><span class="source_comment">// #if IG_R // rowan: 
</span><a name="3068"></a>	bCastsVolumetricShadows = false
<a name="3069"></a>	bVolumetricShadowCast = false
<a name="3070"></a>	BumpmapLODScale = <span class="source_int">1</span>
<a name="3071"></a><span class="source_comment">// #endif
</span><a name="3072"></a>
<a name="3073"></a><span class="source_comment">// #if IG_SHARED
</span><a name="3074"></a>	MaxTraceDistance = <span class="source_int">5000</span>
<a name="3075"></a><span class="source_comment">// #endif
</span><a name="3076"></a>
<a name="3077"></a><span class="source_comment">// #if IG_SHARED 
</span><a name="3078"></a>    bOnlyAffectCurrentZone=false
<a name="3079"></a><span class="source_comment">// #endif
</span><a name="3080"></a>
<a name="3081"></a><span class="source_comment">// #if IG_SHARED // ckline: notifications upon Pawn death and Actor destruction
</span><a name="3082"></a>	bSendDestructionNotification=false
<a name="3083"></a><span class="source_comment">// #endif
</span><a name="3084"></a>
<a name="3085"></a><span class="source_comment">// #if IG_TRIBES3	// michaelj:  Added variables that allow filtering on level load
</span><a name="3086"></a>	minDifficulty = <span class="source_int">0</span>
<a name="3087"></a>	maxDifficulty = <span class="source_int">2</span>
<a name="3088"></a><span class="source_comment">// #endif
</span><a name="3089"></a>
<a name="3090"></a><span class="source_comment">// #if IG_TRIBES3 // Alex:
</span><a name="3091"></a>	bDisableHavokCollisionWhenAttached=false
<a name="3092"></a><span class="source_comment">// #endif
</span><a name="3093"></a>
<a name="3094"></a><span class="source_comment">// #if IG_EFFECTS // rowan: make this false for tribes... we will turn on in specific calsses as required
</span><a name="3095"></a>	bNeedLifetimeEffectEvents=false
<a name="3096"></a><span class="source_comment">// #endif
</span><a name="3097"></a>}
<a name="3098"></a></pre></td></tr></table></div>
<hr />
<table class="header">
<tr class="header">
	<td class="header"><a href="../overview.html">Overview</a></td>
	<td class="header"><a href="../engine/engine-overview.html">Package</a></td>
	<td class="header"><a href="../engine/actor.html">Class</a></td>
	<td class="header_hilight">Source</td>
	<td class="header"><a class="header" href="../classtree.html#Actor">Class tree</a></td>
	<td class="header"><a class="header" href="../glossary_A.html">Glossary</a></td>
	<td class="logo" rowspan="2">UnrealScript<br />Documentation</td>
</tr>
<tr>
	<td class="subheader" colspan="3"><a href="../Source_engine/accesscontrol.html">previous class</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="../Source_engine/admin.html">next class</a></td>
	<td class="subheader" colspan="2"><a href="../index.html" target="_top">frames</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="" target="_top">no frames</a></td>
</tr>
</table>

<div class="stats">Class file time: ne 5.9.2004 16:01:20.000 - Creation time: st 23.5.2018 00:10:40.813 - Created with <a href="http://wiki.beyondunreal.com/wiki/UnCodeX" target="_blank">UnCodeX</a></div>

</body>
</html>