<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>UnCodeX - Source: Gameplay.HavokCar</title>
	<meta name="Generator" content="UnCodeX 241" />
	<link rel="stylesheet" href="../DocStyle2.css" type="text/css" title="Original Purple" />
	<link rel="alternative stylesheet" href="../DocStyle2-blue.css" type="text/css" title="Blue" />
	<link rel="alternative stylesheet" href="../DocStyle2-red.css" type="text/css" title="Red" />
	<!--[if IE]>
	<link rel="stylesheet" href="../DocStyle2-msie.css" type="text/css" />
	<![endif]-->
	<script src="../styleswitcher.js" type="text/javascript"></script>
</head>
<body>

<div class="header">
<table class="header">
<tr class="header">
	<td class="header"><a href="../overview.html">Overview</a></td>
	<td class="header"><a href="../gameplay/gameplay-overview.html">Package</a></td>
	<td class="header"><a href="../gameplay/havokcar.html">Class</a></td>
	<td class="header_hilight">Source</td>
	<td class="header"><a class="header" href="../classtree.html#HavokCar">Class tree</a></td>
	<td class="header"><a class="header" href="../glossary_A.html">Glossary</a></td>
	<td class="logo" rowspan="2">UnrealScript<br />Documentation</td>
</tr>
<tr>
	<td class="subheader" colspan="3"><a href="../Source_gameplay/handgrenadeprojectile.html">previous class</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="../Source_gameplay/havokcarwheel.html">next class</a></td>
	<td class="subheader" colspan="2"><a href="../index.html#Source_gameplay/havokcar.html" target="_top">frames</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="" target="_top">no frames</a></td>
</tr>
</table>
</div>
<div class="spacer"></div>

<h1><a href="../gameplay/gameplay-overview.html">Gameplay</a>.<a href="../gameplay/havokcar.html">HavokCar</a></h1>
<br />
<div class="source"><table class="source"><tr><td class="source_lineno"><span class="source_lineno">00001<br />00002<br />00003<br />00004<br />00005<br />00006<br />00007<br />00008<br />00009<br />00010<br />00011<br />00012<br />00013<br />00014<br />00015<br />00016<br />00017<br />00018<br />00019<br />00020<br />
00021<br />00022<br />00023<br />00024<br />00025<br />00026<br />00027<br />00028<br />00029<br />00030<br />00031<br />00032<br />00033<br />00034<br />00035<br />00036<br />00037<br />00038<br />00039<br />00040<br />
00041<br />00042<br />00043<br />00044<br />00045<br />00046<br />00047<br />00048<br />00049<br />00050<br />00051<br />00052<br />00053<br />00054<br />00055<br />00056<br />00057<br />00058<br />00059<br />00060<br />
00061<br />00062<br />00063<br />00064<br />00065<br />00066<br />00067<br />00068<br />00069<br />00070<br />00071<br />00072<br />00073<br />00074<br />00075<br />00076<br />00077<br />00078<br />00079<br />00080<br />
00081<br />00082<br />00083<br />00084<br />00085<br />00086<br />00087<br />00088<br />00089<br />00090<br />00091<br />00092<br />00093<br />00094<br />00095<br />00096<br />00097<br />00098<br />00099<br />00100<br />
00101<br />00102<br />00103<br />00104<br />00105<br />00106<br />00107<br />00108<br />00109<br />00110<br />00111<br />00112<br />00113<br />00114<br />00115<br />00116<br />00117<br />00118<br />00119<br />00120<br />
00121<br />00122<br />00123<br />00124<br />00125<br />00126<br />00127<br />00128<br />00129<br />00130<br />00131<br />00132<br />00133<br />00134<br />00135<br />00136<br />00137<br />00138<br />00139<br />00140<br />
00141<br />00142<br />00143<br />00144<br />00145<br />00146<br />00147<br />00148<br />00149<br />00150<br />00151<br />00152<br />00153<br />00154<br />00155<br />00156<br />00157<br />00158<br />00159<br />00160<br />
00161<br />00162<br />00163<br />00164<br />00165<br />00166<br />00167<br />00168<br />00169<br />00170<br />00171<br />00172<br />00173<br />00174<br />00175<br />00176<br />00177<br />00178<br />00179<br />00180<br />
00181<br />00182<br />00183<br />00184<br />00185<br />00186<br />00187<br />00188<br />00189<br />00190<br />00191<br />00192<br />00193<br />00194<br />00195<br />00196<br />00197<br />00198<br />00199<br />00200<br />
00201<br />00202<br />00203<br />00204<br />00205<br />00206<br />00207<br />00208<br />00209<br />00210<br />00211<br />00212<br />00213<br />00214<br />00215<br />00216<br />00217<br />00218<br />00219<br />00220<br />
00221<br />00222<br />00223<br />00224<br />00225<br />00226<br />00227<br />00228<br />00229<br />00230<br />00231<br />00232<br />00233<br />00234<br />00235<br />00236<br />00237<br />00238<br />00239<br />00240<br />
00241<br />00242<br />00243<br />00244<br />00245<br />00246<br />00247<br />00248<br />00249<br />00250<br />00251<br />00252<br />00253<br />00254<br />00255<br />00256<br />00257<br />00258<br />00259<br />00260<br />
00261<br />00262<br />00263<br />00264<br />00265<br />00266<br />00267<br />00268<br />00269<br />00270<br />00271<br />00272<br />00273<br />00274<br />00275<br />00276<br />00277<br />00278<br />00279<br />00280<br />
00281<br />00282<br />00283<br />00284<br />00285<br />00286<br />00287<br />00288<br />00289<br />00290<br />00291<br />00292<br />00293<br />00294<br />00295<br />00296<br />00297<br />00298<br />00299<br />00300<br />
00301<br />00302<br />00303<br />00304<br />00305<br />00306<br />00307<br />00308<br />00309<br />00310<br />00311<br />00312<br />00313<br />00314<br />00315<br />00316<br />00317<br />00318<br />00319<br />00320<br />
00321<br />00322<br />00323<br />00324<br />00325<br />00326<br />00327<br />00328<br />00329<br />00330<br />00331<br />00332<br />00333<br />00334<br />00335<br />00336<br />00337<br />00338<br />00339<br />00340<br />
00341<br />00342<br />00343<br />00344<br />00345<br />00346<br />00347<br />00348<br />00349<br />00350<br />00351<br />00352<br />00353<br />00354<br />00355<br />00356<br />00357<br />00358<br />00359<br />00360<br />
00361<br />00362<br />00363<br />00364<br />00365<br />00366<br />00367<br />00368<br />00369<br />00370<br />00371<br />00372<br />00373<br />00374<br />00375<br />00376<br />00377<br />00378<br />00379<br />00380<br />
00381<br />00382<br />00383<br />00384<br />00385<br />00386<br />00387<br />00388<br />00389<br />00390<br />00391<br />00392<br />00393<br />00394<br />00395<br />00396<br />00397<br />00398<br />00399<br />00400<br />
00401<br />00402<br />00403<br />00404<br />00405<br />00406<br />00407<br />00408<br />00409<br />00410<br />00411<br />00412<br />00413<br />00414<br />00415<br />00416<br />00417<br />00418<br />00419<br />00420<br />
00421<br />00422<br />00423<br />00424<br />00425<br />00426<br />00427<br />00428<br />00429<br />00430<br />00431<br />00432<br />00433<br />00434<br />00435<br />00436<br />00437<br />00438<br />00439<br />00440<br />
00441<br />00442<br />00443<br />00444<br />00445<br />00446<br />00447<br />00448<br />00449<br />00450<br />00451<br />00452<br />00453<br />00454<br />00455<br />00456<br />00457<br />00458<br />00459<br />00460<br />
00461<br />00462<br />00463<br />00464<br />00465<br />00466<br />00467<br />00468<br />00469<br />00470<br />00471<br />00472<br />00473<br />00474<br />00475<br />00476<br />00477<br />00478<br />00479<br />00480<br />
00481<br />00482<br />00483<br />00484<br />00485<br />00486<br />00487<br />00488<br />00489<br />00490<br />00491<br />00492<br />00493<br />00494<br />00495<br />00496<br />00497<br />00498<br />00499<br />00500<br />
00501<br />00502<br />00503<br />00504<br />00505<br />00506<br />00507<br />00508<br />00509<br />00510<br />00511<br />00512<br />00513<br />00514<br />00515<br />00516<br />00517<br />00518<br />00519<br />00520
</span></td>
<td class="source"><pre class="source"><a name="0"></a><span class="source_type">class</span> <span class="source_type"><a href="../gameplay/havokcar.html" class="source">HavokCar</a></span> extends <span class="source_type"><a href="../gameplay/car.html" class="source">Car</a></span>
<a name="2"></a>	placeable
<a name="3"></a>	dependson(<span class="source_type"><a href="../gameplay/playercharactercontroller.html" class="source">PlayerCharacterController</a></span>)
<a name="4"></a>	native;
<a name="5"></a>
<a name="6"></a>cpptext
<a name="7"></a>{
<a name="8"></a><span class="source_macro">#ifdef UNREAL_HAVOK
</span><a name="9"></a>
<a name="10"></a>	<span class="source_comment">// Actor interface.
</span><a name="11"></a>	virtual <span class="source_type">bool</span> HavokInitActor();
<a name="12"></a>	virtual void HavokQuitActor();
<a name="13"></a>	
<a name="14"></a>	virtual void PostNetReceive();
<a name="15"></a>    virtual void PostEditChange();
<a name="16"></a>
<a name="17"></a>	virtual void TickAuthoritative(<span class="source_type">float</span> deltaSeconds);
<a name="18"></a>
<a name="19"></a>	virtual void HavokPreStepCallback(<span class="source_type">FLOAT</span> <span class="source_type">DeltaTime</span>);
<a name="20"></a>	
<a name="21"></a>	virtual void RemakeVehicle();  <span class="source_comment">// updates the internal Havok Raycast vehicle. Called by default in VehicleUpdateParams event, but you can call it whenever you change suspension params etc. No need to call this if you just chaneg steering + throtle in the UpdateVehicle event.
</span><a name="22"></a>	virtual void BuildVehicle();    <span class="source_comment">// constructs the vehicle, internal call from PostBeginPlay
</span><a name="23"></a>
<a name="24"></a>	virtual void syncVehicleToBones();
<a name="25"></a>
<a name="26"></a>	void havokCarSwitchClass(UClass* havokCarClass);
<a name="27"></a>	void switchWheelClasses(const TArray&lt;UClass*&gt;& newWheelClasses);
<a name="28"></a><span class="source_macro">#endif
</span><a name="29"></a>
<a name="30"></a>	<span class="source_type">bool</span> isHavokInitialised();
<a name="31"></a>
<a name="32"></a>	virtual void updateHavokCollisionFilter();
<a name="33"></a>}
<a name="34"></a>
<a name="35"></a>const HC_LINEAR_VELOCITY_ACCURACY_FACTOR = <span class="source_int">100</span>;
<a name="36"></a>const HC_LINEAR_VELOCITY_INVERSE_ACCURACY_FACTOR = <span class="source_int">0.01</span>;
<a name="37"></a>
<a name="38"></a>const HC_ANGULAR_VELOCITY_ACCURACY_FACTOR = <span class="source_int">1000</span>;
<a name="39"></a>const HC_ANGULAR_VELOCITY_INVERSE_ACCURACY_FACTOR = <span class="source_int">0.001</span>;
<a name="40"></a>
<a name="41"></a><span class="source_comment">// physical output from Havok, corresponds to other wheel arrays
</span><a name="42"></a>struct native <span class="source_type"><a href="../gameplay/havokcar.html#WheelOutput" class="source">WheelOutput</a></span>
<a name="43"></a>{
<a name="44"></a>	var <span class="source_type">float</span> skidEnergyDensity;
<a name="45"></a>	var <span class="source_type">float</span> suspensionLength;
<a name="46"></a>	var <span class="source_type">bool</span> groundContact;
<a name="47"></a>};
<a name="48"></a>var array&lt;<span class="source_type"><a href="../gameplay/havokcar.html#WheelOutput" class="source">WheelOutput</a></span>&gt; wheelsOutput;
<a name="49"></a>
<a name="50"></a><span class="source_comment">// will apply handbrake even if player has not done so
</span><a name="51"></a>var <span class="source_type">bool</span> systemHandbrake;
<a name="52"></a>
<a name="53"></a>var const transient <span class="source_type">int</span> hkVehicleDataPtr; <span class="source_comment">//the HavokVehicleData pointer for this vehicle (stores the couple of Havok ptrs required to interface with the Havok SDK)
</span><a name="54"></a>
<a name="55"></a>struct native <span class="source_type"><a href="../gameplay/havokcar.html#HavokCarReplicationState" class="source">HavokCarReplicationState</a></span>
<a name="56"></a>{
<a name="57"></a>	var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>  <span class="source_type">Position</span>;
<a name="58"></a>	var <span class="source_type"><a href="../core/object.html#Quat" class="source">quat</a></span> rotation;
<a name="59"></a>	var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>	LinVel;
<a name="60"></a>	var <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>	AngVel;
<a name="61"></a>
<a name="62"></a>	var <span class="source_type"><a href="../gameplay/playercharactercontroller.html" class="source">PlayerCharacterController</a></span>.<span class="source_type"><a href="../gameplay/playercharactercontroller.html#EDigitalAxisInput" class="source">EDigitalAxisInput</a></span> digitalThrottleInput;
<a name="63"></a>
<a name="64"></a>	var <span class="source_type"><a href="../gameplay/playercharactercontroller.html" class="source">PlayerCharacterController</a></span>.<span class="source_type"><a href="../gameplay/playercharactercontroller.html#EDigitalAxisInput" class="source">EDigitalAxisInput</a></span> digitalStrafeInput;
<a name="65"></a>
<a name="66"></a>	var	<span class="source_type">byte</span> serverSteering[<span class="source_int">2</span>];
<a name="67"></a>
<a name="68"></a>	var <span class="source_type">bool</span>				ServerBoost;
<a name="69"></a>	var <span class="source_type">bool</span>				ServerHandbrake;
<a name="70"></a>};
<a name="71"></a>
<a name="72"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) array&lt;<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/engine.html" class="source">Engine</a></span>.<span class="source_type"><a href="../engine/havokvehiclewheel.html" class="source">HavokVehicleWheel</a></span>&gt; &gt; wheelClasses;
<a name="73"></a>var array&lt;<span class="source_type">class</span>&lt;<span class="source_type"><a href="../gameplay/havokcarwheel.html" class="source">HavokCarWheel</a></span>&gt; &gt; havokCarWheelClasses;
<a name="74"></a>var editinline array&lt;<span class="source_type"><a href="../engine/engine.html" class="source">Engine</a></span>.<span class="source_type"><a href="../engine/havokvehiclewheel.html" class="source">HavokVehicleWheel</a></span>&gt;	Wheels;
<a name="75"></a>
<a name="76"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) editinline array&lt;<span class="source_type">float</span>&gt;						GearRatios; <span class="source_comment">//1 per gear, just add another value to get more gears. Gear ratios (3 == low speed, 0.5 == high speed)
</span><a name="77"></a>
<a name="78"></a><span class="source_comment">//// PHYSICS ////
</span><a name="79"></a>var (HavokVehicleGeneral) <span class="source_type">float</span>		ChassisMass; <span class="source_comment">//kg, 750;
</span><a name="80"></a>var (HavokVehicleGeneral) <span class="source_type">float</span>		MaxSpeedFullSteeringAngle; <span class="source_comment">//kph  (130.0f * (1.605f / 3.6f)) by default;
</span><a name="81"></a>var (HavokVehicleGeneral) <span class="source_type">float</span>		FrictionEqualizer; <span class="source_comment">//0.5f; 
</span><a name="82"></a>var (HavokVehicleGeneral) <span class="source_type">float</span>		TorqueRollFactor; <span class="source_comment">//0.25f; 
</span><a name="83"></a>var (HavokVehicleGeneral) <span class="source_type">float</span>		TorquePitchFactor; <span class="source_comment">// 0.5f; 
</span><a name="84"></a>var (HavokVehicleGeneral) <span class="source_type">float</span>		TorqueYawFactor; <span class="source_comment">//0.35f; 
</span><a name="85"></a>var (HavokVehicleGeneral) <span class="source_type">float</span>		TorqueExtraFactor; <span class="source_comment">//-0.5f; 
</span><a name="86"></a>var (HavokVehicleGeneral) <span class="source_type">float</span>		ChassisUnitInertiaYaw; <span class="source_comment">//1.0f; 
</span><a name="87"></a>var (HavokVehicleGeneral) <span class="source_type">float</span>		ChassisUnitInertiaRoll; <span class="source_comment">//0.4f; 
</span><a name="88"></a>var (HavokVehicleGeneral) <span class="source_type">float</span>		ChassisUnitInertiaPitch; <span class="source_comment">//1.0f; 
</span><a name="89"></a>
<a name="90"></a>	<span class="source_comment">// Engine Performance
</span><a name="91"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		EngineTorque; <span class="source_comment">//500.0f;
</span><a name="92"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		EngineMinRPM; <span class="source_comment">//1000.0f;
</span><a name="93"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		EngineOptRPM; <span class="source_comment">// 5500.0f;
</span><a name="94"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		EngineMaxRPM; <span class="source_comment">//7500.0f;
</span><a name="95"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		EngineTorqueFactorAtMinRPM; <span class="source_comment">// 0.8f;
</span><a name="96"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		EngineTorqueFactorAtMaxRPM; <span class="source_comment">// 0.8f;
</span><a name="97"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		EngineResistanceFactorAtMinRPM; <span class="source_comment">// 0.05f;
</span><a name="98"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		EngineResistanceFactorAtOptRPM; <span class="source_comment">// 0.1f;
</span><a name="99"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		EngineResistanceFactorAtMaxRPM; <span class="source_comment">// 0.3f;
</span><a name="100"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		GearDownshiftRPM; <span class="source_comment">//3500.0f;
</span><a name="101"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		GearUpshiftRPM; <span class="source_comment">// 6500.0f;
</span><a name="102"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		GearClutchDelayTime; <span class="source_comment">//0.0f;
</span><a name="103"></a>var (HavokVehicleEngine) <span class="source_type">float</span>		GearReverseRatio; <span class="source_comment">//1.0f;
</span><a name="104"></a>	
<a name="105"></a>	<span class="source_comment">// Aerodynamics
</span><a name="106"></a>var (HavokVehicleAerodynamics) <span class="source_type">float</span>	AerodynamicsAirDensity; <span class="source_comment">// 1.3f
</span><a name="107"></a>var (HavokVehicleAerodynamics) <span class="source_type">float</span>	AerodynamicsFrontalArea; <span class="source_comment">// 1 (m^2)
</span><a name="108"></a>var (HavokVehicleAerodynamics) <span class="source_type">float</span>	AerodynamicsDragCoeff; <span class="source_comment">//0.7f;
</span><a name="109"></a>var (HavokVehicleAerodynamics) <span class="source_type">float</span>	AerodynamicsLiftCoeff; <span class="source_comment">//-0.3f;
</span><a name="110"></a>var (HavokVehicleAerodynamics) <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span>	ExtraGravity; <span class="source_comment">// 0,0,-5
</span><a name="111"></a>var (HavokVehicleAerodynamics) <span class="source_type">float</span>	SpinDamping; <span class="source_comment">//1.0f; 
</span><a name="112"></a>var (HavokVehicleAerodynamics) <span class="source_type">float</span>	CollisionSpinDamping; <span class="source_comment">// 0.0f;
</span><a name="113"></a>var (HavokVehicleAerodynamics) <span class="source_type">float</span>	CollisionThreshold; <span class="source_comment">//4.0f; 
</span><a name="114"></a>
<a name="115"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">float</span> applyHandbrakeSpeed;
<a name="116"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">float</span> occupiedApplyHandbrakeSpeed;
<a name="117"></a>
<a name="118"></a>var <span class="source_type">int</span> leftFrontSkiddingEffectIndex;
<a name="119"></a>var <span class="source_type">int</span> leftRearSkiddingEffectIndex;
<a name="120"></a>var <span class="source_type">int</span> rightFrontSkiddingEffectIndex;
<a name="121"></a>var <span class="source_type">int</span> rightRearSkiddingEffectIndex;
<a name="122"></a>
<a name="123"></a>var	<span class="source_type"><a href="../gameplay/havokcar.html#HavokCarReplicationState" class="source">HavokCarReplicationState</a></span> ReplicationCarState;
<a name="124"></a>var	<span class="source_type"><a href="../gameplay/havokcar.html#HavokCarReplicationState" class="source">HavokCarReplicationState</a></span> OldReplicationCarState;
<a name="125"></a>
<a name="126"></a><span class="source_comment">// flags indicating whether or not a particular wheel parameter should be common for all wheels, wheel[0] is the authority
</span><a name="127"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">bool</span> commonWheelMass;
<a name="128"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">bool</span> commonWheelFriction;
<a name="129"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">bool</span> commonWheelViscosityFriction;
<a name="130"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">bool</span> commonSuspensionStrength;
<a name="131"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">bool</span> commonSuspensionDampingCompression;
<a name="132"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">bool</span> commonSuspensionDampingRelaxation;
<a name="133"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">bool</span> commonSuspensionTravel;
<a name="134"></a>
<a name="135"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">int</span> leftFrontWheelIndex;
<a name="136"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">int</span> leftRearWheelIndex;
<a name="137"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">int</span> rightFrontWheelIndex; 
<a name="138"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">int</span> rightRearWheelIndex;
<a name="139"></a>
<a name="140"></a><span class="source_comment">// skid energy at which skid effect is started
</span><a name="141"></a>var (<span class="source_type"><a href="../engine/havokvehicle.html" class="source">HavokVehicle</a></span>) <span class="source_type">float</span> skidEffectEnergyThreshold;
<a name="142"></a>
<a name="143"></a>replication
<a name="144"></a>{
<a name="145"></a>	unreliable if (Role == ROLE_Authority)
<a name="146"></a>		ReplicationCarState;
<a name="147"></a>}
<a name="148"></a>
<a name="149"></a>simulated <span class="source_type">function</span> PreBeginPlay()
<a name="150"></a>{
<a name="151"></a>	local <span class="source_type">int</span> <span class="source_type">index</span>;
<a name="152"></a>
<a name="153"></a>	super.PreBeginPlay();
<a name="154"></a>
<a name="155"></a>	<span class="source_comment">// initialise havok car wheel classes array
</span><a name="156"></a>	for (<span class="source_type">index</span> = <span class="source_int">0</span>; <span class="source_type">index</span> &lt; wheelClasses.length; ++<span class="source_type">index</span>)
<a name="157"></a>	{
<a name="158"></a>		havokCarWheelClasses[<span class="source_type">index</span>] = <span class="source_type">class</span>&lt;<span class="source_type"><a href="../gameplay/havokcarwheel.html" class="source">HavokCarWheel</a></span>&gt;(wheelClasses[<span class="source_type">index</span>]);
<a name="159"></a>	}
<a name="160"></a>}
<a name="161"></a>
<a name="162"></a><span class="source_comment">// Vehicles dont get telefragged.
</span><a name="163"></a>event EncroachedBy( <span class="source_type"><a href="../engine/actor.html" class="source">actor</a></span> <span class="source_type">Other</span> )
<a name="164"></a>{
<a name="165"></a>	Log(<span class="source_string">"HavokVehicle("</span>$self$<span class="source_string">") Encroached By: "</span>$<span class="source_type">Other</span>$<span class="source_string">"."</span>);
<a name="166"></a>}
<a name="167"></a>
<a name="168"></a>simulated <span class="source_type">function</span> FaceRotation( <span class="source_type"><a href="../core/object.html#Rotator" class="source">rotator</a></span> <span class="source_type">NewRotation</span>, <span class="source_type">float</span> <span class="source_type">DeltaTime</span> )
<a name="169"></a>{
<a name="170"></a>	<span class="source_comment">// Vehicles ignore 'face rotation'.
</span><a name="171"></a>}
<a name="172"></a>
<a name="173"></a>simulated <span class="source_type">function</span> initialiseEffects()
<a name="174"></a>{
<a name="175"></a>	super.initialiseEffects();
<a name="176"></a>
<a name="177"></a>	addEffect(<span class="source_name">'leftFrontSkidding'</span>, true, leftFrontSkiddingEffectIndex);
<a name="178"></a>	addEffect(<span class="source_name">'leftRearSkidding'</span>, true, leftRearSkiddingEffectIndex);
<a name="179"></a>	addEffect(<span class="source_name">'rightFrontSkidding'</span>, true, rightFrontSkiddingEffectIndex);
<a name="180"></a>	addEffect(<span class="source_name">'rightRearSkidding'</span>, true, rightRearSkiddingEffectIndex);
<a name="181"></a>}
<a name="182"></a>
<a name="183"></a>simulated <span class="source_type">function</span> <span class="source_type">tick</span>(<span class="source_type">float</span> deltaSeconds)
<a name="184"></a>{
<a name="185"></a>	<span class="source_comment">// apply hand brake if no driver and below threshold speed
</span><a name="186"></a>	if (Role == ROLE_Authority && positions[driverIndex].occupant == None && VSizeSquared(velocity) &lt; applyHandbrakeSpeed *
<a name="187"></a>			applyHandbrakeSpeed)
<a name="188"></a>		DiveInput = true;
<a name="189"></a>
<a name="190"></a>	<span class="source_comment">// apply hand brake if driver, no throttle and below threshold speed
</span><a name="191"></a>	if (Role == ROLE_Authority && positions[driverIndex].occupant != None && ThrottleInput == <span class="source_int">0</span> &&
<a name="192"></a>			VSizeSquared(velocity) &lt; occupiedApplyHandbrakeSpeed * occupiedApplyHandbrakeSpeed)
<a name="193"></a>		systemHandbrake = true;
<a name="194"></a>	else
<a name="195"></a>		systemHandbrake = false;
<a name="196"></a>
<a name="197"></a>	super.<span class="source_type">tick</span>(deltaSeconds);
<a name="198"></a>
<a name="199"></a>	<span class="source_comment">// apply replicated throttle if client
</span><a name="200"></a>	if (<span class="source_type">Level</span>.NetMode == NM_Client)
<a name="201"></a>	{
<a name="202"></a>		ThrottleInput = <span class="source_type">class</span><span class="source_name">'PlayerCharacterController'</span>.static.digitalToAnalogue(ReplicationCarState.digitalThrottleInput, <span class="source_int">1</span>);
<a name="203"></a>	}
<a name="204"></a>
<a name="205"></a>	<span class="source_comment">// apply replicated strafe if client
</span><a name="206"></a>	if (<span class="source_type">Level</span>.NetMode == NM_Client)
<a name="207"></a>	{
<a name="208"></a>		StrafeInput = <span class="source_type">class</span><span class="source_name">'PlayerCharacterController'</span>.static.digitalToAnalogue(ReplicationCarState.digitalStrafeInput, <span class="source_int">1</span>);
<a name="209"></a>	}
<a name="210"></a>
<a name="211"></a>	<span class="source_comment">// apply replicated handbrake to client
</span><a name="212"></a>	if (<span class="source_type">Level</span>.NetMode == NM_Client)
<a name="213"></a>	{
<a name="214"></a>		DiveInput = ReplicationCarState.serverHandBrake;
<a name="215"></a>	}
<a name="216"></a>
<a name="217"></a>	<span class="source_comment">// apply replicated boost to client
</span><a name="218"></a>	if (<span class="source_type">Level</span>.NetMode == NM_Client)
<a name="219"></a>	{
<a name="220"></a>		if (ReplicationCarState.serverBoost)
<a name="221"></a>			ThrustInput = <span class="source_int">1</span>;
<a name="222"></a>		else
<a name="223"></a>			ThrustInput = <span class="source_int">0</span>;
<a name="224"></a>	}
<a name="225"></a>}
<a name="226"></a>
<a name="227"></a><span class="source_comment">// Do script car model stuff here - in the UpdateVehicle you can change steering and throtle., if you change suspension sparams, number of wheels etc, call Remake
</span><a name="228"></a>simulated event UpdateVehicle( <span class="source_type">float</span> <span class="source_type">DeltaTime</span> );
<a name="229"></a>
<a name="230"></a><span class="source_comment">// Redo the vehicle params.. all of them:
</span><a name="231"></a>native <span class="source_type">function</span> RemakeVehicle();
<a name="232"></a>
<a name="233"></a>native simulated <span class="source_type">function</span> havokCarSwitchClass(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../gameplay/havokcar.html" class="source">HavokCar</a></span>&gt; havokCarClass);
<a name="234"></a>
<a name="235"></a><span class="source_comment">// should always be called before havokCarSwitchClass because havokCarSwitchClass actually triggers Havok to update
</span><a name="236"></a>native simulated <span class="source_type">function</span> switchWheelClasses(out array&lt;<span class="source_type">class</span>&lt;<span class="source_type"><a href="../gameplay/havokcarwheel.html" class="source">HavokCarWheel</a></span>&gt; &gt; newWheelClasses);
<a name="237"></a>
<a name="238"></a><span class="source_comment">// Do any general vehicle set-up when it gets spawned.
</span><a name="239"></a>simulated <span class="source_type">function</span> PostNetBeginPlay()
<a name="240"></a>{
<a name="241"></a>    Super.PostNetBeginPlay();
<a name="242"></a>
<a name="243"></a>	<span class="source_comment">// Make sure params are up to date? Should be anyway.
</span><a name="244"></a>	<span class="source_comment">// HavokVehicleHasChanged();
</span><a name="245"></a>}
<a name="246"></a>
<a name="247"></a><span class="source_comment">// Called when a parameter of the overall articulated actor has changed (like PostEditChange)
</span><a name="248"></a>simulated event HavokVehicleHasChanged()
<a name="249"></a>{
<a name="250"></a>	RemakeVehicle();
<a name="251"></a>}
<a name="252"></a>
<a name="253"></a><span class="source_comment">///////////////////////////////////////////
</span><a name="254"></a><span class="source_comment">/////////////// NETWORKING ////////////////
</span><a name="255"></a><span class="source_comment">///////////////////////////////////////////
</span><a name="256"></a>
<a name="257"></a><span class="source_type">function</span> <span class="source_type">bool</span> needToPushStateToClient()
<a name="258"></a>{
<a name="259"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> oldPos;
<a name="260"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> oldLinVel;
<a name="261"></a>	local <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> chassisPos, chassisLinVel, chassisAngVel;
<a name="262"></a>	local <span class="source_type"><a href="../engine/actor.html#HavokRigidBodyState" class="source">HavokRigidBodyState</a></span> chassisState;
<a name="263"></a>
<a name="264"></a>	<span class="source_comment">// see if state has changed enough, or enough time has passed, that we 
</span><a name="265"></a>	<span class="source_comment">// should send out another update by updating the state struct
</span><a name="266"></a>
<a name="267"></a>	<span class="source_comment">// get chassis state
</span><a name="268"></a>	HavokGetState(ChassisState);
<a name="269"></a>
<a name="270"></a>	chassisPos = ChassisState.<span class="source_type">Position</span>;
<a name="271"></a>	chassisLinVel = ChassisState.LinVel;
<a name="272"></a>	chassisAngVel = ChassisState.AngVel;
<a name="273"></a>
<a name="274"></a>	<span class="source_comment">// last position we sent
</span><a name="275"></a>	oldPos = ReplicationCarState.<span class="source_type">Position</span>;
<a name="276"></a>	oldLinVel = ReplicationCarState.LinVel;
<a name="277"></a>
<a name="278"></a>	if(VSize(oldPos - chassisPos) &gt; <span class="source_int">5</span> ||
<a name="279"></a>			VSize(oldLinVel - chassisLinVel) &gt; <span class="source_int">1</span>)<span class="source_comment">// ||
</span><a name="280"></a><span class="source_comment">//		Abs(ReplicationCarState.ServerTorque - OutputTorque) &gt; 0.1))// ||
</span><a name="281"></a>		<span class="source_comment">//			Abs(ReplicationCarState.ServerSteering - StrafeInput) &gt; 0.1))
</span><a name="282"></a>	{
<a name="283"></a>		return true;
<a name="284"></a>	}
<a name="285"></a>
<a name="286"></a>	return false;
<a name="287"></a>}
<a name="288"></a>
<a name="289"></a><span class="source_comment">// Pack current state of whole car into the state struct, to be sent to the client.
</span><a name="290"></a><span class="source_comment">// Should only get called on the server.
</span><a name="291"></a><span class="source_type">function</span> pushStateToClient()
<a name="292"></a>{
<a name="293"></a>	local <span class="source_type"><a href="../engine/actor.html#HavokRigidBodyState" class="source">HavokRigidBodyState</a></span> ChassisState;
<a name="294"></a>
<a name="295"></a>	HavokGetState(ChassisState);
<a name="296"></a>
<a name="297"></a>	ReplicationCarState.<span class="source_type">position</span> = HavokGetCenterOfMass();
<a name="298"></a>	ReplicationCarState.linVel = ChassisState.linVel * HC_LINEAR_VELOCITY_ACCURACY_FACTOR;
<a name="299"></a>	ReplicationCarState.rotation = ChassisState.quaternion;
<a name="300"></a>	ReplicationCarState.angVel = ChassisState.angVel * HC_ANGULAR_VELOCITY_ACCURACY_FACTOR;
<a name="301"></a>	ReplicationCarState.serverSteering[<span class="source_int">0</span>] = getLowByte(outputCarDirection);
<a name="302"></a>	ReplicationCarState.serverSteering[<span class="source_int">1</span>] = getHighByte(outputCarDirection);
<a name="303"></a>	ReplicationCarState.digitalThrottleInput = <span class="source_type">class</span><span class="source_name">'PlayerCharacterController'</span>.static.analogueToDigital(throttleInput, <span class="source_int">1</span>);
<a name="304"></a>	ReplicationCarState.digitalStrafeInput = <span class="source_type">class</span><span class="source_name">'PlayerCharacterController'</span>.static.analogueToDigital(strafeInput, <span class="source_int">1</span>);
<a name="305"></a>	if (systemHandbrake)
<a name="306"></a>		ReplicationCarState.serverHandbrake = true;
<a name="307"></a>	else
<a name="308"></a>		ReplicationCarState.serverHandbrake = diveInput;
<a name="309"></a>	ReplicationCarState.serverBoost = ThrustInput &gt; <span class="source_int">0.5</span>;
<a name="310"></a>}
<a name="311"></a>
<a name="312"></a>simulated event vehicleStateReceived()
<a name="313"></a>{
<a name="314"></a>	<span class="source_comment">// should never occur on server but just in case
</span><a name="315"></a>	if (Role == ROLE_Authority)
<a name="316"></a>		return;
<a name="317"></a>
<a name="318"></a>	super.vehicleStateReceived();
<a name="319"></a>
<a name="320"></a>	<span class="source_comment">//// don't do anything if car isn't started up
</span><a name="321"></a>	<span class="source_comment">//// ...
</span><a name="322"></a>
<a name="323"></a>	<span class="source_comment">// update control inputs
</span><a name="324"></a>	outputCarDirection = getAngle(ReplicationCarState.serverSteering[<span class="source_int">0</span>], ReplicationCarState.serverSteering[<span class="source_int">1</span>]);
<a name="325"></a>
<a name="326"></a>	<span class="source_comment">// throttle and handbrake are applied in tick()
</span><a name="327"></a>
<a name="328"></a>	<span class="source_comment">// update desired state
</span><a name="329"></a>	currentDesiredHavokState.<span class="source_type">position</span> = ReplicationCarState.<span class="source_type">position</span>;
<a name="330"></a>	currentDesiredHavokState.velocity = ReplicationCarState.linVel * HC_LINEAR_VELOCITY_INVERSE_ACCURACY_FACTOR;
<a name="331"></a>	currentDesiredHavokState.angularVelocity = ReplicationCarState.angVel * HC_ANGULAR_VELOCITY_INVERSE_ACCURACY_FACTOR;
<a name="332"></a>	currentDesiredHavokState.rotation = ReplicationCarState.rotation;
<a name="333"></a>	currentDesiredHavokState.newState = true;
<a name="334"></a>}
<a name="335"></a>
<a name="336"></a>simulated <span class="source_type">function</span> <span class="source_type">bool</span> isEffectCauserActive(<span class="source_type">int</span> effectCauserIndex)
<a name="337"></a>{
<a name="338"></a>	switch (effectCauserIndex)
<a name="339"></a>	{
<a name="340"></a>	case leftFrontSkiddingEffectIndex:
<a name="341"></a>		return wheelsOutput[leftFrontWheelIndex].skidEnergyDensity &gt; skidEffectEnergyThreshold;
<a name="342"></a>	case leftRearSkiddingEffectIndex:
<a name="343"></a>		return wheelsOutput[leftRearWheelIndex].skidEnergyDensity &gt; skidEffectEnergyThreshold;
<a name="344"></a>	case rightFrontSkiddingEffectIndex:
<a name="345"></a>		return wheelsOutput[rightFrontWheelIndex].skidEnergyDensity &gt; skidEffectEnergyThreshold;
<a name="346"></a>	case rightRearSkiddingEffectIndex:
<a name="347"></a>		return wheelsOutput[rightRearWheelIndex].skidEnergyDensity &gt; skidEffectEnergyThreshold;
<a name="348"></a>	}
<a name="349"></a>
<a name="350"></a>	return super.isEffectCauserActive(effectCauserIndex);
<a name="351"></a>}
<a name="352"></a>
<a name="353"></a>simulated <span class="source_type">function</span> updateDynamicEffectStates()
<a name="354"></a>{	
<a name="355"></a>	super.updateDynamicEffectStates();
<a name="356"></a>
<a name="357"></a>	<span class="source_comment">// update skidding effects
</span><a name="358"></a>	updateSkidEffect(leftFrontWheelIndex, leftFrontSkiddingEffectIndex);
<a name="359"></a>	updateSkidEffect(leftRearWheelIndex, leftRearSkiddingEffectIndex);
<a name="360"></a>	updateSkidEffect(rightFrontWheelIndex, rightFrontSkiddingEffectIndex);
<a name="361"></a>	updateSkidEffect(rightRearWheelIndex, rightRearSkiddingEffectIndex);
<a name="362"></a>}
<a name="363"></a>
<a name="364"></a>simulated <span class="source_type">function</span> updateSkidEffect(<span class="source_type">int</span> wheelIndex, <span class="source_type">int</span> effectIndex)
<a name="365"></a>{
<a name="366"></a>	local <span class="source_type">float</span> particlesPerSecondScale;
<a name="367"></a>
<a name="368"></a>	if (!<span class="source_type"><a href="../engine/effects.html" class="source">effects</a></span>[effectIndex].flag)
<a name="369"></a>		return;
<a name="370"></a>
<a name="371"></a><span class="source_comment">//	assert(effects[effectIndex].observer.emitter != None);
</span><a name="372"></a>
<a name="373"></a>	<span class="source_comment">// update particle system
</span><a name="374"></a>	particlesPerSecondScale = clamp((wheelsOutput[wheelIndex].skidEnergyDensity - skidEffectEnergyThreshold) / <span class="source_int">50</span>, <span class="source_int">0</span>, <span class="source_int">10</span>) + <span class="source_int">1</span>;
<a name="375"></a>	<span class="source_comment">//effects[effectIndex].observer.emitter.emitters[0].particlesPerSecond = particlesPerSecondScale *
</span><a name="376"></a>	<span class="source_comment">//		effects[effectIndex].observer.originalParticlesPerSecond;
</span><a name="377"></a>	<span class="source_comment">//effects[effectIndex].observer.emitter.emitters[0].InitialParticlesPerSecond =
</span><a name="378"></a>	<span class="source_comment">//		effects[effectIndex].observer.emitter.emitters[0].particlesPerSecond;
</span><a name="379"></a>	<span class="source_comment">//effects[effectIndex].observer.emitter.emitters[0].allParticlesDead = false;
</span><a name="380"></a>}
<a name="381"></a>
<a name="382"></a>simulated <span class="source_type">function</span> switchClass(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../gameplay/vehicle.html" class="source">Vehicle</a></span>&gt; switchClass)
<a name="383"></a>{
<a name="384"></a>	local <span class="source_type">class</span>&lt;<span class="source_type"><a href="../gameplay/havokcar.html" class="source">HavokCar</a></span>&gt; havokCarSwitchClassTarget;
<a name="385"></a>
<a name="386"></a>	super.switchClass(switchClass);
<a name="387"></a>
<a name="388"></a>	<span class="source_comment">// initialise actual switch class
</span><a name="389"></a>	havokCarSwitchClassTarget = <span class="source_type">class</span>&lt;<span class="source_type"><a href="../gameplay/havokcar.html" class="source">HavokCar</a></span>&gt;(switchClass);
<a name="390"></a>	
<a name="391"></a>	if (havokCarSwitchClassTarget == None)
<a name="392"></a>	{
<a name="393"></a>		warn(<span class="source_string">"bad switch class"</span>);
<a name="394"></a>		return;
<a name="395"></a>	}
<a name="396"></a>
<a name="397"></a>	<span class="source_comment">// do switch
</span><a name="398"></a>	havokCarSwitchClass(havokCarSwitchClassTarget);
<a name="399"></a>}
<a name="400"></a>
<a name="401"></a>simulated <span class="source_type">function</span> <span class="source_type">bool</span> isSettledUpsideDown()
<a name="402"></a>{
<a name="403"></a>	local <span class="source_type">int</span> wheelsInContact;
<a name="404"></a>	local <span class="source_type">int</span> wheelI;
<a name="405"></a>
<a name="406"></a>	<span class="source_comment">// true if no or one wheel contact and low speed
</span><a name="407"></a>	if (Physics == PHYS_Havok)
<a name="408"></a>	{
<a name="409"></a>		for (wheelI = <span class="source_int">0</span>; wheelI &lt; wheelsOutput.length; ++wheelI)
<a name="410"></a>		{
<a name="411"></a>			if (wheelsOutput[wheelI].groundContact)
<a name="412"></a>			{
<a name="413"></a>				++wheelsInContact;
<a name="414"></a>			}
<a name="415"></a>		}
<a name="416"></a>		if (wheelsInContact &lt; <span class="source_int">2</span> && VSizeSquared(velocity) &lt; (settledUpsideDownSpeed * settledUpsideDownSpeed))
<a name="417"></a>			return true;
<a name="418"></a>	}
<a name="419"></a>
<a name="420"></a>	return super.isSettledUpsideDown();
<a name="421"></a>}
<a name="422"></a>
<a name="423"></a>defaultproperties
<a name="424"></a>{
<a name="425"></a>	DrawType=DT_Mesh
<a name="426"></a>	<span class="source_type">Mesh</span>=SkeletalMesh<span class="source_name">'Vehicles.Buggy'</span>
<a name="427"></a>    
<a name="428"></a> 	bDrawDriverInTP=false
<a name="429"></a>
<a name="430"></a>    Physics=PHYS_Havok
<a name="431"></a>	bEdShouldSnap=True
<a name="432"></a>	bStatic=False
<a name="433"></a>	bShadowCast=False
<a name="434"></a>	bCollideActors=True
<a name="435"></a>	bCollideWorld=False
<a name="436"></a>    bProjTarget=True
<a name="437"></a>	bBlockActors=True
<a name="438"></a>	bBlockNonZeroExtentTraces=True
<a name="439"></a>	bBlockZeroExtentTraces=True
<a name="440"></a>	bBlockPlayers=True
<a name="441"></a>	bWorldGeometry=False
<a name="442"></a>	bBlockKarma=False
<a name="443"></a>	bBlockHavok=True
<a name="444"></a>    CollisionHeight=+<span class="source_int">000001.000000</span>
<a name="445"></a>	CollisionRadius=+<span class="source_int">000001.000000</span>
<a name="446"></a>	bAcceptsProjectors=False
<a name="447"></a>	bCanBeBaseForPawns=True
<a name="448"></a>	RemoteRole=ROLE_SimulatedProxy
<a name="449"></a>	bNetInitialRotation=True
<a name="450"></a>	bSpecialCalcView=True
<a name="451"></a>	<span class="source_comment">//bSpecialHUD=true
</span><a name="452"></a>	
<a name="453"></a>	<span class="source_comment">// Chassis
</span><a name="454"></a>	ChassisMass=<span class="source_int">750</span> <span class="source_comment">//kg, 750;
</span><a name="455"></a>	SteeringMaxAngle=<span class="source_int">4000</span> <span class="source_comment">// hkMath::HK_REAL_PI / 10.0f or so;
</span><a name="456"></a>	MaxSpeedFullSteeringAngle=<span class="source_int">70</span> <span class="source_comment">//kph  (130.0f * (1.605f / 3.6f)) by default in a lot of Havok demos;
</span><a name="457"></a>	FrictionEqualizer=<span class="source_int">0.5</span>
<a name="458"></a>	TorqueRollFactor=<span class="source_int">0.25</span>
<a name="459"></a>	TorquePitchFactor=<span class="source_int">0.5</span>
<a name="460"></a>	TorqueYawFactor=<span class="source_int">0.35</span> 
<a name="461"></a>	TorqueExtraFactor=-<span class="source_int">0.5</span>
<a name="462"></a>	ChassisUnitInertiaYaw=<span class="source_int">1.0</span>
<a name="463"></a>	ChassisUnitInertiaRoll=<span class="source_int">0.4</span>
<a name="464"></a>	ChassisUnitInertiaPitch=<span class="source_int">1.0</span>
<a name="465"></a>
<a name="466"></a>	<span class="source_comment">// Engine Performance
</span><a name="467"></a>	EngineTorque=<span class="source_int">500</span>
<a name="468"></a>	EngineMinRPM=<span class="source_int">1000</span>
<a name="469"></a>	EngineOptRPM=<span class="source_int">5500</span>
<a name="470"></a>	EngineMaxRPM=<span class="source_int">7500</span>
<a name="471"></a>	EngineTorqueFactorAtMinRPM=<span class="source_int">0.8</span>
<a name="472"></a>	EngineTorqueFactorAtMaxRPM=<span class="source_int">0.8</span>
<a name="473"></a>	EngineResistanceFactorAtMinRPM=<span class="source_int">0.05</span>
<a name="474"></a>	EngineResistanceFactorAtOptRPM=<span class="source_int">0.1</span>
<a name="475"></a>	EngineResistanceFactorAtMaxRPM=<span class="source_int">0.3</span>
<a name="476"></a>	GearDownshiftRPM=<span class="source_int">3500</span>
<a name="477"></a>	GearUpshiftRPM=<span class="source_int">6500</span>
<a name="478"></a>	GearClutchDelayTime=<span class="source_int">0</span>
<a name="479"></a>	GearReverseRatio=<span class="source_int">1</span>
<a name="480"></a>	TopSpeed=<span class="source_int">6500</span>
<a name="481"></a>	
<a name="482"></a>	<span class="source_comment">// Aerodynamics
</span><a name="483"></a>	AerodynamicsAirDensity=<span class="source_int">1.3</span>
<a name="484"></a>	AerodynamicsFrontalArea=<span class="source_int">1</span>
<a name="485"></a>	AerodynamicsDragCoeff=<span class="source_int">0.7</span>
<a name="486"></a>	AerodynamicsLiftCoeff=-<span class="source_int">0.3</span>
<a name="487"></a>	ExtraGravity=(X=<span class="source_int">0</span>,<span class="source_type">Y</span>=<span class="source_int">0</span>,Z=-<span class="source_int">5</span>)
<a name="488"></a>	SpinDamping=<span class="source_int">1</span>
<a name="489"></a>	CollisionSpinDamping=<span class="source_int">0</span>
<a name="490"></a>	CollisionThreshold=<span class="source_int">4</span>
<a name="491"></a>	
<a name="492"></a>	<span class="source_comment">// At least one gear, straight ratio of 1 
</span><a name="493"></a>	GearRatios(<span class="source_int">0</span>)=<span class="source_int">1</span>
<a name="494"></a>	
<a name="495"></a>	<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span>=<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Engine_res.Havok.S_HkVehicle'</span>
<a name="496"></a>	
<a name="497"></a>	HavokDataClass=<span class="source_type">class</span><span class="source_name">'BuggyHavokData'</span>
<a name="498"></a>
<a name="499"></a>	ReplicationCarState=(digitalThrottleInput=DAI_Zero)
<a name="500"></a>
<a name="501"></a>	applyHandbrakeSpeed = <span class="source_int">200</span>
<a name="502"></a>	occupiedApplyHandbrakeSpeed = <span class="source_int">500</span>
<a name="503"></a>
<a name="504"></a>	commonWheelMass = true
<a name="505"></a>	commonWheelFriction = true
<a name="506"></a>	commonWheelViscosityFriction = true
<a name="507"></a>	commonSuspensionStrength = true
<a name="508"></a>	commonSuspensionDampingCompression = true
<a name="509"></a>	commonSuspensionDampingRelaxation = true
<a name="510"></a>	commonSuspensionTravel = true
<a name="511"></a>
<a name="512"></a>	leftFrontWheelIndex = <span class="source_int">0</span>
<a name="513"></a>	leftRearWheelIndex = <span class="source_int">2</span>
<a name="514"></a>	rightFrontWheelIndex = <span class="source_int">1</span> 
<a name="515"></a>	rightRearWheelIndex = <span class="source_int">3</span>
<a name="516"></a>
<a name="517"></a>	skidEffectEnergyThreshold = <span class="source_int">25</span>
<a name="518"></a>
<a name="519"></a>	clientInterpolationHard = true
<a name="520"></a>}</pre></td></tr></table></div>
<hr />
<table class="header">
<tr class="header">
	<td class="header"><a href="../overview.html">Overview</a></td>
	<td class="header"><a href="../gameplay/gameplay-overview.html">Package</a></td>
	<td class="header"><a href="../gameplay/havokcar.html">Class</a></td>
	<td class="header_hilight">Source</td>
	<td class="header"><a class="header" href="../classtree.html#HavokCar">Class tree</a></td>
	<td class="header"><a class="header" href="../glossary_A.html">Glossary</a></td>
	<td class="logo" rowspan="2">UnrealScript<br />Documentation</td>
</tr>
<tr>
	<td class="subheader" colspan="3"><a href="../Source_gameplay/handgrenadeprojectile.html">previous class</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="../Source_gameplay/havokcarwheel.html">next class</a></td>
	<td class="subheader" colspan="2"><a href="../index.html" target="_top">frames</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="" target="_top">no frames</a></td>
</tr>
</table>

<div class="stats">Class file time: ne 5.9.2004 15:53:28.000 - Creation time: st 23.5.2018 00:10:44.062 - Created with <a href="http://wiki.beyondunreal.com/wiki/UnCodeX" target="_blank">UnCodeX</a></div>

</body>
</html>